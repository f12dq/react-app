(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3646:function(t,e,n){var r=n(7228);t.exports=function(t){if(Array.isArray(t))return r(t)}},9713:function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},6860:function(t){t.exports=function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},8206:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},319:function(t,e,n){var r=n(3646),i=n(6860),o=n(379),a=n(8206);t.exports=function(t){return r(t)||i(t)||o(t)||a()}},6099:function(t,e,n){"use strict";var r,i,o=n(655),a=n(4589),s=n(909),u=n(4594),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),f=new a.LL("app","Firebase",c),l="@firebase/app",h="[DEFAULT]",d=((i={})[l]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),v=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(t),this.container=new s.H0(e.name),this._addComponent(new s.wA("app",(function(){return u}),"PUBLIC"));try{for(var c=(0,o.XA)(this.firebase_.INTERNAL.components.values()),f=c.next();!f.done;f=c.next()){var l=f.value;this._addComponent(l)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=h),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=h),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw f.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw f.create("bad-app-name",{appName:String(s)});if((0,a.r3)(e,s))throw f.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new s.wA(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw f.create("invalid-log-argument",{appName:name});(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||h,!(0,a.r3)(e,t))throw f.create("no-app",{appName:t});return e[t]}function c(s){var u,c,l=s.name;if(n.has(l))return p.debug("There were multiple attempts to register component "+l+"."),"PUBLIC"===s.type?r[l]:null;if(n.set(l,s),"PUBLIC"===s.type){var h=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[l])throw f.create("invalid-app-argument",{appName:l});return t[l]()};void 0!==s.serviceProps&&(0,a.ZB)(h,s.serviceProps),r[l]=h,t.prototype[l]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,l).apply(this,s.multipleInstances?t:[])}}try{for(var d=(0,o.XA)(Object.keys(e)),v=d.next();!v.done;v=d.next()){var y=v.value;e[y]._addComponent(s)}}catch(m){u={error:m}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[l]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.ZB)(e,t)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new s.wA("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion(l,"0.6.14",e),t.registerVersion("fire-js","")}(w),e.Z=w},909:function(t,e,n){"use strict";n.d(e,{wA:function(){return o},H0:function(){return u}});var r=n(655),i=n(4589),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=(0,r.pi)({identifier:a,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(u){if(i)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(a)}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);try{var l=this.getOrInitializeService(f);c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.fl)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===a?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},4594:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,{in:function(){return o},Yd:function(){return l},Ub:function(){return h},Am:function(){return d}});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),f=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},l=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=f,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function h(t){a.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},4589:function(t,e,n){"use strict";n.d(e,{BH:function(){return s},LL:function(){return g},r3:function(){return _},ne:function(){return E},p$:function(){return o},ZB:function(){return a},z$:function(){return u},jU:function(){return l},ru:function(){return h},d:function(){return p},w1:function(){return v},uI:function(){return c},UG:function(){return f},b$:function(){return d},Mn:function(){return y}});var r=n(655),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e};function o(t){return a(void 0,t)}function a(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=a(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function f(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function l(){return"object"===typeof self&&self.self===self}function h(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function d(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function p(){return u().indexOf("Electron/")>=0}function v(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return u().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?b(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new m(i,s,r);return u},t}();function b(t,e){return t.replace(w,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var w=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=f^u&(c^f),a=1518500249):(o=u^c^f,a=1859775393):r<60?(o=u&c|f&(u|c),a=2400959708):(o=u^c^f,a=3395469782);i=(s<<5|s>>>27)+o+l+a+n[r]&4294967295;l=f,f=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function E(t,e){var n=new I(t,e);return n.subscribe.bind(n)}var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function T(){}},3872:function(t,e,n){var r,i;t.exports=(r=n(7294),i=n(3935),(()=>{var t={122:(t,e,n)=>{"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,{Z:()=>r})},788:(t,e,n)=>{"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,{Z:()=>r})},756:(t,e,n)=>{"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,{Z:()=>r})},184:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&t.push(a)}else if("object"===o)for(var s in n)r.call(n,s)&&n[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},722:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AutoFocusInside:()=>Ot,FocusLockUI:()=>T,FreeFocusInside:()=>At,InFocusGuard:()=>d,MoveFocusInside:()=>kt,default:()=>Pt,useFocusInside:()=>Nt});var r=n(756),i=n(122),o=n(297),a=n.n(o),s=(n(697),"data-focus-lock"),u="data-focus-lock-disabled",c="data-no-focus-lock",f="data-autofocus-inside",l={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},h=function(t){var e=t.children;return o.createElement(o.Fragment,null,o.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:l}),e,e&&o.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:l}))};h.propTypes={},h.defaultProps={children:null};const d=h;var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function v(t){return t}function y(t,e){void 0===e&&(e=v);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(t){var i=e(t,r);return n.push(i),function(){n=n.filter((function(t){return t!==i}))}},assignSyncMedium:function(t){for(r=!0;n.length;){var e=n;n=[],e.forEach(t)}n={push:function(e){return t(e)},filter:function(){return n}}},assignMedium:function(t){r=!0;var e=[];if(n.length){var i=n;n=[],i.forEach(t),e=n}var o=function(){var n=e;e=[],n.forEach(t)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(t){e.push(t),a()},filter:function(t){return e=e.filter(t),n}}}}}function m(t,e){return void 0===e&&(e=v),y(t,e)}var g=m({},(function(t){return{target:t.target,currentTarget:t.currentTarget}})),b=m(),w=m(),_=function(t){void 0===t&&(t={});var e=y(null);return e.options=p({async:!0,ssr:!1},t),e}({async:!0}),E=[],I=o.forwardRef((function(t,e){var n,r,a,c,f,h,d=o.useState(),p=d[0],v=d[1],y=o.useRef(),m=o.useRef(!1),w=o.useRef(null),I=t.children,T=t.disabled,O=t.noFocusGuards,N=t.persistentFocus,S=t.crossFrame,k=t.autoFocus,x=(t.allowTextSelection,t.group),A=t.className,P=t.whiteList,C=t.shards,D=void 0===C?E:C,j=t.as,R=void 0===j?"div":j,L=t.lockProps,M=void 0===L?{}:L,V=t.sideCar,U=t.returnFocus,F=t.onActivation,G=t.onDeactivation,q=o.useState({})[0],B=o.useCallback((function(){w.current=w.current||document&&document.activeElement,y.current&&F&&F(y.current),m.current=!0}),[F]),z=o.useCallback((function(){m.current=!1,G&&G(y.current)}),[G]),H=o.useCallback((function(t){var e=w.current;if(Boolean(U)&&e&&e.focus){var n="object"==typeof U?U:void 0;w.current=null,t?Promise.resolve().then((function(){return e.focus(n)})):e.focus(n)}}),[U]),K=o.useCallback((function(t){m.current&&g.useMedium(t)}),[]),J=b.useMedium,W=o.useCallback((function(t){y.current!==t&&(y.current=t,v(t))}),[]),Z=(0,i.Z)(((n={})[u]=T&&"disabled",n[s]=x,n),M),X=!0!==O,Y=X&&"tail"!==O,Q=(r=[e,W],c=a,f=function(t){return r.forEach((function(e){return function(t,e){return"function"==typeof t?t(e):t&&(t.current=e),t}(e,t)}))},(h=(0,o.useState)((function(){return{value:c,callback:f,facade:{get current(){return h.value},set current(t){var e=h.value;e!==t&&(h.value=t,h.callback(t,e))}}}}))[0]).callback=f,h.facade);return o.createElement(o.Fragment,null,X&&[o.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:T?-1:0,style:l}),o.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:T?-1:1,style:l})],!T&&o.createElement(V,{id:q,sideCar:_,observed:p,disabled:T,persistentFocus:N,crossFrame:S,autoFocus:k,whiteList:P,shards:D,onActivation:B,onDeactivation:z,returnFocus:H}),o.createElement(R,(0,i.Z)({ref:Q},Z,{className:A,onBlur:J,onFocus:K}),I),Y&&o.createElement("div",{"data-focus-guard":!0,tabIndex:T?-1:0,style:l}))}));I.propTypes={},I.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const T=I;var O=n(788),N=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},S=function(t){return Array.isArray(t)?t:[t]},k=function(t,e){var n=t.tabIndex-e.tabIndex,r=t.index-e.index;if(n){if(!t.tabIndex)return 1;if(!e.tabIndex)return-1}return n||r},x=function(t,e,n){return N(t).map((function(t,e){return{node:t,index:e,tabIndex:n&&-1===t.tabIndex?(t.dataset||{}).focusGuard?0:-1:t.tabIndex}})).filter((function(t){return!e||t.tabIndex>=0})).sort(k)};const A=["button:enabled:not([readonly])","select:enabled:not([readonly])","textarea:enabled:not([readonly])","input:enabled:not([readonly])","a[href]","area[href]","iframe","object","embed","[tabindex]","[contenteditable]","[autofocus]"];var P=A.join(","),C=P+", [data-focus-guard]",D=function(t,e){return t.reduce((function(t,n){return t.concat(N(n.querySelectorAll(e?C:P)),n.parentNode?N(n.parentNode.querySelectorAll(A.join(","))).filter((function(t){return t===n})):[])}),[])},j=function t(e){return!e||e===document||e.nodeType===Node.DOCUMENT_NODE||!((n=window.getComputedStyle(e,null))&&n.getPropertyValue&&("none"===n.getPropertyValue("display")||"hidden"===n.getPropertyValue("visibility")))&&t(e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode);var n},R=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.push(e),e.parentNode&&t(e.parentNode,n),n},L=function(t,e){for(var n=R(t),r=R(e),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},M=function(t){return N(t).filter((function(t){return j(t)})).filter((function(t){return function(t){return!(("INPUT"===t.tagName||"BUTTON"===t.tagName)&&("hidden"===t.type||t.disabled))}(t)}))},V=function(t,e){return x(M(D(t,e)),!0,e)},U=function(t){return x(M(D(t)),!1)},F=function(t){return"INPUT"===t.tagName&&"radio"===t.type},G=function(t,e){return F(t)&&t.name?function(t,e){return e.filter(F).filter((function(e){return e.name===t.name})).filter((function(t){return t.checked}))[0]||t}(t,e):t},q=function(t,e){return t.length>1?t.indexOf(G(t[e],t)):e};const B=function(t){return t[0]&&t.length>1?G(t[0],t):t[0]};var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H=function t(e){for(var n=e.length,r=0;r<n;r+=1)for(var i=function(n){if(r!==n&&e[r].contains(e[n]))return{v:t(e.filter((function(t){return t!==e[n]})))}},o=0;o<n;o+=1){var a=i(o);if("object"===(void 0===a?"undefined":z(a)))return a.v}return e},K=function t(e){return e.parentNode?t(e.parentNode):e};const J=function(t){return S(t).filter(Boolean).reduce((function(t,e){var n=e.getAttribute(s);return t.push.apply(t,n?H(N(K(e).querySelectorAll('[data-focus-lock="'+n+'"]:not(['+u+'="disabled"])'))):[e]),t}),[])};var W=function(t){return t&&t.dataset&&t.dataset.focusGuard},Z=function(t){return!W(t)},X=function(t,e,n){var r=S(t),i=S(e),o=r[0],a=null;return i.filter(Boolean).forEach((function(t){a=L(a||t,t)||a,n.filter(Boolean).forEach((function(t){var e=L(o,t);e&&(a=!a||e.contains(a)?e:L(e,a))}))})),a};const Y=function(t,e){var n=document&&document.activeElement,r=J(t).filter(Z),i=X(n||t,t,r),o=U(r),a=V(r).filter((function(t){var e=t.node;return Z(e)}));if(a[0]||(a=o)[0]){var s,u,c,l,h=U([i]).map((function(t){return t.node})),d=(s=h,u=a,c=new Map,u.forEach((function(t){return c.set(t.node,t)})),s.map((function(t){return c.get(t)})).filter(Boolean)),p=d.map((function(t){return t.node})),v=function(t,e,n,r){var i=t.length,o=t[0],a=t[i-1],s=W(n);if(!(t.indexOf(n)>=0)){var u,c,f=e.indexOf(n),l=e.indexOf(r||f),h=t.indexOf(r),d=f-l,p=e.indexOf(o),v=e.indexOf(a),y=(u=e,c=new Set,u.forEach((function(t){return c.add(G(t,u))})),u.filter((function(t){return c.has(t)}))),m=y.indexOf(n)-y.indexOf(r||f),g=q(t,0),b=q(t,i-1);return-1===f||-1===h?"NEW_FOCUS":!d&&h>=0?h:f<=p&&s&&Math.abs(d)>1?b:f>=v&&s&&Math.abs(d)>1?g:d&&Math.abs(m)>1?h:f<=p?b:f>v?g:d?Math.abs(d)>1?h:(i+h+d)%i:void 0}}(p,h,n,e);if("NEW_FOCUS"===v){var y=o.map((function(t){return t.node})).filter((l=function(t){return t.reduce((function(t,e){return t.concat(function(t){return M((e=t.querySelectorAll("["+f+"]"),N(e).map((function(t){return D([t])})).reduce((function(t,e){return t.concat(e)}),[])));var e}(e))}),[])}(r),function(t){return!!t.autofocus||t.dataset&&!!t.dataset.autofocus||l.indexOf(t)>=0}));return{node:y&&y.length?B(y):B(p)}}return void 0===v?v:d[v]}};var Q=0,$=!1;const tt=function(t,e){var n,r=Y(t,e);if(!$&&r){if(Q>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),$=!0,void setTimeout((function(){$=!1}),1);Q++,(n=r.node).focus(),n.contentWindow&&n.contentWindow.focus(),Q--}};var et=function(t){return t===document.activeElement};const nt=function(t){var e=document&&document.activeElement;return!(!e||e.dataset&&e.dataset.focusGuard)&&J(t).reduce((function(t,n){return t||n.contains(e)||function(t){return e=N(t.querySelectorAll("iframe")),n=et,!!e.filter((function(t){return t===n}))[0];var e,n}(n)}),!1)};function rt(t){var e=window.setImmediate;void 0!==e?e(t):setTimeout(t,1)}var it=function(t,e){var n={};return n[t]=e,n},ot=function(){return document&&document.activeElement===document.body||document&&N(document.querySelectorAll("["+c+"]")).some((function(t){return t.contains(document.activeElement)}))},at=null,st=null,ut=null,ct=!1,ft=function(){return!0};function lt(t,e,n,r){var i=null,o=t;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else{if(!a.lockItem)break;if(o!==t)return;i=null}}while((o+=n)!==e);i&&(i.node.tabIndex=0)}var ht=function(t){return t&&"current"in t?t.current:t},dt=function(){var t,e,n,r,i,o,a=!1;if(at){var s=at,u=s.observed,c=s.persistentFocus,f=s.autoFocus,l=s.shards,h=s.crossFrame,d=u||ut&&ut.portaledElement,p=document&&document.activeElement;if(d){var v=[d].concat(l.map(ht).filter(Boolean));if(p&&!function(t){return(at.whiteList||ft)(t)}(p)||(c||(h?Boolean(ct):"meanwhile"===ct)||!ot()||!st&&f)&&(!d||nt(v)||(o=p,ut&&ut.portaledElement===o)||(document&&!st&&p&&!f?(p.blur&&p.blur(),document.body.focus()):(a=tt(v,st),ut={})),ct=!1,st=document&&document.activeElement),document){var y=document&&document.activeElement,m=(e=J(t=v).filter(Z),n=X(t,t,e),r=V([n],!0),i=V(e).filter((function(t){var e=t.node;return Z(e)})).map((function(t){return t.node})),r.map((function(t){var e=t.node;return{node:e,index:t.index,lockItem:i.indexOf(e)>=0,guard:W(e)}}))),g=m.map((function(t){return t.node})).indexOf(y);g>-1&&(m.filter((function(t){var e=t.guard,n=t.node;return e&&n.dataset.focusAutoGuard})).forEach((function(t){return t.node.removeAttribute("tabIndex")})),lt(g,m.length,1,m),lt(g,-1,-1,m))}}}return a},pt=function(t){dt()&&t&&(t.stopPropagation(),t.preventDefault())},vt=function(){return rt(dt)},yt=function(){ct="just",setTimeout((function(){ct="meanwhile"}),0)};g.assignSyncMedium((function(t){var e=t.target,n=t.currentTarget;n.contains(e)||(ut={observerNode:n,portaledElement:e})})),b.assignMedium(vt),w.assignMedium((function(t){return t({moveFocusInside:tt,focusInside:nt})}));const mt=(gt=function(t){return t.filter((function(t){return!t.disabled}))},bt=function(t){var e=t.slice(-1)[0];e&&!at&&(document.addEventListener("focusin",pt,!0),document.addEventListener("focusout",vt),window.addEventListener("blur",yt));var n=at,r=n&&e&&e.id===n.id;at=e,n&&!r&&(n.onDeactivation(),t.filter((function(t){return t.id===n.id})).length||n.returnFocus(!e)),e?(st=null,r&&n.observed===e.observed||e.onActivation(),dt(),rt(dt)):(document.removeEventListener("focusin",pt,!0),document.removeEventListener("focusout",vt),window.removeEventListener("blur",yt),st=null)},function(t){var e,n=[];function r(){e=gt(n.map((function(t){return t.props}))),bt(e)}var i,s,u,c=function(i){function o(){return i.apply(this,arguments)||this}(0,O.Z)(o,i),o.peek=function(){return e};var s=o.prototype;return s.componentDidMount=function(){n.push(this),r()},s.componentDidUpdate=function(){r()},s.componentWillUnmount=function(){var t=n.indexOf(this);n.splice(t,1),r()},s.render=function(){return a().createElement(t,this.props)},o}(o.PureComponent);return i=c,s="displayName",u="SideEffect("+function(t){return t.displayName||t.name||"Component"}(t)+")",s in i?Object.defineProperty(i,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[s]=u,c})((function(){return null}));var gt,bt,wt=o.forwardRef((function(t,e){return o.createElement(T,(0,i.Z)({sideCar:mt,ref:e},t))})),_t=T.propTypes||{},Et=(_t.sideCar,(0,r.Z)(_t,["sideCar"]));wt.propTypes=Et;const It=wt;var Tt=function(t){var e=t.disabled,n=t.children,r=t.className;return o.createElement("div",(0,i.Z)({},it(f,!e),{className:r}),n)};Tt.propTypes={},Tt.defaultProps={disabled:!1,className:void 0};const Ot=Tt;var Nt=function(t){o.useEffect((function(){var e=!0;return w.useMedium((function(n){var r=t&&t.current;e&&r&&(n.focusInside(r)||n.moveFocusInside(r,null))})),function(){e=!1}}),[t])};function St(t){var e=t.disabled,n=t.className,r=t.children,a=o.useRef(null);return Nt(e?void 0:a),o.createElement("div",(0,i.Z)({},it(f,!e),{ref:a,className:n}),r)}St.propTypes={},St.defaultProps={disabled:!1,className:void 0};const kt=St;var xt=function(t){var e=t.children,n=t.className;return o.createElement("div",(0,i.Z)({},it(c,!0),{className:n}),e)};xt.propTypes={},xt.defaultProps={className:void 0};const At=xt,Pt=It},391:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CSSTransition:()=>I,ReplaceTransition:()=>P,SwitchTransition:()=>F,Transition:()=>w,TransitionGroup:()=>x,config:()=>l});var r=n(122),i=n(756),o=n(788);function a(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}n(697);var s=n(297),u=n.n(s),c=n(268),f=n.n(c);const l={disabled:!1},h=u().createContext(null);var d="unmounted",p="exited",v="entering",y="entered",m="exiting",g=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=p,r.appearStatus=v):i=y:i=e.unmountOnExit||e.mountOnEnter?d:p,r.state={status:i},r.nextCallback=null,r}(0,o.Z)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===d?{status:p}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==v&&n!==y&&(e=v):n!==v&&n!==y||(e=m)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===v?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:d})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[f().findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!t&&!n||l.disabled?this.safeSetState({status:y},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:v},(function(){e.props.onEntering(o,a),e.onTransitionEnd(u,(function(){e.safeSetState({status:y},(function(){e.props.onEntered(o,a)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:f().findDOMNode(this);e&&!l.disabled?(this.props.onExit(r),this.safeSetState({status:m},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:p},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:p},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:f().findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===d)return null;var e=this.props,n=e.children,r=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,i.Z)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return u().createElement(h.Provider,{value:null},"function"==typeof n?n(t,r):u().cloneElement(u().Children.only(n),r))},e}(u().Component);function b(){}g.contextType=h,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},g.UNMOUNTED=d,g.EXITED=p,g.ENTERING=v,g.ENTERED=y,g.EXITING=m;const w=g;var _=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return r=e,void((n=t).classList?n.classList.remove(r):"string"==typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},E=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var r=e.resolveArguments(t,n),i=r[0],o=r[1];e.removeClasses(i,"exit"),e.addClass(i,o?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.resolveArguments(t,n),i=r[0],o=r[1]?"appear":"enter";e.addClass(i,o,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.resolveArguments(t,n),i=r[0],o=r[1]?"appear":"enter";e.removeClasses(i,o),e.addClass(i,o,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t)[0];e.addClass(n,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}(0,o.Z)(e,t);var n=e.prototype;return n.addClass=function(t,e,n){var r=this.getClassNames(e)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===e&&"done"===n&&i&&(r+=" "+i),"active"===n&&t&&t.scrollTop,r&&(this.appliedClasses[e][n]=r,function(t,e){t&&e&&e.split(" ").forEach((function(e){return r=e,void((n=t).classList?n.classList.add(r):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(t,r))},n.removeClasses=function(t,e){var n=this.appliedClasses[e],r=n.base,i=n.active,o=n.done;this.appliedClasses[e]={},r&&_(t,r),i&&_(t,i),o&&_(t,o)},n.render=function(){var t=this.props,e=(t.classNames,(0,i.Z)(t,["classNames"]));return u().createElement(w,(0,r.Z)({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(u().Component);E.defaultProps={classNames:""},E.propTypes={};const I=E;function T(t,e){var n=Object.create(null);return t&&s.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,s.isValidElement)(t)?e(t):t}(t)})),n}function O(t,e,n){return null!=n[e]?n[e]:t.props[e]}function N(t,e,n){var r=T(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(e,r);return Object.keys(i).forEach((function(o){var a=i[o];if((0,s.isValidElement)(a)){var u=o in e,c=o in r,f=e[o],l=(0,s.isValidElement)(f)&&!f.props.in;!c||u&&!l?c||!u||l?c&&u&&(0,s.isValidElement)(f)&&(i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:f.props.in,exit:O(a,"exit",t),enter:O(a,"enter",t)})):i[o]=(0,s.cloneElement)(a,{in:!1}):i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:O(a,"exit",t),enter:O(a,"enter",t)})}})),i}var S=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},k=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,o.Z)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,i=e.children,o=e.handleExited;return{children:e.firstRender?(n=t,r=o,T(n.children,(function(t){return(0,s.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:O(t,"appear",n),enter:O(t,"enter",n),exit:O(t,"exit",n)})}))):N(t,i,o),firstRender:!1}},n.handleExited=function(t,e){var n=T(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,r.Z)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=(0,i.Z)(t,["component","childFactory"]),o=this.state.contextValue,a=S(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?u().createElement(h.Provider,{value:o},a):u().createElement(h.Provider,{value:o},u().createElement(e,r,a))},e}(u().Component);k.propTypes={},k.defaultProps={component:"div",childFactory:function(t){return t}};const x=k;var A=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handleEnter=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEnter",0,n)},e.handleEntering=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntering",0,n)},e.handleEntered=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntered",0,n)},e.handleExit=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExit",1,n)},e.handleExiting=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExiting",1,n)},e.handleExited=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExited",1,n)},e}(0,o.Z)(e,t);var n=e.prototype;return n.handleLifecycle=function(t,e,n){var r,i=this.props.children,o=u().Children.toArray(i)[e];if(o.props[t]&&(r=o.props)[t].apply(r,n),this.props[t]){var a=o.props.nodeRef?void 0:f().findDOMNode(this);this.props[t](a)}},n.render=function(){var t=this.props,e=t.children,n=t.in,r=(0,i.Z)(t,["children","in"]),o=u().Children.toArray(e),a=o[0],s=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,u().createElement(x,r,n?u().cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):u().cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},e}(u().Component);A.propTypes={};const P=A;var C,D,j="out-in",R="in-out",L=function(t,e,n){return function(){var r;t.props[e]&&(r=t.props)[e].apply(r,arguments),n()}},M=((C={})["out-in"]=function(t){var e=t.current,n=t.changeState;return u().cloneElement(e,{in:!1,onExited:L(e,"onExited",(function(){n(v,null)}))})},C[R]=function(t){var e=t.current,n=t.changeState,r=t.children;return[e,u().cloneElement(r,{in:!0,onEntered:L(r,"onEntered",(function(){n(v)}))})]},C),V=((D={})["out-in"]=function(t){var e=t.children,n=t.changeState;return u().cloneElement(e,{in:!0,onEntered:L(e,"onEntered",(function(){n(y,u().cloneElement(e,{in:!0}))}))})},D[R]=function(t){var e=t.current,n=t.children,r=t.changeState;return[u().cloneElement(e,{in:!1,onExited:L(e,"onExited",(function(){r(y,u().cloneElement(n,{in:!0}))}))}),u().cloneElement(n,{in:!0})]},D),U=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={status:y,current:null},e.appeared=!1,e.changeState=function(t,n){void 0===n&&(n=e.state.current),e.setState({status:t,current:n})},e}(0,o.Z)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(t,e){return null==t.children?{current:null}:e.status===v&&t.mode===R?{status:v}:!e.current||(n=e.current)===(r=t.children)||u().isValidElement(n)&&u().isValidElement(r)&&null!=n.key&&n.key===r.key?{current:u().cloneElement(t.children,{in:!0})}:{status:m};var n,r},n.render=function(){var t,e=this.props,n=e.children,r=e.mode,i=this.state,o=i.status,a=i.current,s={children:n,current:a,changeState:this.changeState,status:o};switch(o){case v:t=V[r](s);break;case m:t=M[r](s);break;case y:t=a}return u().createElement(h.Provider,{value:{isMounting:!this.appeared}},t)},e}(u().Component);U.propTypes={},U.defaultProps={mode:j};const F=U},745:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NeutralIcon=e.SuccessIcon=e.DangerIcon=e.WarningIcon=e.InfoIcon=void 0;var c,f=a(n(297)),l=u(n(184)),h=n(983);!function(t){t[t.success=0]="success",t[t.danger=1]="danger",t[t.warning=2]="warning",t[t.info=3]="info",t[t.neutral=4]="neutral"}(c||(c={})),e.InfoIcon=function(t){return f.default.createElement("svg",r({},t,{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor"}),f.default.createElement("path",{d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))},e.WarningIcon=function(t){return f.default.createElement("svg",r({},t,{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor"}),f.default.createElement("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))},e.DangerIcon=function(t){return f.default.createElement("svg",r({},t,{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor"}),f.default.createElement("path",{d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}))},e.SuccessIcon=function(t){return f.default.createElement("svg",r({},t,{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor"}),f.default.createElement("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))},e.NeutralIcon=function(t){return f.default.createElement("svg",r({},t,{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor"}),f.default.createElement("path",{d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))};var d=f.default.forwardRef((function(t,n){var i,o=t.className,a=t.children,u=t.type,c=void 0===u?"neutral":u,d=t.onClose,p=s(t,["className","children","type","onClose"]),v=f.useContext(h.ThemeContext).theme.alert,y=v.base,m=v.withClose,g=v[c],b=v.icon.base,w=v.icon[c];switch(c){case"success":i=e.SuccessIcon;break;case"warning":i=e.WarningIcon;break;case"danger":i=e.DangerIcon;break;case"info":i=e.InfoIcon;break;case"neutral":i=e.NeutralIcon;break;default:i=e.NeutralIcon}var _=l.default(y,g,d&&m,o),E=l.default(b,w,"absolute left-0 top-0 ml-4 mt-4"),I=l.default(b,w);return f.default.createElement("div",r({className:_,role:"alert",ref:n},p),d&&f.default.createElement("button",{onClick:d,className:"absolute top-0 right-0 mt-4 mr-4","aria-label":"close"},f.default.createElement("svg",{className:I,fill:"currentColor",viewBox:"0 0 20 20",role:"img","aria-hidden":"true"},f.default.createElement("path",{d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd",fillRule:"evenodd"}))),f.default.createElement(i,{className:E}),a)}));e.default=d},25:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.size,i=void 0===n?"regular":n,o=t.src,a=t.alt,u=t.className,h=s(t,["size","src","alt","className"]),d=c.useContext(l.ThemeContext).theme.avatar,p=d.base,v={large:d.size.large,regular:d.size.regular,small:d.size.small},y=f.default(p,v[i],u);return c.default.createElement("div",r({className:y,ref:e},h),c.default.createElement("img",{className:"object-cover w-full h-full rounded-full",src:o,alt:a,loading:"lazy"}),c.default.createElement("div",{className:"absolute inset-0 rounded-full shadow-inner","aria-hidden":"true"}))}));e.default=h},119:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=s(t,["className"]),o=c.useContext(l.ThemeContext).theme.backdrop.base,a=f.default(o,n);return c.default.createElement("div",r({className:a,ref:e},i))}));e.default=h},558:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=t.children,o=t.type,a=void 0===o?"primary":o,u=s(t,["className","children","type"]),h=c.useContext(l.ThemeContext).theme.badge,d=h.base,p={success:h.success,danger:h.danger,warning:h.warning,neutral:h.neutral,primary:h.primary},v=f.default(d,p[a],n);return c.default.createElement("span",r({className:v,ref:e},u),i)}));e.default=h},753:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=u(n(184)),f=a(n(297)),l=n(983),h=u(n(920)),d=f.default.forwardRef((function(t,e){var n=t.tag,i=void 0===n?"button":n,o=t.type,a=void 0===o?"button"===i?"button":void 0:o,u=t.disabled,d=void 0!==u&&u,p=t.size,v=void 0===p?"regular":p,y=t.layout,m=void 0===y?"primary":y,g=t.block,b=void 0!==g&&g,w=t.icon,_=t.iconLeft,E=t.iconRight,I=t.className,T=t.children,O=s(t,["tag","type","disabled","size","layout","block","icon","iconLeft","iconRight","className","children"]),N=f.useContext(l.ThemeContext).theme.button;function S(){return!!w||!!_||!!E}h.default(S()&&!O["aria-label"]&&!T,"Button",'You are using an icon button, but no "aria-label" attribute was found. Add an "aria-label" attribute to work as a label for screen readers.');var k=_||w,x=E,A=N.base,P=N.block,C={larger:N.size.larger,large:N.size.large,regular:N.size.regular,small:N.size.small,pagination:N.size.pagination},D={larger:N.size.icon.larger,large:N.size.icon.large,regular:N.size.icon.regular,small:N.size.icon.small,pagination:N.size.icon.regular},j=N.icon[v],R={primary:N.primary.base,outline:N.outline.base,link:N.link.base},L={primary:N.primary.active,outline:N.outline.active,link:N.link.active},M={primary:N.primary.disabled,outline:N.outline.disabled,link:N.link.disabled},V=N.dropdownItem.base,U="__dropdownItem"===m?c.default(V,I):c.default(A,S()&&!T&&D[v],S()&&T&&C[v],!S()&&C[v],R[m],d?M[m]:L[m],b?P:null,I),F=c.default(j,T?N.icon.left:""),G=c.default(j,T?N.icon.right:"");return f.default.createElement(i,r({className:U,ref:e,disabled:d,type:a},O),k?f.default.createElement(k,{className:F,"aria-hidden":!0}):null,T,x?f.default.createElement(x,{className:G,"aria-hidden":!0}):null)}));e.default=d},918:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=t.children,o=t.colored,a=void 0!==o&&o,u=s(t,["className","children","colored"]),h=c.useContext(l.ThemeContext).theme.card,d=h.base,p=h.default,v=f.default(d,!a&&p,n);return c.default.createElement("div",r({className:v,ref:e},u),i)}));e.default=h},715:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=t.children,o=s(t,["className","children"]),a=c.useContext(l.ThemeContext).theme.cardBody.base,u=f.default(a,n);return c.default.createElement("div",r({className:u,ref:e},o),i)}));e.default=h},971:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=u(n(236)),d=u(n(722)),p=c.default.forwardRef((function(t,e){var n=t.children,i=t.onClose,o=t.isOpen,a=t.className,u=t.align,p=void 0===u?"left":u,v=s(t,["children","onClose","isOpen","className","align"]),y=c.useContext(l.ThemeContext).theme.dropdown,m=y.base,g=y.align[p];function b(t){"Esc"!==t.key&&"Escape"!==t.key||i()}var w=c.useRef(null);function _(t){w.current&&!w.current.contains(t.target)&&i()}c.useEffect((function(){return document.addEventListener("click",_,{capture:!0}),document.addEventListener("keydown",b,{capture:!0}),function(){document.removeEventListener("click",_),document.removeEventListener("keydown",b)}}),[o]);var E=f.default(m,g,a);return c.default.createElement(h.default,{show:o,leave:"transition ease-out duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0"},c.default.createElement("div",{ref:e},c.default.createElement(d.default,{returnFocus:!0},c.default.createElement("ul",r({className:E,ref:w,"aria-label":"submenu"},v),n))))}));e.default=p},689:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(753)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.children,i=s(t,["children"]),o=c.useContext(l.ThemeContext).theme.dropdownItem.base;return c.default.createElement("li",{className:o},c.default.createElement(f.default,r({layout:"__dropdownItem",ref:e},i),n))}));e.default=h},747:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.children,i=t.valid,o=t.className,a=s(t,["children","valid","className"]),u=c.useContext(l.ThemeContext).theme.helperText,h=u.base,d=u.valid,p=u.invalid,v=f.default(h,function(t){switch(t){case!0:return d;case!1:return p;default:return""}}(i),o);return c.default.createElement("span",r({className:v,ref:e},a),n)}));e.default=h},947:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.valid,i=t.disabled,o=t.className,a=t.type,u=void 0===a?"text":a,h=s(t,["valid","disabled","className","type"]),d=c.useContext(l.ThemeContext).theme.input,p=d.base,v=d.active,y=d.disabled,m=d.valid,g=d.invalid,b=d.radio,w=d.checkbox;function _(t){return void 0!==t}var E=f.default(function(t){switch(t){case"radio":return b;case"checkbox":return w;default:return p}}(u),!_(n)&&!i&&v,!_(n)&&i&&y,function(t){return _(t)?t?m:g:""}(n),o);return c.default.createElement("input",r({className:E,type:u,ref:e,disabled:i},h))}));e.default=h},461:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.children,i=t.check,o=t.radio,a=t.disabled,u=t.className,h=s(t,["children","check","radio","disabled","className"]),d=c.useContext(l.ThemeContext).theme.label,p=d.base,v=d.check,y=d.disabled,m=f.default(p,(i||o)&&v,a&&y,u);return c.default.createElement("label",r({className:m,ref:e},h),n)}));e.default=h},284:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=n(268),l=u(n(119)),h=u(n(236)),d=u(n(722)),p=n(983),v=c.default.forwardRef((function(t,e){var n=t.children,i=t.onClose,o=t.isOpen,a=s(t,["children","onClose","isOpen"]),u=c.useContext(p.ThemeContext).theme.modal.base;function v(t){"Esc"!==t.key&&"Escape"!==t.key||i()}c.useEffect((function(){return document.addEventListener("keydown",v,{capture:!0}),function(){document.removeEventListener("keydown",v)}}));var y=c.useState(!1),m=y[0],g=y[1];c.useEffect((function(){g(!0)}),[]);var b=c.default.createElement(h.default,{show:o},c.default.createElement(c.default.Fragment,null,c.default.createElement(h.default,{enter:"transition ease-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0"},c.default.createElement(l.default,{onClick:i},c.default.createElement(h.default,{enter:"transition ease-out duration-150",enterFrom:"opacity-0 transform translate-y-1/2",enterTo:"opacity-100",leave:"transition ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0  transform translate-y-1/2"},c.default.createElement("div",r({className:u,role:"dialog",onClick:function(t){return t.stopPropagation()},ref:e},a),c.default.createElement(d.default,{returnFocus:!0},c.default.createElement("header",{className:"flex justify-end"},c.default.createElement("button",{className:"inline-flex items-center justify-center w-6 h-6 text-gray-400 transition-colors duration-150 rounded dark:hover:text-gray-200 hover: hover:text-gray-700","aria-label":"close",onClick:i},c.default.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",role:"img","aria-hidden":"true"},c.default.createElement("path",{d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd",fillRule:"evenodd"})))),n)))))));return m?f.createPortal(b,document.body):null}));e.default=v},441:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.children,i=t.className,o=s(t,["children","className"]),a=c.useContext(l.ThemeContext).theme.modalBody.base,u=f.default(a,i);return c.default.createElement("div",r({className:u,ref:e},o),n)}));e.default=h},640:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.children,i=t.className,o=s(t,["children","className"]),a=c.useContext(l.ThemeContext).theme.modalFooter.base,u=f.default(a,i);return c.default.createElement("footer",r({className:u,ref:e},o),n)}));e.default=h},459:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.children,i=t.className,o=s(t,["children","className"]),a=c.useContext(l.ThemeContext).theme.modalHeader.base,u=f.default(a,i);return c.default.createElement("p",r({className:u,ref:e},o),n)}));e.default=h},428:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyPageButton=e.PageButton=e.NavigationButton=void 0;var c=a(n(297)),f=u(n(753)),l=n(983),h=function(t){return c.default.createElement("svg",r({},t,{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"}),c.default.createElement("path",{d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd",fillRule:"evenodd"}))},d=function(t){return c.default.createElement("svg",r({},t,{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20"}),c.default.createElement("path",{d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd",fillRule:"evenodd"}))};e.NavigationButton=function(t){var e=t.onClick,n=t.disabled,r=t.directionIcon,i="prev"===r?"Previous":"Next",o="prev"===r?h:d;return c.default.createElement(f.default,{size:"small",layout:"link",icon:o,onClick:e,disabled:n,"aria-label":i})},e.PageButton=function(t){var e=t.page,n=t.isActive,r=t.onClick;return c.default.createElement(f.default,{size:"pagination",layout:n?"primary":"link",onClick:r},e)},e.EmptyPageButton=function(){return c.default.createElement("span",{className:"px-2 py-1"},"...")};var p=c.default.forwardRef((function(t,n){var i=t.totalResults,o=t.resultsPerPage,a=void 0===o?10:o,u=t.label,f=t.onChange,h=s(t,["totalResults","resultsPerPage","label","onChange"]),d=c.useState([]),p=d[0],v=d[1],y=c.useState(1),m=y[0],g=y[1],b=Math.ceil(i/a),w=b;c.useEffect((function(){v(b<=7?Array.from({length:b}).map((function(t,e){return e+1})):m<5?[1,2,3,4,5,"...",b]:m>=5&&m<b-3?[1,"...",m-1,m,m+1,"...",b]:[1,"...",b-4,b-3,b-2,b-1,b])}),[m,b]),c.useEffect((function(){f(m)}),[m]);var _=c.useContext(l.ThemeContext).theme.pagination.base;return c.default.createElement("div",r({className:_,ref:n},h),c.default.createElement("span",{className:"flex items-center font-semibold tracking-wide uppercase"},"Showing ",m*a-a+1,"-",Math.min(m*a,i)," of ",i),c.default.createElement("div",{className:"flex mt-2 sm:mt-auto sm:justify-end"},c.default.createElement("nav",{"aria-label":u},c.default.createElement("ul",{className:"inline-flex items-center"},c.default.createElement("li",null,c.default.createElement(e.NavigationButton,{directionIcon:"prev",disabled:1===m,onClick:function(){g(m-1)}})),p.map((function(t,n){return c.default.createElement("li",{key:t.toString()+n},"..."===t?c.default.createElement(e.EmptyPageButton,null):c.default.createElement(e.PageButton,{page:t,isActive:t===m,onClick:function(){return g(+t)}}))})),c.default.createElement("li",null,c.default.createElement(e.NavigationButton,{directionIcon:"next",disabled:m===w,onClick:function(){g(m+1)}}))))))}));e.default=p},340:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.valid,i=t.children,o=t.className,a=t.multiple,u=t.disabled,h=s(t,["valid","children","className","multiple","disabled"]),d=c.useContext(l.ThemeContext).theme.select,p=d.base,v=d.active,y=d.valid,m=d.invalid,g=d.disabled,b=d.select,w=d.multiple;function _(t){return void 0!==t}var E=f.default(p,!_(n)&&!u&&v,!_(n)&&u&&g,function(t){return _(t)?t?y:m:""}(n),!a&&b,a&&w,o);return c.default.createElement("select",r({className:E,ref:e,disabled:u,multiple:!!a},h),i)}));e.default=h},579:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(297)),s=a.default.forwardRef((function(t,e){var n=t.children,o=i(t,["children"]);return a.default.createElement("div",{className:"w-full overflow-x-auto"},a.default.createElement("table",r({className:"w-full whitespace-no-wrap",ref:e},o),n))}));e.default=s},688:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=t.children,o=s(t,["className","children"]),a=c.useContext(l.ThemeContext).theme.tableBody.base,u=f.default(a,n);return c.default.createElement("tbody",r({className:u,ref:e},o),i)}));e.default=h},355:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=t.children,o=s(t,["className","children"]),a=c.useContext(l.ThemeContext).theme.tableCell.base,u=f.default(a,n);return c.default.createElement("td",r({className:u,ref:e},o),i)}));e.default=h},159:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=t.children,o=s(t,["className","children"]),a=c.useContext(l.ThemeContext).theme.tableContainer.base,u=f.default(a,n);return c.default.createElement("div",r({className:u,ref:e},o),i)}));e.default=h},516:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=t.children,o=s(t,["className","children"]),a=c.useContext(l.ThemeContext).theme.tableFooter.base,u=f.default(a,n);return c.default.createElement("div",r({className:u,ref:e},o),i)}));e.default=h},45:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=t.children,o=s(t,["className","children"]),a=c.useContext(l.ThemeContext).theme.tableHeader.base,u=f.default(a,n);return c.default.createElement("thead",r({className:u,ref:e},o),i)}));e.default=h},147:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.className,i=t.children,o=s(t,["className","children"]),a=c.useContext(l.ThemeContext).theme.tableRow.base,u=f.default(a,n);return c.default.createElement("tr",r({className:u,ref:e},o),i)}));e.default=h},353:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=u(n(184)),l=n(983),h=c.default.forwardRef((function(t,e){var n=t.valid,i=t.disabled,o=t.className,a=t.children,u=s(t,["valid","disabled","className","children"]),h=c.useContext(l.ThemeContext).theme.textarea,d=h.base,p=h.active,v=h.disabled,y=h.valid,m=h.invalid;function g(t){return void 0!==t}var b=f.default(d,!g(n)&&!i&&p,!g(n)&&i&&v,function(t){return g(t)?t?y:m:""}(n),o);return c.default.createElement("textarea",r({className:b,ref:e,disabled:i},u),a)}));e.default=h},236:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(297)),f=n(391),l=c.default.createContext({parent:{}}),h=function(t){var e=t.show,n=t.enter,r=void 0===n?"":n,i=t.enterFrom,o=void 0===i?"":i,a=t.enterTo,s=void 0===a?"":a,l=t.leave,h=void 0===l?"":l,d=t.leaveFrom,p=void 0===d?"":d,v=t.leaveTo,y=void 0===v?"":v,m=t.appear,g=t.children,b=r.split(" ").filter((function(t){return t.length})),w=o.split(" ").filter((function(t){return t.length})),_=s.split(" ").filter((function(t){return t.length})),E=h.split(" ").filter((function(t){return t.length})),I=p.split(" ").filter((function(t){return t.length})),T=y.split(" ").filter((function(t){return t.length}));function O(t,e){var n;e.length&&(n=t.classList).add.apply(n,e)}function N(t,e){var n;e.length&&(n=t.classList).remove.apply(n,e)}return c.default.createElement(f.CSSTransition,{appear:m,unmountOnExit:!0,in:e,addEndListener:function(t,e){t.addEventListener("transitionend",e,!1)},onEnter:function(t){O(t,u(b,w))},onEntering:function(t){N(t,w),O(t,_)},onEntered:function(t){N(t,u(_,b))},onExit:function(t){O(t,u(E,I))},onExiting:function(t){N(t,I),O(t,T)},onExited:function(t){N(t,u(T,E))}},g)};e.default=function(t){var e=t.show,n=t.appear,i=s(t,["show","appear"]),o=c.useContext(l).parent,a=function(){var t=c.useRef(!0);return c.useEffect((function(){t.current=!1}),[]),t.current}();return void 0===e?c.default.createElement(h,r({appear:o.appear,show:o.show},i)):c.default.createElement(l.Provider,{value:{parent:{show:e,isInitialRender:a,appear:n}}},c.default.createElement(h,r({appear:n,show:e},i)))}},929:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(297)),u=n(983),c=a(n(15)),f=n(514),l=a(n(775));e.default=function(t){var e=t.children,n=t.theme,r=t.dark,i=t.usePreferences,o=void 0!==i&&i,a=f.mergeDeep(c.default,n),h=l.default(o),d=h[0],p=h[1],v=h[2];s.useLayoutEffect((function(){r&&(null!=p&&p("dark"),document.documentElement.classList.add("theme-dark"))}),[r]);var y=s.useMemo((function(){return{theme:a,mode:d,toggleMode:v}}),[d]);return s.default.createElement(u.ThemeContext.Provider,{value:y},e)}},983:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeProvider=e.ThemeContext=void 0;var i=r(n(297)),o=r(n(15));e.ThemeContext=i.default.createContext({theme:o.default}),e.ThemeProvider=function(t){var n=t.children,r=t.value;return i.default.createElement(e.ThemeContext.Provider,{value:r},n)}},607:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Windmill=e.Transition=e.Textarea=e.TableRow=e.TableHeader=e.TableFooter=e.TableContainer=e.TableCell=e.TableBody=e.Table=e.Select=e.Pagination=e.ModalHeader=e.ModalFooter=e.ModalBody=e.Modal=e.Label=e.Input=e.HelperText=e.DropdownItem=e.Dropdown=e.CardBody=e.Card=e.Button=e.Badge=e.Backdrop=e.Avatar=e.Alert=e.WindmillContext=void 0;var i=n(983);Object.defineProperty(e,"WindmillContext",{enumerable:!0,get:function(){return i.ThemeContext}});var o=n(745);Object.defineProperty(e,"Alert",{enumerable:!0,get:function(){return r(o).default}});var a=n(25);Object.defineProperty(e,"Avatar",{enumerable:!0,get:function(){return r(a).default}});var s=n(119);Object.defineProperty(e,"Backdrop",{enumerable:!0,get:function(){return r(s).default}});var u=n(558);Object.defineProperty(e,"Badge",{enumerable:!0,get:function(){return r(u).default}});var c=n(753);Object.defineProperty(e,"Button",{enumerable:!0,get:function(){return r(c).default}});var f=n(918);Object.defineProperty(e,"Card",{enumerable:!0,get:function(){return r(f).default}});var l=n(715);Object.defineProperty(e,"CardBody",{enumerable:!0,get:function(){return r(l).default}});var h=n(971);Object.defineProperty(e,"Dropdown",{enumerable:!0,get:function(){return r(h).default}});var d=n(689);Object.defineProperty(e,"DropdownItem",{enumerable:!0,get:function(){return r(d).default}});var p=n(747);Object.defineProperty(e,"HelperText",{enumerable:!0,get:function(){return r(p).default}});var v=n(947);Object.defineProperty(e,"Input",{enumerable:!0,get:function(){return r(v).default}});var y=n(461);Object.defineProperty(e,"Label",{enumerable:!0,get:function(){return r(y).default}});var m=n(284);Object.defineProperty(e,"Modal",{enumerable:!0,get:function(){return r(m).default}});var g=n(441);Object.defineProperty(e,"ModalBody",{enumerable:!0,get:function(){return r(g).default}});var b=n(640);Object.defineProperty(e,"ModalFooter",{enumerable:!0,get:function(){return r(b).default}});var w=n(459);Object.defineProperty(e,"ModalHeader",{enumerable:!0,get:function(){return r(w).default}});var _=n(428);Object.defineProperty(e,"Pagination",{enumerable:!0,get:function(){return r(_).default}});var E=n(340);Object.defineProperty(e,"Select",{enumerable:!0,get:function(){return r(E).default}});var I=n(579);Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return r(I).default}});var T=n(688);Object.defineProperty(e,"TableBody",{enumerable:!0,get:function(){return r(T).default}});var O=n(355);Object.defineProperty(e,"TableCell",{enumerable:!0,get:function(){return r(O).default}});var N=n(159);Object.defineProperty(e,"TableContainer",{enumerable:!0,get:function(){return r(N).default}});var S=n(516);Object.defineProperty(e,"TableFooter",{enumerable:!0,get:function(){return r(S).default}});var k=n(45);Object.defineProperty(e,"TableHeader",{enumerable:!0,get:function(){return r(k).default}});var x=n(147);Object.defineProperty(e,"TableRow",{enumerable:!0,get:function(){return r(x).default}});var A=n(353);Object.defineProperty(e,"Textarea",{enumerable:!0,get:function(){return r(A).default}});var P=n(236);Object.defineProperty(e,"Transition",{enumerable:!0,get:function(){return r(P).default}});var C=n(929);Object.defineProperty(e,"Windmill",{enumerable:!0,get:function(){return r(C).default}})},15:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={alert:{base:"p-4 pl-12 relative rounded-lg leading-5",withClose:"pr-12",success:"bg-green-50 text-green-900 dark:bg-green-600 dark:text-white",danger:"bg-red-50 text-red-900 dark:bg-red-600 dark:text-white",warning:"bg-yellow-50 text-yellow-900 dark:bg-yellow-600 dark:text-white",neutral:"bg-gray-50 text-gray-800 dark:bg-gray-700 dark:text-gray-300",info:"bg-blue-50 text-blue-900 dark:bg-blue-600 dark:text-white",icon:{base:"h-5 w-5",success:"text-green-400 dark:text-green-300",danger:"text-red-400 dark:text-red-300",warning:"text-yellow-400 dark:text-yellow-100",neutral:"text-gray-400 dark:text-gray-500",info:"text-blue-400 dark:text-blue-300"}},pagination:{base:"flex flex-col justify-between text-xs sm:flex-row text-gray-600 dark:text-gray-400"},tableFooter:{base:"px-4 py-3 border-t dark:border-gray-700 bg-gray-50 text-gray-500 dark:text-gray-400 dark:bg-gray-800"},tableRow:{base:""},tableHeader:{base:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800"},tableContainer:{base:"w-full overflow-hidden rounded-lg shadow-xs"},tableCell:{base:"px-4 py-3"},tableBody:{base:"bg-white divide-y dark:divide-gray-700 dark:bg-gray-800 text-gray-700 dark:text-gray-400"},dropdownItem:{base:"mb-2 last:mb-0"},dropdown:{base:"absolute w-56 p-2 mt-2 text-gray-600 bg-white border border-gray-100 rounded-lg shadow-md min-w-max-content dark:text-gray-300 dark:border-gray-700 dark:bg-gray-700",align:{left:"left-0",right:"right-0"}},avatar:{base:"relative rounded-full inline-block",size:{large:"w-10 h-10",regular:"w-8 h-8",small:"w-6 h-6"}},modal:{base:"w-full px-6 py-4 overflow-hidden bg-white rounded-t-lg dark:bg-gray-800 sm:rounded-lg sm:m-4 sm:max-w-xl"},modalBody:{base:"mb-6 text-sm text-gray-700 dark:text-gray-400"},modalFooter:{base:"flex flex-col items-center justify-end px-6 py-3 -mx-6 -mb-4 space-y-4 sm:space-y-0 sm:space-x-6 sm:flex-row bg-gray-50 dark:bg-gray-800"},modalHeader:{base:"mt-4 mb-2 text-lg font-semibold text-gray-700 dark:text-gray-300"},badge:{base:"inline-flex px-2 text-xs font-medium leading-5 rounded-full",success:"text-green-700 bg-green-100 dark:bg-green-700 dark:text-green-100",danger:"text-red-700 bg-red-100 dark:text-red-100 dark:bg-red-700",warning:"text-orange-700 bg-orange-100 dark:text-white dark:bg-orange-600",neutral:"text-gray-700 bg-gray-100 dark:text-gray-100 dark:bg-gray-700",primary:"text-purple-700 bg-purple-100 dark:text-white dark:bg-purple-600"},backdrop:{base:"fixed inset-0 z-40 flex items-end bg-black bg-opacity-50 sm:items-center sm:justify-center"},textarea:{base:"block w-full text-sm dark:text-gray-300 form-textarea focus:outline-none",active:"focus:border-purple-400 dark:border-gray-600 dark:focus:border-gray-600 dark:bg-gray-700 dark:focus:shadow-outline-gray focus:shadow-outline-purple",disabled:"cursor-not-allowed opacity-50 bg-gray-300 dark:bg-gray-800",valid:"border-green-600 dark:bg-gray-700 focus:border-green-400 dark:focus:border-green-400 focus:shadow-outline-green dark:focus:shadow-outline-green",invalid:"border-red-600 dark:bg-gray-700 focus:border-red-400 dark:focus:border-red-400 focus:shadow-outline-red dark:focus:shadow-outline-red"},select:{base:"block w-full text-sm dark:text-gray-300 focus:outline-none",active:"focus:border-purple-400 dark:border-gray-600 dark:bg-gray-700 focus:shadow-outline-purple dark:focus:shadow-outline-gray dark:focus:border-gray-600",select:"form-select leading-5",multiple:"form-multiselect",disabled:"cursor-not-allowed opacity-50 bg-gray-300 dark:bg-gray-800",valid:"border-green-600 dark:bg-gray-700 focus:border-green-400 dark:focus:border-green-400 focus:shadow-outline-green dark:focus:shadow-outline-green",invalid:"border-red-600 dark:bg-gray-700 focus:border-red-400 dark:focus:border-red-400 focus:shadow-outline-red dark:focus:shadow-outline-red"},label:{base:"block text-sm text-gray-700 dark:text-gray-400",check:"inline-flex items-center",disabled:"opacity-50 cursor-not-allowed"},input:{base:"block w-full text-sm focus:outline-none dark:text-gray-300 form-input leading-5",active:"focus:border-purple-400 dark:border-gray-600 focus:shadow-outline-purple dark:focus:border-gray-600 dark:focus:shadow-outline-gray dark:bg-gray-700",disabled:"cursor-not-allowed opacity-50 bg-gray-300 dark:bg-gray-800",valid:"border-green-600 dark:bg-gray-700 focus:border-green-400 dark:focus:border-green-400 focus:shadow-outline-green dark:focus:shadow-outline-green",invalid:"border-red-600 dark:bg-gray-700 focus:border-red-400 dark:focus:border-red-400 focus:shadow-outline-red dark:focus:shadow-outline-red",radio:"text-purple-600 form-radio focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray",checkbox:"text-purple-600 form-checkbox focus:border-purple-400 focus:outline-none focus:shadow-outline-purple dark:focus:shadow-outline-gray"},helperText:{base:"text-xs",valid:"text-green-600 dark:text-green-400",invalid:"text-red-600 dark:text-red-400"},card:{base:"min-w-0 rounded-lg shadow-xs overflow-hidden",default:"bg-white dark:bg-gray-800"},cardBody:{base:"p-4"},button:{base:"align-bottom inline-flex items-center justify-center cursor-pointer leading-5 transition-colors duration-150 font-medium focus:outline-none",block:"w-full",size:{larger:"px-10 py-4 rounded-lg",large:"px-5 py-3 rounded-lg",regular:"px-4 py-2 rounded-lg text-sm",small:"px-3 py-1 rounded-md text-sm",icon:{larger:"p-4 rounded-lg",large:"p-3 rounded-lg",regular:"p-2 rounded-lg",small:"p-2 rounded-md"},pagination:"px-3 py-1 rounded-md text-xs"},icon:{larger:"h-5 w-5",large:"h-5 w-5",regular:"h-5 w-5",small:"h-3 w-3",left:"mr-2 -ml-1",right:"ml-2 -mr-1"},primary:{base:"text-white bg-purple-600 border border-transparent",active:"active:bg-purple-600 hover:bg-purple-700 focus:shadow-outline-purple",disabled:"opacity-50 cursor-not-allowed"},outline:{base:"text-gray-600 border-gray-300 border dark:text-gray-400 focus:outline-none",active:"active:bg-transparent hover:border-gray-500 focus:border-gray-500 active:text-gray-500 focus:shadow-outline-gray",disabled:"opacity-50 cursor-not-allowed bg-gray-300"},link:{base:"text-gray-600 dark:text-gray-400 focus:outline-none border border-transparent",active:"active:bg-transparent hover:bg-gray-100 focus:shadow-outline-gray dark:hover:bg-gray-500 dark:hover:text-gray-300 dark:hover:bg-opacity-10",disabled:"opacity-50 cursor-not-allowed"},dropdownItem:{base:"inline-flex items-center cursor-pointer w-full px-2 py-1 text-sm font-medium transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200"}}}},514:function(t,e){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function r(t){return t&&"object"==typeof t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeDeep=e.isObject=void 0,e.isObject=r,e.mergeDeep=function t(e){for(var i,o,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];if(0===a.length)return e;var u=a.shift();if(r(e)&&r(u))for(var c in u)r(u[c])?(e[c]||Object.assign(e,((i={})[c]={},i)),t(e[c],u[c])):Object.assign(e,((o={})[c]=u[c],o));return t.apply(void 0,n([e],a))}},775:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDarkMode=void 0;var r=n(297);e.useDarkMode=function(t){if(!t)return[null,null,null];var e=r.useState(null),n=e[0],i=e[1];return r.useEffect((function(){var t=!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;i(window.localStorage.getItem("theme")||(t?"dark":"light"))}),[]),r.useEffect((function(){n&&(window.localStorage.setItem("theme",n),document.documentElement.classList.add("theme-"+n))}),[n]),[n,i,function(){"light"===n?(document.documentElement.className="",document.documentElement.classList.add("theme-dark"),i("dark")):(document.documentElement.className="",document.documentElement.classList.add("theme-light"),i("light"))}]},e.default=e.useDarkMode},920:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){}},297:t=>{"use strict";t.exports=r},268:t=>{"use strict";t.exports=i}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(607)})())},5503:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(6099);r.Z.registerVersion("firebase","8.2.6","app")},7397:function(t,e,n){"use strict";var r=n(6099);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,n){if(n){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[t=t[t.length-1]]))!=o&&null!=n&&e(r,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Qa(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,f=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==d(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++b)}var g="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function O(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function N(t){return t}function S(t,e,n){this.code=A+t,this.message=e||P[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new S(e.substring(A.length),t.message,t.serverResponse):null}O(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var x,A="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},C={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in C)if(C[e].id===t)return{firebaseEndpoint:(t=C[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function j(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function V(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}x=D("__EID__")?"__EID__":void 0,O(R,Error),R.prototype.name="CustomError",O(L,R),L.prototype.name="AssertionError",V.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var G=new V((function(){return new B}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=G.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},J=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Z(t,e){return 0<=z(t,e)}function X(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ft(t,e){return t<e?-1:t>e?1:0}t:{var lt=u.navigator;if(lt){var ht=lt.userAgent;if(ht){tt=ht;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function yt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===Tt&&e||"",this.b=It}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===It?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,It={},Tt={};function Ot(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:N,createScript:N,createScriptURL:N})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function Nt(t,e){this.a=e===Pt?t:""}function St(t){return t instanceof Nt&&t.constructor===Nt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=_t(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Ot();return new Nt(t=e?e.createScriptURL(t):t,Pt)}(t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?_t(t):encodeURIComponent(String(t))})))}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pt={};function Ct(t,e){this.a=e===Ut?t:""}function Dt(t){return t instanceof Ct&&t.constructor===Ct?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var jt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Rt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Ct)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t))t=new Ct(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Rt);t=e&&jt.test(e[1])?new Ct(t,Ut):null}return t}function Vt(t){return t instanceof Ct?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Ct(t,Ut))}var Ut={},Ft=new Ct("about:invalid#zClosurez",Ut);function Gt(t,e,n){this.a=n===qt?t:""}Gt.prototype.sa=!0,Gt.prototype.ra=function(){return this.a.toString()},Gt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Bt(t,e,n,r){return t=t instanceof Ct?t:Vt(t),e=e||u,n=n instanceof wt?_t(n):n||"",e.open(Dt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=h;var Jt,Wt=dt("Opera"),Zt=dt("Trident")||dt("MSIE"),Xt=dt("Edge"),Yt=Xt||Zt,Qt=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),$t=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Qt?/rv:([^\);]+)(\)|;)/.exec(t):Xt?/Edge\/([\d\.]+)/.exec(t):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$t?/WebKit\/(\S+)/.exec(t):Wt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),Zt){var re=te();if(null!=re&&re>parseFloat(ee)){Jt=String(re);break t}}Jt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(Jt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ft(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ft(0==a[2].length,0==s[2].length)||ft(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&Zt){var se=te();ie=se||(parseInt(Jt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ha){}var ce=!Zt||9<=Number(ue);function fe(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function le(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var he,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||y(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(y(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}H(a?$(o):o,r)}}}function ye(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){u.setTimeout((function(){throw t}),0)}function ge(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(_e)}}else de=function(){var t=_e;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(he||(he=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ye(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),he(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new F;function _e(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){me(e)}U(G,t)}be=!1}function Ee(t,e){if(this.a=Ie,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Le(n,Te,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Le(n,Oe,t)}))}catch(r){Le(this,Oe,r)}}var Ie=0,Te=2,Oe=3;function Ne(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ne.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new V((function(){return new Ne}),(function(t){t.reset()}));function ke(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function xe(t){if(t instanceof Ee)return t;var e=new Ee(h);return Le(e,Te,t),e}function Ae(t){return new Ee((function(e,n){n(t)}))}function Pe(t,e,n){Me(t,e,n,null)||ge(I(e,t))}function Ce(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],I(i,o,!0),I(i,o,!1));else e(r)}))}function De(t,e){if(t.a==Ie)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ie&&1==r?De(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Fe(n,i,Oe,e)))}t.c=null}else Le(t,Oe,e)}function je(t,e){t.b||t.a!=Te&&t.a!=Oe||Ve(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=ke(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,je(t,i),i.a}function Le(t,e,n){t.a==Ie&&(t===n&&(e=Oe,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ve(t),e!=Oe||n instanceof Be||function(t,e){t.g=!0,ge((function(){t.g&&qe.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof Ee)return je(t,ke(e||h,n||null,r)),!0;if(j(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ve(t){t.h||(t.h=!0,ge(t.gc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Oe&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ge(e,n,r);else try{e.c?e.g.call(e.f):Ge(e,n,r)}catch(i){qe.call(null,i)}U(Se,e)}function Ge(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return Re(this,v(t)?t:null,v(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(t=Ee.prototype).oa=function(t,e){return(t=ke(t,t,e)).c=!0,je(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==Ie){var e=new Be(t);ge((function(){De(this,e)}),this)}},t.$c=function(t){this.a=Ie,Le(this,Te,t)},t.ad=function(t){this.a=Ie,Le(this,Oe,t)},t.gc=function(){for(var t;t=Ue(this);)Fe(this,t,this.a,this.i);this.h=!1};var qe=me;function Be(t){R.call(this,t)}function ze(){0!=He&&(Ke[m(this)]=this),this.xa=this.xa,this.pa=this.pa}O(Be,R),Be.prototype.name="cancel";var He=0,Ke={};function Je(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=He)){var e=m(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ke[e]}}ze.prototype.xa=!1,ze.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var We=Object.freeze||function(t){return t},Ze=!Zt||9<=Number(ue),Xe=Zt&&!ae("9"),Ye=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},O($e,Qe);var tn=We({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},$e.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++nn,this.va=this.Pa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new rn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),fn={};function ln(t,e,n,r,i){if(r&&r.once)dn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=En(n),t&&t[en]?Tn(t,e,n,y(r)?!!r.capture:!!r,i):hn(t,e,n,!1,r,i)}function hn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=bn,e=Ze?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else n=En(n),t&&t[en]?On(t,e,n,y(r)?!!r.capture:!!r,i):hn(t,e,n,!0,r,i)}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function yn(t){return t in fn?fn[t]:fn[t]="on"+t}function mn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Ze){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=mn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=mn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new $e(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return v(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function In(){ze.call(this),this.v=new an(this),this.ac=this,this.gb=null}function Tn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function On(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Nn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(v(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function kn(t){var e=null;return new Ee((function(n,r){-1==(e=Sn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function xn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Cn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}O(In,ze),In.prototype[en]=!0,In.prototype.addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},In.prototype.removeEventListener=function(t,e,n,r){pn(this,t,e,n,r)},In.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"===typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;gt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Nn(a,r,!0,t)&&i}if(i=Nn(a=t.b=n,r,!0,t)&&i,i=Nn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Nn(a=t.b=e[o],r,!1,t)&&i;return i},In.prototype.Da=function(){if(In.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Pn.prototype).W=function(){Cn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Cn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,Ln(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Vn(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(jn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Mn(this,n[4]),this.f=Bn(n[5]||"",!0),Vn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Ln(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Vn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=zn(e,Zn)),t.b=new Yn(e,t.i))}function Un(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function Gn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function qn(t,e,n,r){var i=new Rn(null,void 0);return t&&Ln(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(zn(e,Kn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(zn(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?Wn:Jn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",zn(n,Xn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?Ln(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Vn(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Kn=/[#\/\?@]/g,Jn=/[#\?:]/g,Wn=/[#\?]/g,Zn=/[#\?@]/g,Xn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=An(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=xn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Qn(t),e=ir(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Cn(t)))}function er(t,e){return Qn(t),e=ir(t,e),Dn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),$(n)),t.b+=n.length)}function rr(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new Pn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),fr(r,n),n.push(":"),sr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":fr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Yn.prototype).add=function(t,e){Qn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Qn(this);var e=[];if("string"===typeof t)er(this,t)&&(e=Q(e,this.a.get(ir(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function fr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function lr(){var t=Pr();return Zt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(t,e){e=e||u.window;var n="about:blank";t&&(n=Dt(Mt(t)||Ft)),e.location.href=n}function pr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<pr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yr(t){t=t||u.window;try{t.close()}catch(e){}}function mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),kr(Pr())==Nr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ct?n:Mt("undefined"!=typeof n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ye(document,"A"),"HTMLAnchorElement"),e=e instanceof Ct?e:Vt(e),a.href=Dt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Bt("",r,n,a),t=Dt(e),a&&(Yt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Gt(t=(r=Ot())?r.createHTML(t):t,null,qt),r=a.document)&&(r.write(function(t){return t instanceof Gt&&t.constructor===Gt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Bt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ee((function(e){"complete"==u.document.readyState?e():(t=function(){e()},dn(window,"load",t))})).o((function(e){throw pn(window,"load",t),e}))}function _r(t){return t=t||Pr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Ir(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Tr(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":Ir()?"Worker":"Browser"}function Or(){var t=Tr();return"ReactNative"===t||"Node"===t}var Nr="Firefox",Sr="Chrome";function kr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Nr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Sr:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=kr(i=Pr()):"Worker"===r&&(r=kr(i=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return u.navigator&&u.navigator.userAgent||""}function Cr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Dr(){try{var t=u.localStorage,e=Gr();if(t)return t.setItem(e,"1"),t.removeItem(e),!lr()||!!u.indexedDB}catch(n){return Ir()&&!!u.indexedDB}return!1}function jr(){return(Rr()||"chrome-extension:"===Lr()||_r())&&!Or()&&Dr()&&!Ir()}function Rr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function Mr(t){return!vr(t=t||Pr())&&kr(t)!=Nr}function Vr(t){return"undefined"===typeof t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Gr(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=kr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function zr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=Tr(),this.b=vr(t)||"ReactNative"===e}function Hr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Jr(){return!(!Cr("fireauth.oauthhelper",u)&&!Cr("fireauth.iframe",u))}zr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Rr()&&"chrome-extension:"!==Lr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wr,Zr={};function Xr(t){Zr[t]||(Zr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Wr=2==Yr.abcd}catch(ha){Wr=!1}function Qr(t,e,n){Wr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function ti(t){var e={};return $r(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ai]),Qr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(n){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),Qr(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[di],r=t[vi],i=t[yi];if(t=ri(t[pi]),!i||i!=li&&i!=hi&&!n||i==hi&&!r||i==fi&&!t)throw Error("Invalid checkActionCode response!");i==hi?(e[gi]=n||null,e[wi]=n||null,e[mi]=r):(e[gi]=r||null,e[wi]=r||null,e[mi]=n||null),e[bi]=t||null,Qr(this,Ei,i),Qr(this,_i,ei(e))}O(ui,ni),ui.prototype.w=function(){var t=ui.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var fi="REVERT_SECOND_FACTOR_ADDITION",li="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",vi="newEmail",yi="requestType",mi="email",gi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ei="operation";function Ii(t){var e=Fn(t=Gn(t),Ti)||null,n=Fn(t,Oi)||null,r=Fn(t,ki)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new S("argument-error",Ti+", "+Oi+"and "+ki+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Ni)||null,languageCode:Fn(t,Si)||null,tenantId:Fn(t,xi)||null})}var Ti="apiKey",Oi="oobCode",Ni="continueUrl",Si="languageCode",ki="mode",xi="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:fi,signIn:li,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new Ii(t)}catch(e){return null}}function Ci(t){var e=t[Mi];if("undefined"===typeof e)throw new S("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"===typeof n){e=n[Fi];var r=n[Vi];if(n=n[Ui],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new S("argument-error",Vi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new S("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new S("argument-error",Fi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new S("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new S("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[Li])&&"object"===typeof e){if("string"===typeof(e=e[Gi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new S("argument-error",Gi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new S("argument-error",Li+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Ri])&&"boolean"!==typeof e)throw new S("argument-error",Ri+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[ji])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new S("argument-error",ji+" property must be a non empty string when specified.");this.i=t||null}var Di="android",ji="dynamicLinkDomain",Ri="handleCodeInApp",Li="iOS",Mi="url",Vi="installApp",Ui="minimumVersion",Fi="packageName",Gi="bundleId";function qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Bi=null;function zi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Bi){Bi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Hi(t){var e=Ji(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ki(t){try{return new Hi(t)}catch(e){return null}}function Ji(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=zi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}Hi.prototype.T=function(){return this.f},Hi.prototype.l=function(){return this.c},Hi.prototype.toString=function(){return this.h};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Zi=["client_id","response_type","scope","redirect_uri","state"],Xi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Zi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Zi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Zi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Wi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Yi(t){for(var e in Xi)if(Xi[e].fa==t)return Xi[e];return null}function Qi(t){var e={};e["facebook.com"]=ro,e["google.com"]=oo,e["github.com"]=io,e["twitter.com"]=ao;var n=t&&t[to];try{if(n)return e[n]?new e[n](t):new no(t);if("undefined"!==typeof t[$i])return new eo(t)}catch(r){}return null}var $i="idToken",to="providerId";function eo(t){var e=t[to];if(!e&&t[$i]){var n=Ki(t[$i]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function no(t){eo.call(this,t),Qr(this,"profile",ei((t=Fr(t.rawUserInfo||"{}"))||{}))}function ro(t){if(no.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(no.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function oo(t){if(no.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(t){if(no.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function so(t){var e=Gn(t),n=Fn(e,"link"),r=Fn(Gn(n),"link");return e=Fn(e,"deep_link_id"),Fn(Gn(e),"link")||e||r||n||t}function uo(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?co:fo}O(no,eo),O(ro,no),O(io,no),O(oo,no),O(ao,no);var co="enroll",fo="signin";function lo(){}function ho(t,e){return t.then((function(t){if(t[ns]){var n=Ki(t[ns]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new S("user-mismatch"):t}))}function po(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function vo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function yo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new po(t.providerId,t.pendingToken)}catch(e){}return null}function mo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function bo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new mo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function wo(t,e){this.Qc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Yi(t)||{}).Ja||null,this.ob=null}function _o(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');wo.call(this,t,[])}function Eo(t){wo.call(this,t,Zi),this.a=[]}function Io(){Eo.call(this,"facebook.com")}function To(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function Oo(){Eo.call(this,"github.com")}function No(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Oo).credential({accessToken:e})}function So(){Eo.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new So).credential({idToken:n,accessToken:e})}function xo(){wo.call(this,"twitter.com",Wi)}function Ao(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function Po(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new Po(t.email,t.password,t.signInMethod):null}function Do(){$r(this,{providerId:"password",isOAuthProvider:!1})}function jo(t,e){if(!(e=Ro(e)))throw new S("argument-error","Invalid email link!");return new Po(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(t){return(t=Pi(t=so(t)))&&t.operation===li?t:null}function Lo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new S("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Lo(e)}return null}function Vo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Uo(t){try{this.a=t||r.Z.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Lo({eb:t,cb:e})}function Go(t){if(t.temporaryProof&&t.phoneNumber)return new Lo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return To(n);case"github.com":return No(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new po(e,a):new mo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Eo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function qo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Bo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function zo(t){return(t=t||{}).type?new Bo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Ho(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?xe(this.a):xe(this.b)},uo.prototype.w=function(){return this.type==co?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},po.prototype.ka=function(t){return Ts(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Os(t,n)},po.prototype.c=function(t,e){return ho(Ns(t,vo(this)),e)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(t){return Ts(t,go(this))},mo.prototype.b=function(t,e){var n=go(this);return n.idToken=e,Os(t,n)},mo.prototype.c=function(t,e){return ho(Ns(t,go(this)),e)},mo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},wo.prototype.Ka=function(t){return this.Ib=yt(t),this},O(_o,wo),O(Eo,wo),Eo.prototype.Ca=function(t){return Z(this.a,t)||this.a.push(t),this},Eo.prototype.Qb=function(){return $(this.a)},Eo.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},O(Io,Eo),Qr(Io,"PROVIDER_ID","facebook.com"),Qr(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),O(Oo,Eo),Qr(Oo,"PROVIDER_ID","github.com"),Qr(Oo,"GITHUB_SIGN_IN_METHOD","github.com"),O(So,Eo),Qr(So,"PROVIDER_ID","google.com"),Qr(So,"GOOGLE_SIGN_IN_METHOD","google.com"),O(xo,wo),Qr(xo,"PROVIDER_ID","twitter.com"),Qr(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Po.prototype.ka=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?su(t,js,{email:this.a,oobCode:this.f}):su(t,nu,{email:this.a,password:this.f})},Po.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?su(t,Rs,{idToken:e,email:this.a,oobCode:this.f}):su(t,Ws,{idToken:e,email:this.a,password:this.f})},Po.prototype.c=function(t,e){return ho(this.ka(t),e)},Po.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Do,{PROVIDER_ID:"password"}),$r(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(t){return t.fb(Vo(this))},Lo.prototype.b=function(t,e){var n=Vo(this);return n.idToken=e,su(t,iu,n)},Lo.prototype.c=function(t,e){var n=Vo(this);return n.operation="REAUTH",ho(t=su(t,ou,n),e)},Lo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Uo.prototype.fb=function(t,e){var n=this.a.a;return xe(e.verify()).then((function(r){if("string"!==typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=y(t)?t.session:null,o=y(t)?t.phoneNumber:t;return(i&&i.type==co?i.Ha().then((function(t){return function(t,e){return su(t,Xs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==fo?i.Ha().then((function(e){return function(t,e){return su(t,Ys,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return su(t,Ks,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Uo,{PROVIDER_ID:"phone"}),$r(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Bo.prototype.T=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,Jo=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=Gn(t);t=r.a,"chrome-extension"==(r=r.c)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Zo(t,e,n){S.call(this,t,n),(t=e||{}).Jb&&Qr(this,"email",t.Jb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.Zb&&Qr(this,"tenantId",t.Zb)}function Xo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Go(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Zo(e,n,t.message)}return null}function Yo(){}function Qo(t){return t.c||(t.c=t.b())}function $o(){}function ta(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ea(){}function na(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ra(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ia(t,e,n){this.reset(t,e,n,void 0,void 0)}O(Wo,S),O(Zo,S),Zo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},Zo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,O($o,Yo),$o.prototype.a=function(){var t=ta(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return ta(this)&&(t[0]=!0,t[1]=!0),t},Ko=new $o,O(ea,Yo),ea.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new na;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(t=na.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ra(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",ra(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,ra(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ia.prototype.a=null;function oa(t){this.f=t,this.b=this.c=this.a=null}function aa(t,e){this.name=t,this.value=e}ia.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||T(),delete this.a},aa.prototype.toString=function(){return this.name};var sa=new aa("SEVERE",1e3),ua=new aa("WARNING",900),ca=new aa("CONFIG",700),fa=new aa("FINE",500);function la(t){return t.c?t.c:t.a?la(t.a):(M("Root logger has no level set."),null)}oa.prototype.log=function(t,e,n){if(t.value>=la(this).value)for(v(e)&&(e=e()),t=new ia(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ha,da={},pa=null;function va(t){var e;if(pa||(pa=new oa(""),da[""]=pa,pa.c=ca),!(e=da[t])){e=new oa(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=va(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,da[t]=e}return e}function ya(t,e){t&&t.log(fa,e,void 0)}function ma(t){this.f=t}function ga(t){In.call(this),this.u=t,this.h=void 0,this.readyState=ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}O(ma,Yo),ma.prototype.a=function(){return new ga(this.f)},ma.prototype.b=(ha={},function(){return ha}),O(ga,In);var ba=0;function wa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function _a(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ea(t)}function Ea(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ia(t){In.call(this),this.headers=new Pn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ta,this.u=this.S=!1}(t=ga.prototype).open=function(t,e){if(this.readyState!=ba)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Ea(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_a(this)),this.readyState=ba},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ea(this)),this.a&&(this.readyState=3,Ea(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,wa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?_a(this):Ea(this),3==this.readyState&&wa(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,_a(this))},t.sc=function(t){this.a&&(this.response=t,_a(this))},t.Ua=function(t){var e=this.i;e&&e.log(ua,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&_a(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ua,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ua,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),O(Ia,In);var Ta="";Ia.prototype.b=va("goog.net.XhrIo");var Oa=/^https?$/i,Na=["POST","PUT"];function Sa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ko.a(),t.C=t.D?Qo(t.D):Qo(Ko),t.a.onreadystatechange=E(t.Vb,t);try{ya(t.b,La(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ya(t.b,La(t,"Error opening Xhr: "+a.message)),void xa(t,a)}e=r||"";var o=new Pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)H(t,e,void 0);else for(var n=An(t),r=xn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ka,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!Z(Na,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Da(t),0<t.g&&(t.u=function(t){return Zt&&ae(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ya(t.b,La(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),ya(t.b,La(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ya(t.b,La(t,"Send error: "+a.message)),xa(t,a)}}function ka(t){return"content-type"==t.toLowerCase()}function xa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Aa(t),Ca(t)}function Aa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Pa(t){if(t.c&&"undefined"!=typeof s)if(t.C[1]&&4==ja(t)&&2==Ra(t))ya(t.b,La(t,"Local request error detected and ignored"));else if(t.i&&4==ja(t))Sn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==ja(t)){ya(t.b,La(t,"Request complete")),t.c=!1;try{var e,n=Ra(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(jn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Oa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ja(t)?t.a.statusText:""}catch(f){ya(t.b,"Can not get status: "+f.message),c=""}t.h=c+" ["+Ra(t)+"]",Aa(t)}}finally{Ca(t)}}}function Ca(t,e){if(t.a){Da(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(sa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Da(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function ja(t){return t.a?t.a.readyState:0}function Ra(t){try{return 2<ja(t)?t.a.status:-1}catch(e){return-1}}function La(t,e){return e+" ["+t.R+" "+t.l+" "+Ra(t)+"]"}function Ma(t){var e=Wa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Va(t,e,n){t.a=!0,t.c=n,t.f=!e,qa(t)}function Ua(t){if(t.a){if(!t.v)throw new Ba(t);t.v=!1}}function Fa(t,e,n,r){t.g.push([e,n,r]),t.a&&qa(t)}function Ga(t){return W(t.g,(function(t){return v(t[1])}))}function qa(t){if(t.h&&t.a&&Ga(t)){var e=t.h,n=Ka[e];n&&(u.clearTimeout(n.a),delete Ka[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(j(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ga(t)||(n=!0)}}t.c=e,r&&(s=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof Ma?(Fa(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new Ha(e),Ka[e.a]=e,t.h=e.a)}function Ba(){R.call(this)}function za(){R.call(this)}function Ha(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(t=Ia.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,La(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ya(this.b,La(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ca(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ca(this,!0)),Ia.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Pa(this):this.Jc())},t.Jc=function(){Pa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ta:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(sa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ya(this.b,"Can not get response: "+e.message),null}},Ma.prototype.cancel=function(t){if(this.a)this.c instanceof Ma&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new za(this),Ua(this),Va(this,!1,t))}},Ma.prototype.m=function(t,e){this.i=!1,Va(this,t,e)},Ma.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Fa(this,r,(function(t){t instanceof za?o.cancel():i(t)})),o.then(t,e,n)},Ma.prototype.$goog_Thenable=!0,O(Ba,R),Ba.prototype.message="Deferred has already fired",Ba.prototype.name="AlreadyCalledError",O(za,R),za.prototype.message="Deferred was canceled",za.prototype.name="CanceledError",Ha.prototype.c=function(){throw delete Ka[this.a],this.b};var Ka={};function Ja(t){var e={},n=e.document||document,r=St(t).toString(),i=ye(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ma(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Za(i,!0);var t=new Qa(Ya,"Timeout reached for loading script "+r);Ua(a),Va(a,!1,t)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Za(i,e.xd||!1,s),Ua(a),Va(a,!0,null))},i.onerror=function(){Za(i,!0,s);var t=new Qa(Xa,"Error while loading script "+r);Ua(a),Va(a,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),le(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=l(e.document):(null===f&&(f=l(u.document)),e=f),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Za(t,!0,this.Ma)}}function Za(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Xa=0,Ya=1;function Qa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function $a(t){this.f=t}function ts(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||rs,this.g=yt(t.secureTokenHeaders||is),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||os,this.a=yt(t.firebaseHeaders||as),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=u.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!Ir())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ir()?this.f=new ma(self):Or()?this.f=new $a(n):this.f=new ea,this.b=null}O(Qa,R),O($a,Yo),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};var es,ns="idToken",rs=new zr(3e4,6e4),is={"Content-Type":"application/x-www-form-urlencoded"},os=new zr(3e4,6e4),as={"Content-Type":"application/json"};function ss(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function us(t,e){e&&(t.l=cs("https://securetoken.googleapis.com/v1/token",e),t.h=cs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=cs("https://identitytoolkit.googleapis.com/v2/",e))}function cs(t,e){return t=Gn(t),e=Gn(e.url),t.f=t.a+t.f,Ln(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function fs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ls(t,e,n,r,i,o,a){(function(){var t=Pr();return!((t=kr(t)!=Sr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Zt||!ue||9<ue)})()||Ir()?t=E(t.u,t):(es||(es=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ds]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Fa(t,null,e,void 0)}(Ja(kt(hs,{onload:ds})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,r,i,o,a)}ts.prototype.T=function(){return this.b},ts.prototype.u=function(t,e,n,r,i,o){if(Ir()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ia(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ya(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),On(a,"ready",(function(){s&&clearTimeout(s),Je(this)})),On(a,"timeout",(function(){s&&clearTimeout(s),Je(this),e&&e(null)})),Sa(a,t,n,r,i)};var hs=new wt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),ds="__fcb"+Math.floor(1e6*Math.random()).toString();function ps(t,e,n,r,i,o,a){var s=Gn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",T().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Ee((function(e,n){ls(t,s.toString(),(function(t){t?t.error?n(cu(t,o||{})):e(t):n(new S("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.v.get())}))}function vs(t){if("string"!==typeof(t=t.email)||!br.test(t))throw new S("invalid-email")}function ys(t){"email"in t&&vs(t)}function ms(t){if(!t[ns]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,yt(t));throw new S("internal-error")}}function gs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}ts.prototype.s=function(t,e,n,r,i){var o=this;es.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ts.prototype.zb=function(){return su(this,Zs,{})},ts.prototype.Bb=function(t,e){return su(this,Js,{idToken:t,email:e})},ts.prototype.Cb=function(t,e){return su(this,Ws,{idToken:t,password:e})};var bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ws(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function _s(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function Es(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(er(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Is(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Xo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Xo(t)):t.errorMessage&&(e=uu(t.errorMessage)),e)throw e;ms(t)}function Ts(t,e){return e.returnIdpCredential=!0,su(t,Qs,e)}function Os(t,e){return e.returnIdpCredential=!0,su(t,tu,e)}function Ns(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,su(t,$s,e)}function Ss(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=ts.prototype).Db=function(t,e){var n={idToken:t},r=[];return pt(bs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),su(this,Js,n)},t.vb=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),su(this,qs,t)},t.wb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),su(this,Us,t)},t.ub=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),su(this,Fs,t)},t.Eb=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),su(this,Gs,t)},t.fb=function(t){return su(this,ru,t)},t.nb=function(t,e){return su(this,Hs,{oobCode:t,newPassword:e})},t.Ra=function(t){return su(this,xs,{oobCode:t})},t.jb=function(t){return su(this,ks,{oobCode:t})};var ks={endpoint:"setAccountInfo",A:Ss,Z:"email",B:!0},xs={endpoint:"resetPassword",A:Ss,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},As={endpoint:"signupNewUser",A:function(t){if(vs(t),!t.password)throw new S("weak-password")},G:ms,V:!0,B:!0},Ps={endpoint:"createAuthUri",B:!0},Cs={endpoint:"deleteAccount",N:["idToken"]},Ds={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},js={endpoint:"emailLinkSignin",N:["email","oobCode"],A:vs,G:ms,V:!0,B:!0},Rs={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:vs,G:ms,V:!0},Ls={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ws,G:ms,B:!0,Na:!0},Ms={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ws,G:ms,B:!0,Na:!0},Vs={endpoint:"getAccountInfo"},Us={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");vs(t)},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Gs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");vs(t)},Z:"email",B:!0},Bs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},zs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Hs={endpoint:"resetPassword",A:Ss,Z:"email",B:!0},Ks={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Js={endpoint:"setAccountInfo",N:["idToken"],A:ys,V:!0},Ws={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ys(t),!t.password)throw new S("weak-password")},G:ms,V:!0},Zs={endpoint:"signupNewUser",G:ms,V:!0,B:!0},Xs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ys={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Qs={endpoint:"verifyAssertion",A:_s,Ya:Es,G:Is,V:!0,B:!0},$s={endpoint:"verifyAssertion",A:_s,Ya:Es,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw uu(t.errorMessage);ms(t)},V:!0,B:!0},tu={endpoint:"verifyAssertion",A:function(t){if(_s(t),!t.idToken)throw new S("internal-error")},Ya:Es,G:Is,V:!0},eu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:ms,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(t){if(vs(t),!t.password)throw new S("wrong-password")},G:ms,V:!0,B:!0},ru={endpoint:"verifyPhoneNumber",A:gs,G:ms,B:!0},iu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");gs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Xo(t);ms(t)}},ou={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:gs,G:ms,B:!0},au={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[ns]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function su(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.N))return Ae(new S("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return xe(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ps(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]}))}function uu(t){return cu({error:{errors:[{message:t}],code:400,message:t}})}function cu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Vr(t)),new S("internal-error",e)}function fu(t){this.b=t,this.a=null,this.rb=function(t){return(pu||(pu=new Ee((function(t,e){function n(){Br(),Cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:hu.get()})}if(Cr("gapi.iframes.Iframe"))t();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Cr("gapi.load")?n():e(Error("Network Error"))},xe(Ja(r=kt(lu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw pu=null,t})))).then((function(){return new Ee((function(e,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),du.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var lu=new wt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),hu=new zr(3e4,6e4),du=new zr(5e3,15e3),pu=null;function vu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=qn((t=Gn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function mu(t){try{return r.Z.app(t).auth().Ga()}catch(e){return[]}}function gu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bu(t){var e=hr();return function(t){return su(t,Bs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Gn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Gn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Wo(hr())}))}function wu(t){return t.m||(t.m=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=mu(t.b),i=new vu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.v=new fu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=zo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(t)}))),t.m}function _u(t){return t.l||(t.C=t.c?Ar(t.c,mu(t.b)):null,t.l=new ts(t.g,D(t.i),t.C),t.f&&us(t.l,t.f)),t.l}function Eu(t,e,n,r,i,o,a,s,u,c,f,l){return(t=new yu(t,e,n,r,i,l)).l=o,t.g=a,t.i=s,t.b=yt(u||null),t.f=c,t.yb(f).toString()}function Iu(t){if(this.a=t||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Tu(t){this.b=t,this.a={},this.f=E(this.c,this)}vu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},yu.prototype.yb=function(t){return this.h=t,this},yu.prototype.toString=function(){if(this.v){var t=Gn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(u){n=null}for(var i in e.ob=n,Un(t,"providerId",this.a.providerId),e=Ur((n=this.a).Ib))e[i]=e[i].toString();i=n.Qc,e=yt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),vt(e)||Un(t,"customParameters",Vr(e))}if("function"===typeof this.a.Qb&&((n=this.a.Qb()).length&&Un(t,"scopes",n.join(","))),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Un(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Un(t,s,this.b[s]);return this.h?Un(t,"tid",this.h):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(s=mu(this.c)).length&&Un(t,"fw",s.join(",")),t.toString()},(t=gu.prototype).Ob=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return wu(t).then((function(){return function(t,e){return t.rb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&yr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Ee((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return kn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Pr();return!Mr(t)&&!qr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ae(new S("popup-blocked"));if(a&&!Mr())return this.ma().o((function(e){yr(t),i(e)})),r(),xe();this.a||(this.a=bu(_u(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw yr(t),i(e),e}));return r(),e})).then((function(){(qo(n),a)||dr(Eu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=bu(_u(this)));var i=this;return this.a.then((function(){qo(e),dr(Eu(i.s,i.g,i.b,t,e,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return wu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new S("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Y(this.h,(function(e){return e==t}))},(t=Iu.prototype).get=function(t){return xe(this.a.getItem(t)).then((function(t){return t&&Fr(t)}))},t.set=function(t,e){return xe(this.a.setItem(t,Vr(e)))},t.U=function(t){return xe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Ou,Nu=[];function Su(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ku(t){this.a=t}function xu(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var f=r?800:50,l="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),f),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Pu(t,c),e})).o((function(e){throw Pu(t,c),e}))}function Pu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function Cu(){if(!Lu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Ir()&&self?(this.v=function(){var t=Ir()?self:null;if(H(Nu,(function(n){n.b==t&&(e=n)})),!e){var e=new Tu(t);Nu.push(e)}return e}(),Su(this.v,"keyChanged",(function(e,n){return Gu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:Z(e,n.key)}}))})),Su(this.v,"ping",(function(){return xe(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?xe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):xe(null)}().then((function(e){(t.h=e)&&(t.g=new xu(new ku(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Z(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Du(t){return new Ee((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Du(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function ju(t){return t.i||(t.i=Du(t)),t.i}function Ru(t,e){var n=0;return new Ee((function r(i,o){ju(t).then(e).then(i).o((function(e){if(!(3<++n))return ju(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Lu(){try{return!!u.indexedDB}catch(ha){return!1}}function Mu(t){return t.objectStore("firebaseLocalStorage")}function Vu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Uu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Fu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):xe()}function Gu(t){return ju(t).then((function(t){var e=Mu(Vu(t,!1));return e.getAll?Uu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=pr(t.c,n),t.c=n}return r}))}function qu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Bu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then((function(){if(Lu()){var t=Gr(),r="__sak"+t;return Ou||(Ou=new Cu),(n=Ou).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function zu(){this.a={},this.type="inMemory"}function Hu(){if(!function(){var t="Node"==Tr();if(!(t=Ku()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Ku()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Ku(){try{var t=u.localStorage,e=Gr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ju(){this.type="nullStorage"}function Wu(){if(!function(){var t="Node"==Tr();if(!(t=Zu()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Zu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Zu(){try{var t=u.sessionStorage,e=Gr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Xu(){var t={};t.Browser=$u,t.Node=tc,t.ReactNative=ec,t.Worker=nc,this.a=t[Tr()]}Tu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(xe().then((function(){return e(t.origin,t.data.data)})))})),Ce(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},ku.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},xu.prototype.close=function(){for(;0<this.a.length;)Pu(this,this.a[0]);this.b=!0},(t=Cu.prototype).set=function(t,e){var n=this,r=!1;return Ru(this,(function(e){return Uu((e=Mu(Vu(e,!0))).get(t))})).then((function(i){return Ru(n,(function(o){if(o=Mu(Vu(o,!0)),i)return i.value=e,Uu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Uu(o.add(a))}))})).then((function(){return n.c[t]=e,Fu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Ru(this,(function(e){return Uu(Mu(Vu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Ru(this,(function(r){return n=!0,e.b++,Uu(Mu(Vu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Fu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Gu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}qu(t),e()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&qu(this)},(t=Bu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=zu.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.U=function(t){return delete this.a[t],xe()},t.ca=function(){},t.ia=function(){},(t=Hu.prototype).get=function(t){var e=this;return xe().then((function(){return Fr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=Vr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&ln(u.window,"storage",t)},t.ia=function(t){u.window&&pn(u.window,"storage",t)},(t=Ju.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.U=function(){return xe()},t.ca=function(){},t.ia=function(){},(t=Wu.prototype).get=function(t){var e=this;return xe().then((function(){return Fr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=Vr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Yu,Qu,$u={F:Hu,bb:Wu},tc={F:Hu,bb:Wu},ec={F:Iu,bb:Ju},nc={F:Hu,bb:Ju},rc={rd:"local",NONE:"none",td:"session"};function ic(){var t=!(qr(Pr())||!Er()),e=Mr(),n=Dr();this.m=t,this.h=e,this.l=n,this.a={},Yu||(Yu=new Xu),t=Yu;try{this.g=!lr()&&Jr()||!u.indexedDB?new t.a.F:new Bu(Ir()?new zu:new t.a.F)}catch(r){this.g=new zu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new zu}this.v=new zu,this.f=E(this.Yb,this),this.b={}}function oc(){return Qu||(Qu=new ic),Qu}function ac(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function sc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function uc(t,e,n){return n=sc(e,n),"local"==e.F&&(t.b[n]=null),ac(t,e.F).U(n)}function cc(t){t.c&&(clearInterval(t.c),t.c=null)}function fc(t){this.a=t,this.b=oc()}(t=ic.prototype).get=function(t,e){return ac(this,t.F).get(sc(t,e))},t.set=function(t,e,n){var r=sc(t,n),i=this,o=ac(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=sc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(ac(this,"local").ca(this.f),this.h||(lr()||!Jr())&&u.indexedDB||!this.l||function(t){cc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=sc(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(ac(this,"local").ia(this.f),cc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?ac(this,"local").ia(this.f):cc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.mb(e))},Zt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,E(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var lc,hc={name:"authEvent",F:"local"};function dc(){this.a=oc()}function pc(t,e){this.b=vc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===lc&&(lc=u.Int32Array?new Int32Array(Ec):Ec),this.reset()}O(pc,(function(){this.b=-1}));for(var vc=64,yc=vc-1,mc=[],gc=0;gc<yc;gc++)mc[gc]=0;var bc=Q(128,mc);function wc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],f=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&f^~c&l)+(0|lc[e])|0)+(0|n[e])|0)|0,o=l,l=f,f=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+f|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function _c(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(wc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(wc(t),i=0)}}t.c=i,t.g+=n}pc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):$(this.h)};var Ec=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ic(){pc.call(this,8,Tc)}O(Ic,pc);var Tc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Oc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new dc,this.g=new fc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Nc(t){return new S("invalid-cordova-configuration",t)}function Sc(t){var e=new Ic;_c(e,t),t=[];var n=8*e.g;56>e.c?_c(e,bc,56-e.c):_c(e,bc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(wc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return J(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function kc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function xc(t){return t.f||(t.f=t.ma().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=so(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Fr(Fn(o=Gn(i),"firebaseError")||null))?k(o):null)?new Bo(r.c,r.b,null,null,o,null,r.T()):new Bo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}kc(t,i)}))}var n=new Bo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=kn(500).then((function(){return Ac(t).then((function(){r||kc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Jo||(Jo=new Ho),function(t){var e=Jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Cr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(hc,t.a).then((function(t){return zo(t)}))}(t.g).then((function(n){return e=n,uc((n=t.g).b,hc,n.a)})).then((function(){return e}))}function Pc(t){this.a=t,this.b=oc()}(t=Oc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Ee((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Cr("universalLinks.subscribe",u))throw Nc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Cr("BuildInfo.packageName",u))throw Nc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Cr("cordova.plugins.browsertab.openUrl",u))throw Nc("cordova-plugin-browsertab is not installed");if("function"!==typeof Cr("cordova.InAppBrowser.open",u))throw Nc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},t.Ob=function(t,e){return e(new S("operation-not-supported-in-this-environment")),xe()},t.Mb=function(){return Ae(new S("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ae(new S("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,f=null;return this.c=xe().then((function(){return qo(e),xc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Bo(e,r,null,o,new S("no-auth-event"),null,i),s=Cr("BuildInfo.packageName",u);if("string"!==typeof s)throw new S("invalid-cordova-configuration");var c=Cr("BuildInfo.displayName",u),f={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))f.ibi=s;else{if(!Pr().toLowerCase().match(/android/))return Ae(new S("operation-not-supported-in-this-environment"));f.apn=s}c&&(f.appDisplayName=c),o=Sc(o),f.sessionId=o;var l=Eu(t.v,t.i,t.l,e,n,null,r,t.m,f,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(hc,a.w(),e)})).then((function(){var e=Cr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Cr("cordova.plugins.browsertab.openUrl",u)))throw new S("invalid-cordova-configuration");n(l)}else{if("function"!==typeof(n=Cr("cordova.InAppBrowser.open",u)))throw new S("invalid-cordova-configuration");e=Pr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){s=function(){var e=Cr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=kn(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},f=function(){Hr()&&c()},o.addEventListener("resume",c,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",f,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),f&&o.removeEventListener("visibilitychange",f,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},t.Ea=function(t){this.b.push(t),xc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Bo("unknown",null,null,null,new S("no-auth-event")),t(e))}))},t.Sa=function(t){Y(this.b,(function(e){return e==t}))};var Cc={name:"pendingRedirect",F:"session"};function Dc(t){return uc(t.b,Cc,t.a)}function jc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Zc,this.C=new tf,this.g=new Pc(Jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Rc(this.D,this.v,this.m,x,this.J)}function Rc(t,e,n,i,o){var a=r.Z.SDK_VERSION||null;return _r()?new Oc(t,e,n,a,i,o):new gu(t,e,n,a,i,o)}function Lc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Mc(t){t.a.Xb()&&Lc(t).o((function(e){var n=new Bo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Bc(e)&&t.s(n)})),t.a.Tb()||Xc(t.b)}function Vc(t,e){Z(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Cc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Dc(t.g).then((function(){Lc(t).o((function(e){var n=new Bo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Bc(e)&&t.s(n)}))})):Mc(t)})).o((function(){Mc(t)}))}function Uc(t,e){Y(t.h,(function(t){return t==e}))}jc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Rc(this.D,this.v,this.m,null,this.J),this.i={}},jc.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=T()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=T())),e=!0;break}}return Xc(this.b),e};var Fc=new zr(2e3,1e4),Gc=new zr(3e4,6e4);function qc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Bc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function zc(t,e,n,r,i){var o;return function(t){return t.b.set(Cc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Bc(e))throw new S("operation-not-supported-in-this-environment");return o=e,Dc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new Ee((function(){})):Dc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Hc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Fc.get())}jc.prototype.qa=function(){return this.b.qa()};var Kc={};function Jc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Wc(t,e,n,r){var i=Jc(e,n,r);return Kc[i]||(Kc[i]=new jc(t,e,n,r)),Kc[i]}function Zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Xc(t){t.g||(t.g=!0,$c(t,!1,null,null))}function Yc(t){t.g&&!t.i&&$c(t,!1,null,null)}function Qc(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function $c(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Qc(t,n):Qc(t,{user:null}),t.f=[],t.c=[]}function tf(){}function ef(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function nf(t,e){this.a=e,Qr(this,"verificationId",t)}function rf(t,e,n,r){return new Uo(t).fb(e,n).then((function(t){return new nf(t,r)}))}function of(t){var e=Ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:Kr(1e3*e.exp),authTime:Kr(1e3*e.auth_time),issuedAtTime:Kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function af(t,e,n){var r=e&&e[uf];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=yt(e),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;H(e[sf]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?($c(this,!0,null,t.a),xe()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){$c(t,s,e,null)})).o((function(e){$c(t,s,null,e)}))}(this,t,e):Ae(new S("invalid-auth-event")):($c(this,!1,null,null),xe())}else Ae(new S("invalid-auth-event"))},Zc.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=kn(Gc.get()).then((function(){t.b||(t.g=!0,$c(t,!0,null,e))}))}(t))}))},tf.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ae(new S("invalid-auth-event"))}else Ae(new S("invalid-auth-event"))},nf.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var sf="mfaInfo",uf="mfaPendingCredential";function cf(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new af(t,e,n),Qr(this,"resolver",this.b)}function ff(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new cf(e,t.serverResponse,n,t.message)}catch(r){}return null}function lf(){}function hf(t){Qr(this,"factorId",t.fa),this.a=t}function df(t){if(hf.call(this,t),this.a.fa!=Uo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function pf(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function vf(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),yf(this,n)}function yf(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function mf(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gf(t,e){t.stop(),t.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Hr()||!t?xe():new Ee((function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){gf(t,!0)})).o((function(e){t.i(e)&&gf(t,!1)}))}function bf(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function wf(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function _f(t,e){t.b=Ki(e[ns]||""),t.a=e.refreshToken,wf(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function Ef(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ls(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(cu(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.m.get()):r(new S("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ki(e.access_token),t.a=e.refresh_token,wf(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function If(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:Kr(e||null),creationTime:Kr(t||null)})}function Tf(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Of(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION):null;this.a=new ts(this.l,D(x),i),t.emulatorConfig&&us(this.a,t.emulatorConfig),this.b=new bf(this.a),Df(this,e[ns]),_f(this.b,e),Qr(this,"refreshToken",this.b.a),Lf(this,n||{}),In.call(this),this.R=!1,this.s&&jr()&&(this.i=Wc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new mf((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){us(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){kf(o,t.f)},this.ba=null,this.O=new vf(this,n),Qr(this,"multiFactor",this.O)}function Nf(t,e){t.ja&&pn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&ln(e,"languageCodeChanged",t.Oa)}function Sf(t,e){t.X&&pn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&ln(e,"emulatorConfigChanged",t.Aa)}function kf(t,e){t.$=e,fs(t.a,r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION,t.$):null)}function xf(t,e){t.ba&&pn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&ln(e,"frameworkChanged",t.Ba)}function Af(t){try{return r.Z.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Pf(t){t.D||t.u.b||(t.u.start(),pn(t,"tokenChanged",t.aa),ln(t,"tokenChanged",t.aa))}function Cf(t){pn(t,"tokenChanged",t.aa),t.u.stop()}function Df(t,e){t.za=e,Qr(t,"_lat",e)}function jf(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ce(e).then((function(){return t}))}function Rf(t){t.i&&!t.R&&(t.R=!0,Vc(t.i,t))}function Lf(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new If(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Mf(){}function Vf(t){return xe().then((function(){if(t.D)throw new S("app-deleted")}))}function Uf(t){return J(t.providerData,(function(t){return t.providerId}))}function Ff(t,e){e&&(Gf(t,e.providerId),t.providerData.push(e))}function Gf(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function qf(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Bf(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new If(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new If),H(e.providerData,(function(e){Ff(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Qr(t,"refreshToken",t.b.a),yf(t.O,e.O.b))}function zf(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return su(t.a,Vs,{idToken:e}).then(E(t.Kc,t))}(t,e).then((function(){return n||qf(t,"isAnonymous",!1),e}))}))}function Hf(t,e){e[ns]&&t.za!=e[ns]&&(_f(t.b,e),t.dispatchEvent(new pf("tokenChanged")),Df(t,e[ns]),qf(t,"refreshToken",t.b.a))}function Kf(t,e){return zf(t).then((function(){if(Z(Uf(t),e))return jf(t).then((function(){throw new S("provider-already-linked")}))}))}function Jf(t,e,n){return ti({user:t,credential:Go(e),additionalUserInfo:e=Qi(e),operationType:n})}function Wf(t,e){return Hf(t,e),t.reload().then((function(){return t}))}function Zf(t,e,n,i,o){if(!jr())return Ae(new S("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ae(t.h);var a=Yi(n.providerId),s=Gr(t.uid+":::"),u=null;(!Mr()||Er())&&t.s&&n.isOAuthProvider&&(u=Eu(t.s,t.l,t.m,e,n,null,s,r.Z.SDK_VERSION||null,null,null,t.tenantId));var c=mr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Yf(t),!o)return t.I().then((function(){}))})).then((function(){return qc(t.i,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Ee((function(n,r){t.na(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Hc(t.i,t,e,c,s)}))})).then((function(t){return c&&yr(c),t?ti(t):null})).o((function(t){throw c&&yr(c),t})),Qf(t,i,o)}function Xf(t,e,n,r,i){if(!jr())return Ae(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,a=Gr(t.uid+":::");return r=r().then((function(){if(Yf(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,jf(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(el,t.w(),e.a)),e})).then((function(){return zc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return nl(t.ha);throw o})).then((function(){if(o)throw o})),Qf(t,r,i)}function Yf(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Qf(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new pf("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){X(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ff(e.w(),Af(t),E(t.jc,t))),n||e}))}function $f(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[ns]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Of(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Ff(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function tl(t){this.a=t,this.b=oc()}af.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=yt(e.f);return delete n[sf],delete n[uf],gt(n,t),e.g(n)}))},O(cf,S),lf.prototype.sb=function(t,e,n){return e.type==co?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Vo(t.a)}),su(e,Ls,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Vo(t.a)}),su(e,Ms,n)}))}(this,t,e)},O(hf,lf),O(df,hf),O(pf,Qe),(t=vf.prototype).yc=function(t){yf(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new uo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Hf(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return su(r,au,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return yf(e,r),Hf(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:J(this.b,(function(t){return t.w()}))}}},mf.prototype.start=function(){this.a=this.c,gf(this,!0)},mf.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bf.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},bf.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?Ef(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},If.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},O(Of,In),Of.prototype.wa=function(t){this.ya=t,ss(this.a,t)},Of.prototype.la=function(){return this.ya},Of.prototype.Ga=function(){return $(this.$)},Of.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(Of.prototype,"providerId","firebase"),(t=Of.prototype).reload=function(){var t=this;return Qf(this,Vf(this).then((function(){return zf(t).then((function(){return jf(t)})).then(Mf)})))},t.oc=function(t){return this.I(t).then((function(t){return new of(t)}))},t.I=function(t){var e=this;return Qf(this,Vf(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.za&&(Df(e,t.accessToken),e.dispatchEvent(new pf("tokenChanged"))),qf(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");Lf(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?J(t,(function(t){return new Tf(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ff(this,e[n]);qf(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new pf("userReloaded",{hd:t}))},t.Lc=function(t){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Qf(this,t.c(this.a,this.uid).then((function(t){return Hf(e,t),n=Jf(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Qf(this,Kf(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Jf(e,t,"link"),Wf(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Qf(this,Kf(this,"phone").then((function(){return rf(Af(n),t,e,E(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Qf(this,xe().then((function(){return rf(Af(n),t,e,E(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Qf(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Hf(e,t),e.reload()})))},t.ed=function(t){var e=this;return Qf(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Hf(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Qf(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Hf(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Vf(this);var e=this;return Qf(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Hf(e,t),qf(e,"displayName",t.displayName||null),qf(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),jf(e)})).then(Mf))},t.cd=function(t){var e=this;return Qf(this,zf(this).then((function(n){return Z(Uf(e),t)?function(t,e,n){return su(t,Ds,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(Uf(e),(function(t){n[t]||Gf(e,t)})),n[Uo.PROVIDER_ID]||Qr(e,"phoneNumber",null),jf(e)})):jf(e).then((function(){throw new S("no-such-provider")}))})))},t.delete=function(){var t=this;return Qf(this,this.I().then((function(e){return su(t.a,Cs,{idToken:e})})).then((function(){t.dispatchEvent(new pf("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");Nf(t,null),Sf(t,null),xf(t,null),t.J=[],t.D=!0,Cf(t),Qr(t,"refreshToken",null),t.i&&Uc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):null},t.Ec=function(t){var e=this;return Zf(this,"linkViaPopup",t,(function(){return Kf(e,t.providerId).then((function(){return jf(e)}))}),!1)},t.Nc=function(t){return Zf(this,"reauthViaPopup",t,(function(){return xe()}),!0)},t.Fc=function(t){var e=this;return Xf(this,"linkViaRedirect",t,(function(){return Kf(e,t.providerId)}),!1)},t.Oc=function(t){return Xf(this,"reauthViaRedirect",t,(function(){return xe()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Qf(this,this.I().then((function(n){return Os(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Jf(i,t,"link"),Wf(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Qf(this,xe().then((function(){return ho(Ns(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Jf(i,t,"reauthenticate"),Hf(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Qf(this,this.I().then((function(e){return n=e,"undefined"===typeof t||vt(t)?{}:qi(new Ci(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Qf(this,this.I().then((function(t){return r=t,"undefined"===typeof e||vt(e)?{}:qi(new Ci(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Qf(this,t=ho(xe(t),n.uid).then((function(t){return e=Jf(n,t,"reauthenticate"),Hf(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.O.w()),t};var el={name:"redirectUser",F:"session"};function nl(t){return uc(t.b,el,t.a)}function rl(t){this.a=t,this.b=oc(),this.c=null,this.f=function(t){var e=al("local"),n=al("session"),r=al("none");return function(t,e,n){var r=sc(e,n),i=ac(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Fr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ol,t.a).then((function(t){return t?al(t):e}))}))}))})).then((function(e){return t.c=e,il(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(al("local"),this.a,E(this.g,this))}function il(t,e){var n,r=[];for(n in rc)rc[n]!==e&&r.push(uc(t.b,al(rc[n]),t.a));return r.push(uc(t.b,ol,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Pe(t[s],I(o,s),a);else e(i)}))}(r)}rl.prototype.g=function(){var t=this,e=al("local");fl(this,(function(){return xe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return il(t,"local").then((function(){t.c=e}))}))}))};var ol={name:"persistence",F:"session"};function al(t){return{name:"authUser",F:t}}function sl(t,e){return fl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ul(t){return fl(t,(function(){return uc(t.b,t.c,t.a)}))}function cl(t,e,n){return fl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),$f(t||{})}))}))}function fl(t,e){return t.f=t.f.then(e,e),t.f}function ll(t){if(this.l=!1,Qr(this,"settings",new ef),Qr(this,"app",t),!wl(this).options||!wl(this).options.apiKey)throw new S("invalid-api-key");t=r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION):null,this.a=new ts(wl(this).options&&wl(this).options.apiKey,D(x),t),this.R=[],this.s=[],this.O=[],this.hb=r.Z.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=r.Z.INTERNAL.createSubscribe(E(this.Ac,this)),gl(this,null),this.i=new rl(wl(this).options.apiKey+":"+wl(this).name),this.D=new tl(wl(this).options.apiKey+":"+wl(this).name),this.$=Tl(this,function(t){var e=wl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(el,t.a).then((function(t){return t&&e&&(t.authDomain=e),$f(t||{})}))}(t.D,wl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),nl(t.D)}));return Tl(t,e)}(t).then((function(){return cl(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return sl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ul(t.i)}))):null})).then((function(e){gl(t,e||null)}));return Tl(t,n)}(this)),this.h=Tl(this,function(t){return t.$.then((function(){return yl(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(al("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(t){var e=wl(t).options.authDomain,n=wl(t).options.apiKey;e&&jr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Wc(e,n,wl(t).name,t.P),Vc(t.b,t),_l(t)&&Rf(_l(t)),t.m){Rf(t.m);var r=t.m;r.wa(t.la()),Nf(r,t),kf(r=t.m,t.J),xf(r,t),us((r=t.m).a,t.P),Sf(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,In.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Gn(this.P.url);t=ti({protocol:t.c,host:t.a,port:t.g,options:ti({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function hl(t){Qe.call(this,"languageCodeChanged"),this.h=t}function dl(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function pl(t){Qe.call(this,"frameworkChanged"),this.f=t}function vl(t){return t.Oa||Ae(new S("auth-domain-config-required"))}function yl(t){if(!jr())return Ae(new S("operation-not-supported-in-this-environment"));var e=vl(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return Tl(t,e)}function ml(t,e){var n={};return n.apiKey=wl(t).options.apiKey,n.authDomain=wl(t).options.authDomain,n.appName=wl(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new Of(t,e);return n&&(i.ha=n),r&&kf(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return _l(t)&&e.uid==_l(t).uid?(Bf(_l(t),e),t.da(e)):(gl(t,e),Rf(e),t.da(e))})).then((function(){Il(t)}))}function gl(t,e){_l(t)&&(function(t,e){Y(t.S,(function(t){return t==e}))}(_l(t),t.Ba),pn(_l(t),"tokenChanged",t.ya),pn(_l(t),"userDeleted",t.za),pn(_l(t),"userInvalidated",t.Aa),Cf(_l(t))),e&&(e.S.push(t.Ba),ln(e,"tokenChanged",t.ya),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.u&&Pf(e)),Qr(t,"currentUser",e),e&&(e.wa(t.la()),Nf(e,t),kf(e,t.J),xf(e,t),us(e.a,t.P),Sf(e,t))}function bl(t,e){var n=null,r=null;return Tl(t,e.then((function(e){return n=Go(e),r=Qi(e),ml(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ff(e.w(),t,E(t.kc,t))),n||e})).then((function(){return ti({user:_l(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wl(t){return t.app}function _l(t){return t.currentUser}function El(t){return _l(t)&&_l(t)._lat||null}function Il(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](El(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](El(t))}}function Tl(t,e){return t.R.push(e),e.oa((function(){X(t.R,e)})),e}function Ol(){}function Nl(){this.a={},this.b=1e12}rl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in rc)if(rc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Lu()&&"none"!==t)throw n;break;default:if(!Dr()&&"none"!==t)throw n}}(t),fl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,il(n,t)})).then((function(){if(n.c=al(t),e)return n.b.set(n.c,e,n.a)})):xe()}))},O(ll,In),O(hl,Qe),O(dl,Qe),O(pl,Qe),(t=ll.prototype).xb=function(t){return Tl(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ss(this.a,this.aa),this.dispatchEvent(new hl(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&wr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,us(this.a,this.P),this.dispatchEvent(new dl(this.P))}},t.Gc=function(t){this.J.push(t),fs(this.a,r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new pl(this.J))},t.Ga=function(){return $(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:wl(this).options.apiKey,authDomain:wl(this).options.authDomain,appName:wl(this).name,currentUser:_l(this)&&_l(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return bl(i,Ts(i.a,o))}))},t.Xc=function(t){if(!jr())return Ae(new S("operation-not-supported-in-this-environment"));var e=this,n=Yi(t.providerId),i=Gr(),o=null;(!Mr()||Er())&&wl(this).options.authDomain&&t.isOAuthProvider&&(o=Eu(wl(this).options.authDomain,wl(this).options.apiKey,wl(this).name,"signInViaPopup",t,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.P));var a=mr(o,n&&n.ua,n&&n.ta);return Tl(this,n=vl(this).then((function(n){return qc(n,a,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new Ee((function(t,n){e.na("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Hc(e.b,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&yr(a),t?ti(t):null})).o((function(t){throw a&&yr(a),t})))},t.Yc=function(t){if(!jr())return Ae(new S("operation-not-supported-in-this-environment"));var e=this;return Tl(this,vl(this).then((function(){return function(t){return fl(t,(function(){return t.b.set(ol,t.c.F,t.a)}))}(e.i)})).then((function(){return zc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return yl(this).then((function(e){return t.b&&Yc(t.b.b),e})).o((function(e){throw t.b&&Yc(t.b.b),e}))},t.dd=function(t){if(!t)return Ae(new S("null-user"));if(this.S!=t.tenantId)return Ae(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=wl(this).options.apiKey,n.authDomain=wl(this).options.authDomain,n.appName=wl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[ns]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Of(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&kf(e,r),Bf(e,t),e}(t,n,e.D,e.Ga());return Tl(this,this.h.then((function(){if(wl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return _l(e)&&t.uid==_l(e).uid?(Bf(_l(e),t),e.da(t)):(gl(e,r),Rf(r),e.da(r))})).then((function(){Il(e)})))},t.Ab=function(){var t=this;return Tl(this,this.h.then((function(){return t.b&&Yc(t.b.b),_l(t)?(gl(t,null),ul(t.i).then((function(){Il(t)}))):xe()})))},t.Zc=function(){var t=this;return cl(this.i,wl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=_l(t)&&e){n=_l(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Bf(_l(t),e),_l(t).I();(_l(t)||e)&&(gl(t,e),e&&(Rf(e),e.ha=t.D),t.b&&Vc(t.b,t),Il(t))}}))},t.da=function(t){return sl(this.i,t)},t.mc=function(){Il(this),this.da(_l(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return bl(e,xe(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(_l(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),Tl(t,t.h.then((function(){!t.l&&Z(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(El(t)))})))}(this,(function(){t.next(_l(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(_l(r)):"function"===typeof t.next&&t.next(_l(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(_l(r)):"function"===typeof t.next&&t.next(_l(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return Tl(this,this.h.then((function(){return _l(e)?_l(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return bl(e,su(e.a,eu,{token:t}))})).then((function(t){var n=t.user;return qf(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return bl(n,su(n.a,nu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return bl(n,su(n.a,As,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return bl(e,t.ka(e.a))}))},t.Sc=function(t){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=_l(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return bl(t,t.a.zb()).then((function(e){var n=e.user;return qf(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return _l(this)&&_l(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&_l(this)&&Pf(_l(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&_l(this)&&Cf(_l(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),Tl(this,this.h.then((function(){e.l||Z(e.s,t)&&t(El(e))})))},t.removeAuthTokenListener=function(t){Y(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(al("local"),t.a,this.ja),this.b&&(Uc(this.b,this),Yc(this.b.b)),Promise.resolve()},t.hc=function(t){return Tl(this,function(t,e){return su(t,Ps,{identifier:e,continueUri:Rr()?hr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Ro(t)},t.wb=function(t,e){var n=this;return Tl(this,xe().then((function(){var t=new Ci(e);if(!t.c)throw new S("argument-error",Ri+" must be true when sending sign in link to email");return qi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return Tl(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return Tl(this,this.a.Ra(t).then((function(t){return new ci(t)})))},t.jb=function(t){return Tl(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return Tl(this,xe().then((function(){return"undefined"===typeof e||vt(e)?{}:qi(new Ci(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return Tl(this,rf(this,t,e,E(this.$a,this)))},t.Vc=function(t,e){var n=this;return Tl(this,xe().then((function(){var r=e||hr(),i=jo(t,r);if(!(r=Ro(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(i)})))},Ol.prototype.render=function(){},Ol.prototype.reset=function(){},Ol.prototype.getResponse=function(){},Ol.prototype.execute=function(){};var Sl=null;function kl(t,e){return(e=xl(e))&&t.a[e]||null}function xl(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Al(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=fe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Pl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Cl(){}function Dl(){}Nl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Al(t,e),this.b++},Nl.prototype.reset=function(t){var e=kl(this,t);t=xl(t),e&&t&&(e.delete(),delete this.a[t])},Nl.prototype.getResponse=function(t){return(t=kl(this,t))?t.getResponse():null},Nl.prototype.execute=function(t){(t=kl(this,t))&&t.execute()},Al.prototype.getResponse=function(){return Pl(this),this.b},Al.prototype.execute=function(){Pl(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Al.prototype.delete=function(){Pl(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Qr(Cl,"FACTOR_ID","phone"),Dl.prototype.g=function(){return Sl||(Sl=new Nl),xe(Sl)},Dl.prototype.c=function(){};var jl=null;function Rl(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ll=new wt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ml=new zr(3e4,6e4);Rl.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),Ml.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete u[e.a]},xe(Ja(kt(Ll,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Rl.prototype.c=function(){this.b--};var Vl=null;function Ul(t,e,n,r,i,o,a){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(jl||(jl=new Dl),a=jl):(Vl||(Vl=new Rl),a=Vl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[ql])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Bl],!u.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!fe(e)||!this.i&&fe(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ts(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Fl];this.a[Fl]=function(t){if(zl(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Cr(c,u);"function"===typeof e&&e(t)}};var f=this.a[Gl];this.a[Gl]=function(){if(zl(s,null),"function"===typeof f)f();else if("string"===typeof f){var t=Cr(f,u);"function"===typeof t&&t()}}}var Fl="callback",Gl="expired-callback",ql="sitekey",Bl="size";function zl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Hl(t,e){return t.h.push(e),e.oa((function(){X(t.h,e)})),e}function Kl(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Jl(t,e,n){var i=!1;try{this.b=n||r.Z.app()}catch(s){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.Z.SDK_VERSION?Ar(r.Z.SDK_VERSION,a):null,Ul.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,D(x),i)}function Wl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Zl.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Zl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=Ul.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Hl(this,xe().then((function(){if(Rr()&&!Ir())return wr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,su(t.s,zs,{})})).then((function(e){t.a[ql]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Kl(this);var t=this;return Hl(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=fe(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};gt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ye(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):le(o,a)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Kl(this);var t=this;return Hl(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Kl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Kl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=fe(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},O(Jl,Ul);var Zl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Xl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Yl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Ql(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:y}}function $l(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function th(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function eh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function nh(t,e){return y(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function rh(t){return y(t)&&"string"===typeof t.uid}function ih(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function oh(t,e){for(var n in e){var r=e[n].name;t[r]=uh(r,t[n],e[n].j)}}function ah(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:I((function(t){return this[t]}),n),set:I((function(t,e,n,r){Wl(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function sh(t,e,n,r){t[e]=uh(e,n,r)}function uh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Wl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}oh(ll.prototype,{jb:{name:"applyActionCode",j:[Xl("code")]},Ra:{name:"checkActionCode",j:[Xl("code")]},nb:{name:"confirmPasswordReset",j:[Xl("code"),Xl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Xl("email"),Xl("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Xl("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Xl("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ih(Ql(),$l(),"nextOrObserver"),$l("opt_error",!0),$l("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ih(Ql(),$l(),"nextOrObserver"),$l("opt_error",!0),$l("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Xl("email"),ih(Ql("opt_actionCodeSettings",!0),th(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Xl("email"),Ql("actionCodeSettings")]},xb:{name:"setPersistence",j:[Xl("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[eh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[eh()]},Tc:{name:"signInWithCustomToken",j:[Xl("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Xl("email"),Xl("password")]},Vc:{name:"signInWithEmailLink",j:[Xl("email"),Xl("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Xl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[ih({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Of)}},th(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Xl(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Xl("url"),Ql("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Xl("code")]}}),ah(ll.prototype,{lc:{name:"languageCode",kb:ih(Xl(),th(),"languageCode")},ti:{name:"tenantId",kb:ih(Xl(),th(),"tenantId")}}),ll.Persistence=rc,ll.Persistence.LOCAL="local",ll.Persistence.SESSION="session",ll.Persistence.NONE="none",oh(Of.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Yl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Yl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[eh()]},qb:{name:"linkWithCredential",j:[eh()]},Dc:{name:"linkWithPhoneNumber",j:[Xl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[eh()]},tb:{name:"reauthenticateWithCredential",j:[eh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Xl("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[ih(Ql("opt_actionCodeSettings",!0),th(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Xl(null,!0)]},cd:{name:"unlink",j:[Xl("provider")]},Bb:{name:"updateEmail",j:[Xl("email")]},Cb:{name:"updatePassword",j:[Xl("password")]},ed:{name:"updatePhoneNumber",j:[eh("phone")]},Db:{name:"updateProfile",j:[Ql("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Xl("email"),ih(Ql("opt_actionCodeSettings",!0),th(null,!0),"opt_actionCodeSettings",!0)]}}),oh(Nl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),oh(Ol.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),oh(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ah(ef.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Yl("appVerificationDisabledForTesting")}}),oh(nf.prototype,{confirm:{name:"confirm",j:[Xl("verificationCode")]}}),sh(lo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[bo,Co,Mo,yo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[ih(Xl(),Ql(),"json")]),sh(Do,"credential",(function(t,e){return new Po(t,e)}),[Xl("email"),Xl("password")]),oh(Po.prototype,{w:{name:"toJSON",j:[Xl(null,!0)]}}),oh(Io.prototype,{Ca:{name:"addScope",j:[Xl("scope")]},Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),sh(Io,"credential",To,[ih(Xl(),Ql(),"token")]),sh(Do,"credentialWithLink",jo,[Xl("email"),Xl("emailLink")]),oh(Oo.prototype,{Ca:{name:"addScope",j:[Xl("scope")]},Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),sh(Oo,"credential",No,[ih(Xl(),Ql(),"token")]),oh(So.prototype,{Ca:{name:"addScope",j:[Xl("scope")]},Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),sh(So,"credential",ko,[ih(Xl(),ih(Ql(),th()),"idToken"),ih(Xl(),th(),"accessToken",!0)]),oh(xo.prototype,{Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),sh(xo,"credential",Ao,[ih(Xl(),Ql(),"token"),Xl("secret",!0)]),oh(Eo.prototype,{Ca:{name:"addScope",j:[Xl("scope")]},credential:{name:"credential",j:[ih(Xl(),ih(Ql(),th()),"optionsOrIdToken"),ih(Xl(),th(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),oh(mo.prototype,{w:{name:"toJSON",j:[Xl(null,!0)]}}),oh(po.prototype,{w:{name:"toJSON",j:[Xl(null,!0)]}}),sh(Uo,"credential",Fo,[Xl("verificationId"),Xl("verificationCode")]),oh(Uo.prototype,{fb:{name:"verifyPhoneNumber",j:[ih(Xl(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?nh(t.session,co)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?nh(t.session,fo)&&rh(t.multiFactorHint):t.session&&t.multiFactorUid?nh(t.session,fo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),oh(Lo.prototype,{w:{name:"toJSON",j:[Xl(null,!0)]}}),oh(S.prototype,{toJSON:{name:"toJSON",j:[Xl(null,!0)]}}),oh(Zo.prototype,{toJSON:{name:"toJSON",j:[Xl(null,!0)]}}),oh(Wo.prototype,{toJSON:{name:"toJSON",j:[Xl(null,!0)]}}),oh(cf.prototype,{toJSON:{name:"toJSON",j:[Xl(null,!0)]}}),oh(af.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),oh(vf.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Xl("displayName",!0)]},bd:{name:"unenroll",j:[ih({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:rh},Xl(),"multiFactorInfoIdentifier")]}}),oh(Jl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),sh(Ii,"parseLink",Pi,[Xl("link")]),sh(Cl,"assertion",(function(t){return new df(t)}),[eh("phone")]),function(){if("undefined"===typeof r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:li,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:fi,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ll,AuthCredential:lo,Error:S};sh(t,"EmailAuthProvider",Do,[]),sh(t,"FacebookAuthProvider",Io,[]),sh(t,"GithubAuthProvider",Oo,[]),sh(t,"GoogleAuthProvider",So,[]),sh(t,"TwitterAuthProvider",xo,[]),sh(t,"OAuthProvider",Eo,[Xl("providerId")]),sh(t,"SAMLAuthProvider",_o,[Xl("providerId")]),sh(t,"PhoneAuthProvider",Uo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ll)}}]),sh(t,"RecaptchaVerifier",Jl,[ih(Xl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ql("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.Z.app.App)}}]),sh(t,"ActionCodeURL",Ii,[]),sh(t,"PhoneMultiFactorGenerator",Cl,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ll(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.3"),r.Z.INTERNAL.extendNamespace({User:Of})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},7651:function(t,e,n){"use strict";n.d(e,{H:function(){return u},a:function(){return c}});var r=n(7294),i=n(4895),o=n(1163),a=r.createElement,s=(0,r.createContext)({user:null,loading:!0,logout:function(){}}),u=function(t){var e=t.children,n=(0,r.useState)(null),u=n[0],c=n[1],f=(0,r.useState)(!0),l=f[0],h=f[1],d=(0,o.useRouter)();return(0,r.useEffect)((function(){var t=i.I.onAuthStateChanged((function(t){c(t),h(!1)}));return function(){return t()}}),[]),a(s.Provider,{value:{user:u,loading:l,logout:function(){i.I.signOut(),d.push("/")}}},e)};function c(){return(0,r.useContext)(s)}},4895:function(t,e,n){"use strict";n.d(e,{I:function(){return Rd},db:function(){return Ld},F:function(){return Md}});var r=n(5503),i=(n(7397),n(6099)),o=n(4594),a=n(4589),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},l=l||{},h=f||self;function d(){}function p(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:b).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function E(){return Date.now()}function I(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(){this.j=this.j,this.i=this.i}T.prototype.j=!1,T.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++m)})(this)},T.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var O=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},N=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var A,P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function C(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var j=h.navigator;if(j){var R=j.userAgent;if(R){A=R;break t}}A=""}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e={};for(var n in t)e[n]=t[n];return e}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<V.length;o++)n=V[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=d;var G,q=C(A,"Opera"),B=C(A,"Trident")||C(A,"MSIE"),z=C(A,"Edge"),H=z||B,K=C(A,"Gecko")&&!(C(A.toLowerCase(),"webkit")&&!C(A,"Edge"))&&!(C(A,"Trident")||C(A,"MSIE"))&&!C(A,"Edge"),J=C(A.toLowerCase(),"webkit")&&!C(A,"Edge");function W(){var t=h.document;return t?t.documentMode:void 0}t:{var Z="",X=function(){var t=A;return K?/rv:([^\);]+)(\)|;)/.exec(t):z?/Edge\/([\d\.]+)/.exec(t):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):J?/WebKit\/(\S+)/.exec(t):q?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(X&&(Z=X?X[1]:""),B){var Y=W();if(null!=Y&&Y>parseFloat(Z)){G=String(Y);break t}}G=Z}var Q,$={};function tt(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=P(String(G)).split("."),r=P(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(h.document&&B){var et=W();Q=et||(parseInt(G,10)||void 0)}else Q=void 0;var nt=Q,rt=!B||9<=Number(nt),it=B&&!tt("9"),ot=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",d,e),h.removeEventListener("test",d,e)}catch(n){}return t}();function at(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function st(t,e){if(at.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{F(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}at.prototype.b=function(){this.defaultPrevented=!0},I(st,at);var ut={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ct="closure_listenable_"+(1e6*Math.random()|0),ft=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ft,this.Y=this.Z=!1}function ht(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=O(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function vt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=vt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new lt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var yt="closure_lm_"+(1e6*Math.random()|0),mt={};function gt(t,e,n,r,i){if(r&&r.once)return wt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ct]?t.va(e,n,v(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i;if(a&&!rt)return null;var s=Nt(t);if(s||(t[yt]=s=new dt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Ot,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(It(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)wt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ct]?t.wa(e,n,v(r)?!!r.capture:!!r,i):bt(t,e,n,!0,r,i)}function _t(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)_t(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=kt(n),t&&t[ct]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=vt(o=t.a[e],n,r,i))&&(ht(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Nt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=vt(e,n,r,i)),(n=-1<t?e[t]:null)&&Et(n))}function Et(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ct])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(It(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nt(e))?(pt(n,t),0==n.b&&(n.src=null,e[yt]=null)):ht(t)}}}function It(t){return t in mt?mt[t]:mt[t]="on"+t}function Tt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Et(t),n.call(r,e)}function Ot(t,e){if(t.Y)return!0;if(!rt){if(!e)t:{e=["window","event"];for(var n=h,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Tt(t,e=new st(e,this))}return Tt(t,new st(e,this))}function Nt(t){return(t=t[yt])instanceof dt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"===typeof t?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function xt(){T.call(this),this.c=new dt(this),this.J=this,this.C=null}function At(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new at(e,t);else if(e instanceof at)e.target=e.target||t;else{var i=e;U(e=new at(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Pt(a,r,!0,e)&&i}if(i=Pt(a=e.a=t,r,!0,e)&&i,i=Pt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Pt(a=e.a=n[o],r,!1,e)&&i}function Pt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&pt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}I(xt,T),xt.prototype[ct]=!0,(c=xt.prototype).addEventListener=function(t,e,n,r){gt(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){_t(this,t,e,n,r)},c.G=function(){if(xt.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.C=null},c.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},c.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ct=h.JSON.stringify;function Dt(){this.b=this.a=null}var jt,Rt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Mt}),(function(t){t.reset()}));function Lt(){var t=Gt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Mt(){this.next=this.b=this.a=null}function Vt(t){h.setTimeout((function(){throw t}),0)}function Ut(t,e){jt||function(){var t=h.Promise.resolve(void 0);jt=function(){t.then(qt)}}(),Ft||(jt(),Ft=!0),Gt.add(t,e)}Dt.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Mt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Mt.prototype.reset=function(){this.next=this.b=this.a=null};var Ft=!1,Gt=new Dt;function qt(){for(var t;t=Lt();){try{t.a.call(t.b)}catch(n){Vt(n)}var e=Rt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ft=!1}function Bt(t,e){xt.call(this),this.b=t||1,this.a=e||h,this.f=w(this.Za,this),this.g=E()}function zt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ht(t,e,n){if("function"===typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}function Kt(t){t.a=Ht((function(){t.a=null,t.c&&(t.c=!1,Kt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}I(Bt,xt),(c=Bt.prototype).aa=!1,c.M=null,c.Za=function(){if(this.aa){var t=E()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),At(this,"tick"),this.aa&&(zt(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=E())},c.G=function(){Bt.X.G.call(this),zt(this),delete this.a};var Jt=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Kt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(h.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(T);function Wt(t){T.call(this),this.b=t,this.a={}}I(Wt,T);var Zt=[];function Xt(t,e,n,r){Array.isArray(n)||(n&&(Zt[0]=n.toString()),n=Zt);for(var i=0;i<n.length;i++){var o=gt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Yt(t){L(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Et(t)}),t),t.a={}}function Qt(){this.a=!0}function $t(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ct(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Wt.prototype.G=function(){Wt.X.G.call(this),Yt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qt.prototype.info=function(){};var te={},ee=null;function ne(){return ee=ee||new xt}function re(t){at.call(this,te.Fa,t)}function ie(t){var e=ne();At(e,new re(e,t))}function oe(t,e){at.call(this,te.STAT_EVENT,t),this.stat=e}function ae(t){var e=ne();At(e,new oe(e,t))}function se(t){at.call(this,te.Ga,t)}function ue(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){t()}),e)}te.Fa="serverreachability",I(re,at),te.STAT_EVENT="statevent",I(oe,at),te.Ga="timingevent",I(se,at);var ce={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},fe={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function le(){}function he(t){var e;return(e=t.a)||(e=t.a={}),e}function de(){}le.prototype.a=null;var pe,ve={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ye(){at.call(this,"d")}function me(){at.call(this,"c")}function ge(){}function be(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Wt(this),this.P=we,t=H?125:void 0,this.R=new Bt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}I(ye,at),I(me,at),I(ge,le),pe=new ge;var we=45e3,_e={},Ee={};function Ie(t,e,n){t.H=1,t.i=He(Ue(e)),t.j=n,t.I=!0,Te(t,null)}function Te(t,e){t.u=E(),Se(t),t.l=Ue(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),on(n.b,"t",r),t.D=0,t.a=$n(t.g,t.g.C?e:null),0<t.O&&(t.F=new Jt(w(t.Ca,t,t.a),t.O)),Xt(t.J,t.a,"readystatechange",t.Xa),e=t.B?M(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ie(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var f=c[0];c=c[1];var l=f.split("_");a=2<=l.length&&"type"==l[1]?a+(f+"=")+c+"&":a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Oe(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ne(t,n);if(i==Ee){4==e&&(t.h=4,ae(14),r=!1),$t(t.c,t.f,null,"[Incomplete Response]");break}if(i==_e){t.h=4,ae(15),$t(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}$t(t.c,t.f,i,null),Ce(t,i)}4==e&&0==n.length&&(t.h=1,ae(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hn(e),e.F=!0,ae(11))):($t(t.c,t.f,n,"[Invalid Chunked Response]"),Pe(t),Ae(t))}function Ne(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ee:(n=Number(e.substring(n,r)),isNaN(n)?_e:(r+=1)+n>e.length?Ee:(e=e.substr(r,n),t.D=r+n,e))}function Se(t){t.T=E()+t.P,ke(t,t.P)}function ke(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ue(w(t.Va,t),e)}function xe(t){t.o&&(h.clearTimeout(t.o),t.o=null)}function Ae(t){0==t.g.v||t.A||Wn(t.g,t)}function Pe(t){xe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,zt(t.R),Yt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ce(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||hn(n.b,t)))if(n.I=t.N,!t.C&&hn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Bh){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Jn(n),Ln(n)}zn(n),ae(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ue(w(n.Sa,n),6e3));if(1>=ln(n.b)&&n.ea){try{n.ea()}catch(Bh){}n.ea=void 0}}else Xn(n,11)}else if((t.C||n.a==t)&&Jn(n),!x(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var f=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var l=u.b;!l.a&&(C(f,"spdy")||C(f,"quic")||C(f,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(dn(l,l.b),l.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,ze(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=E()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Qn(u,u.C?u.ga:null,u.fa),d.C){pn(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(xe(p),Se(p)),u.a=d}else Bn(u);0<n.g.length&&Un(n)}else"stop"!=i[0]&&"close"!=i[0]||Xn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Xn(n,7):Rn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ie(4)}catch(Bh){}}function De(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)N(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(p(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function je(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof je)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Re(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Le(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Le(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Le(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=be.prototype).setTimeout=function(t){this.P=t},c.Xa=function(t){t=t.target;var e=this.F;e&&3==Pn(t)?e.f():this.Ca(t)},c.Ca=function(t){try{if(t==this.a)t:{var e=Pn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!H&&!this.a.$())){this.A||4!=e||7==n||ie(8==n||0>=r?3:2),xe(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,ae(12),Pe(this),Ae(this);break t}$t(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ce(this,u)}this.I?(Oe(this,e,o),H&&this.b&&3==e&&(Xt(this.J,this.R,"tick",this.Wa),this.R.start())):($t(this.c,this.f,o,null),Ce(this,o)),4==e&&Pe(this),this.b&&!this.A&&(4==e?Wn(this.g,this):(this.b=!1,Se(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ae(12)):(this.h=0,ae(13)),Pe(this),Ae(this)}}}catch(c){}},c.Wa=function(){if(this.a){var t=Pn(this.a),e=this.a.$();this.D<e.length&&(xe(this),Oe(this,t,e),this.b&&4!=t&&Se(this))}},c.cancel=function(){this.A=!0,Pe(this)},c.Va=function(){this.o=null;var t=E();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ie(3),ae(17)),Pe(this),this.h=2,Ae(this)):ke(this,this.T-t)},(c=je.prototype).K=function(){Re(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},c.L=function(){return Re(this),this.a.concat()},c.get=function(t,e){return Le(this.b,t)?this.b[t]:e},c.set=function(t,e){Le(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},c.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ve(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ve){this.a=void 0!==e?e:t.a,Fe(this,t.f),this.j=t.j,Ge(this,t.c),qe(this,t.h),this.g=t.g,e=t.b;var n=new tn;n.c=e.c,e.a&&(n.a=new je(e.a),n.b=e.b),Be(this,n),this.i=t.i}else t&&(n=String(t).match(Me))?(this.a=!!e,Fe(this,n[1]||"",!0),this.j=Ke(n[2]||""),Ge(this,n[3]||"",!0),qe(this,n[4]),this.g=Ke(n[5]||"",!0),Be(this,n[6]||"",!0),this.i=Ke(n[7]||"")):(this.a=!!e,this.b=new tn(null,this.a))}function Ue(t){return new Ve(t)}function Fe(t,e,n){t.f=n?Ke(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ge(t,e,n){t.c=n?Ke(e,!0):e}function qe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Be(t,e,n){e instanceof tn?(t.b=e,function(t,e){e&&!t.f&&(en(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(nn(this,e),on(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Je(e,Qe)),t.b=new tn(e,t.a))}function ze(t,e,n){t.b.set(e,n)}function He(t){return ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),t}function Ke(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Je(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,We),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function We(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ve.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Je(e,Ze,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Je(e,Ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Je(n,"/"==n.charAt(0)?Ye:Xe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Je(n,$e)),t.join("")};var Ze=/[#\/\?@]/g,Xe=/[#\?:]/g,Ye=/[#\?]/g,Qe=/[#\?@]/g,$e=/#/g;function tn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function en(t){t.a||(t.a=new je,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function nn(t,e){en(t),e=an(t,e),Le(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Le((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Re(t)))}function rn(t,e){return en(t),e=an(t,e),Le(t.a.b,e)}function on(t,e,n){nn(t,e),0<n.length&&(t.c=null,t.a.set(an(t,e),k(n)),t.b+=n.length)}function an(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(c=tn.prototype).add=function(t,e){en(this),this.c=null,t=an(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},c.forEach=function(t,e){en(this),this.a.forEach((function(n,r){N(n,(function(n){t.call(e,n,r,this)}),this)}),this)},c.L=function(){en(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.K=function(t){en(this);var e=[];if("string"===typeof t)rn(this,t)&&(e=S(e,this.a.get(an(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},c.set=function(t,e){return en(this),this.c=null,rn(this,t=an(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},c.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var sn=function(t,e){this.b=t,this.a=e};function un(t){this.g=t||cn,h.PerformanceNavigationTiming?t=0<(t=h.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(h.ia&&h.ia.ya&&h.ia.ya()&&h.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var cn=10;function fn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ln(t){return t.b?1:t.a?t.a.size:0}function hn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function dn(t,e){t.a?t.a.add(e):t.b=e}function pn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function vn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=u(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return k(t.c)}function yn(){}function mn(){this.a=new yn}function gn(t,e,n){var r=n||"";try{De(t,(function(t,n){var i=t;v(t)&&(i=Ct(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Cd){throw e.push(r+"type="+encodeURIComponent("_badmap")),Cd}}function bn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}un.prototype.cancel=function(){var t,e;if(this.c=vn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},yn.prototype.stringify=function(t){return h.JSON.stringify(t,void 0)},yn.prototype.parse=function(t){return h.JSON.parse(t,void 0)};var wn=h.JSON.parse;function _n(t){xt.call(this),this.headers=new je,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=En,this.D=this.F=!1}I(_n,xt);var En="",In=/^https?$/i,Tn=["POST","PUT"];function On(t){return"content-type"==t.toLowerCase()}function Nn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Sn(t),xn(t)}function Sn(t){t.u||(t.u=!0,At(t,"complete"),At(t,"error"))}function kn(t){if(t.b&&"undefined"!=typeof l&&(!t.s[1]||4!=Pn(t)||2!=t.W()))if(t.l&&4==Pn(t))Ht(t.za,0,t);else if(At(t,"readystatechange"),4==Pn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Me)[1]||null;if(!o&&h.self&&h.self.location){var a=h.self.location.protocol;o=a.substr(0,a.length-1)}i=!In.test(o?o.toLowerCase():"")}e=i}if(e)At(t,"complete"),At(t,"success");else{t.h=6;try{var s=2<Pn(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Sn(t)}}finally{xn(t)}}}function xn(t,e){if(t.a){An(t);var n=t.a,r=t.s[0]?d:null;t.a=null,t.s=null,e||At(t,"ready");try{n.onreadystatechange=r}catch(Cd){}}}function An(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(h.clearTimeout(t.m),t.m=null)}function Pn(t){return t.a?t.a.readyState:0}function Cn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ze(t,e,n))}function Dn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jn(t){this.pa=0,this.g=[],this.c=new Qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Dn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Dn("baseRetryDelayMs",5e3,t),this.Ra=Dn("retryDelaySeedMs",1e4,t),this.Ma=Dn("forwardChannelMaxRetries",2,t),this.ma=Dn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new un(t&&t.concurrentRequestLimit),this.ka=new mn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Rn(t){if(Mn(t),3==t.v){var e=t.R++,n=Ue(t.B);ze(n,"SID",t.J),ze(n,"RID",e),ze(n,"TYPE","terminate"),Gn(t,n),(e=new be(t,t.c,e,void 0)).H=2,e.i=He(Ue(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(e.i.toString(),"")),!n&&h.Image&&((new Image).src=e.i,n=!0),n||(e.a=$n(e.g,null),e.a.ba(e.i)),e.u=E(),Se(e)}Yn(t)}function Ln(t){t.a&&(Hn(t),t.a.cancel(),t.a=null)}function Mn(t){Ln(t),t.j&&(h.clearTimeout(t.j),t.j=null),Jn(t),t.b.cancel(),t.h&&("number"===typeof t.h&&h.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.g.push(new sn(t.Oa++,e)),3==t.v&&Un(t)}function Un(t){fn(t.b)||t.h||(t.h=!0,Ut(t.Ba,t),t.u=0)}function Fn(t,e){var n;n=e?e.f:t.R++;var r=Ue(t.B);ze(r,"SID",t.J),ze(r,"RID",n),ze(r,"AID",t.P),Gn(t,r),t.i&&t.l&&Cn(r,t.i,t.l),n=new be(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=qn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),dn(t.b,n),Ie(n,r,e)}function Gn(t,e){t.f&&De({},(function(t,n){ze(e,n,t)}))}function qn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?w(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,f=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{gn(f,a,"req"+c+"_")}catch(Ur){r&&r(f)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Bn(t){t.a||t.j||(t.T=1,Ut(t.Aa,t),t.o=0)}function zn(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=ue(w(t.Aa,t),Zn(t,t.o)),t.o++,!0)}function Hn(t){null!=t.s&&(h.clearTimeout(t.s),t.s=null)}function Kn(t){t.a=new be(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ue(t.la);ze(e,"RID","rpc"),ze(e,"SID",t.J),ze(e,"CI",t.H?"0":"1"),ze(e,"AID",t.P),Gn(t,e),ze(e,"TYPE","xmlhttp"),t.i&&t.l&&Cn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=He(Ue(e)),n.j=null,n.I=!0,Te(n,t)}function Jn(t){null!=t.m&&(h.clearTimeout(t.m),t.m=null)}function Wn(t,e){var n=null;if(t.a==e){Jn(t),Hn(t),t.a=null;var r=2}else{if(!hn(t.b,e))return;n=e.s,pn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=E()-e.u;var i=t.u;At(r=ne(),new se(r,n,e,i)),Un(t)}else Bn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ln(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=ue(w(t.Ba,t,e),Zn(t,t.u)),t.u++,!0))}(t,e)||2==r&&zn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Xn(t,5);break;case 4:Xn(t,10);break;case 3:Xn(t,6);break;default:Xn(t,2)}}function Zn(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Xn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=w(t.Ya,t);n||(n=new Ve("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Fe(n,"https"),He(n)),function(t,e){var n=new Qt;if(h.Image){var r=new Image;r.onload=_(bn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(bn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(bn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(bn,n,r,"TestLoadImage: timeout",!1,e),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ae(2);t.v=0,t.f&&t.f.ra(e),Yn(t),Mn(t)}function Yn(t){t.v=0,t.I=-1,t.f&&(0==vn(t.b).length&&0==t.g.length||(t.b.c.length=0,k(t.g),t.g.length=0),t.f.qa())}function Qn(t,e,n){var r=function(t){return t instanceof Ve?Ue(t):new Ve(t,void 0)}(n);if(""!=r.c)e&&Ge(r,e+"."+r.c),qe(r,r.h);else{var i=h.location;r=function(t,e,n,r){var i=new Ve(null,void 0);return t&&Fe(i,t),e&&Ge(i,e),n&&qe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&L(t.V,(function(t,e){ze(r,e,t)})),e=t.A,n=t.na,e&&n&&ze(r,e,n),ze(r,"VER",t.ha),Gn(t,r),r}function $n(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _n(t.Na)).F=t.C,e}function tr(){}function er(){if(B&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function nr(t,e){xt.call(this),this.a=new jn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new or(this)}function rr(t){ye.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ir(){me.call(this),this.status=1}function or(t){this.a=t}(c=_n.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?he(this.H):he(pe),this.a.onreadystatechange=w(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Nn(this,o)}t=n||"";var i=new je(this.headers);r&&De(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=On,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=h.FormData&&t instanceof h.FormData,!(0<=O(Tn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{An(this),0<this.o&&((this.D=function(t){return B&&tt(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=w(this.xa,this)):this.m=Ht(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Nn(this,o)}},c.xa=function(){"undefined"!=typeof l&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,At(this,"timeout"),this.abort(8))},c.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,At(this,"complete"),At(this,"abort"),xn(this))},c.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xn(this,!0)),_n.X.G.call(this)},c.za=function(){this.j||(this.A||this.l||this.g?kn(this):this.Ua())},c.Ua=function(){kn(this)},c.W=function(){try{return 2<Pn(this)?this.a.status:-1}catch(t){return-1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},c.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wn(e)}},c.ua=function(){return this.h},c.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(c=jn.prototype).ha=8,c.v=1,c.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new be(this,this.c,t,void 0),r=this.l;if(this.O&&(r?U(r=M(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=qn(this,n,e),ze(i=Ue(this.B),"RID",t),ze(i,"CVER",22),this.A&&ze(i,"X-HTTP-Session-Id",this.A),Gn(this,i),this.i&&r&&Cn(i,this.i,r),dn(this.b,n),this.Ia&&ze(i,"TYPE","init"),this.da?(ze(i,"$req",e),ze(i,"SID","null"),n.U=!0,Ie(n,i,null)):Ie(n,i,e),this.v=2}}else 3==this.v&&(t?Fn(this,t):0==this.g.length||fn(this.b)||Fn(this))},c.Aa=function(){if(this.j=null,Kn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ue(w(this.Ta,this),t)}},c.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ae(10),Ln(this),Kn(this))},c.Sa=function(){null!=this.m&&(this.m=null,Ln(this),zn(this),ae(19))},c.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ae(2)):(this.c.info("Failed to ping google.com"),ae(1))},(c=tr.prototype).ta=function(){},c.sa=function(){},c.ra=function(){},c.qa=function(){},c.Ja=function(){},er.prototype.a=function(t,e){return new nr(t,e)},I(nr,xt),nr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ae(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Qn(t,null,t.fa),Un(t)},nr.prototype.close=function(){Rn(this.a)},nr.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,Vn(this.a,e)}else this.l?((e={}).__data__=Ct(t),Vn(this.a,e)):Vn(this.a,t)},nr.prototype.G=function(){this.a.f=null,delete this.f,Rn(this.a),delete this.a,nr.X.G.call(this)},I(rr,ye),I(ir,me),I(or,tr),or.prototype.ta=function(){At(this.a,"a")},or.prototype.sa=function(t){At(this.a,new rr(t))},or.prototype.ra=function(t){At(this.a,new ir(t))},or.prototype.qa=function(){At(this.a,"b")},er.prototype.createWebChannel=er.prototype.a,nr.prototype.send=nr.prototype.h,nr.prototype.open=nr.prototype.g,nr.prototype.close=nr.prototype.close,ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,fe.COMPLETE="complete",de.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",xt.prototype.listen=xt.prototype.va,_n.prototype.listenOnce=_n.prototype.wa,_n.prototype.getLastError=_n.prototype.Qa,_n.prototype.getLastErrorCode=_n.prototype.ua,_n.prototype.getStatus=_n.prototype.W,_n.prototype.getResponseJson=_n.prototype.Pa,_n.prototype.getResponseText=_n.prototype.$,_n.prototype.send=_n.prototype.ba;var ar=function(){return new er},sr=function(){return ne()},ur=ce,cr=fe,fr=te,lr={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},hr=de,dr=_n,pr=n(655),vr=n(4155),yr=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},mr=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),gr=new o.Yd("@firebase/firestore");function br(){return gr.logLevel}function wr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gr.logLevel<=o.in.DEBUG){var r=e.map(Ir);gr.debug.apply(gr,(0,pr.pr)(["Firestore (8.2.6): "+t],r))}}function _r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gr.logLevel<=o.in.ERROR){var r=e.map(Ir);gr.error.apply(gr,(0,pr.pr)(["Firestore (8.2.6): "+t],r))}}function Er(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gr.logLevel<=o.in.WARN){var r=e.map(Ir);gr.warn.apply(gr,(0,pr.pr)(["Firestore (8.2.6): "+t],r))}}function Ir(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Tr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.6) INTERNAL ASSERTION FAILED: "+t;throw _r(e),new Error(e)}function Or(t,e){t||Tr()}function Nr(t,e){return t}function Sr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var kr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Sr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function xr(t,e){return t<e?-1:t>e?1:0}function Ar(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Pr(t){return t+"\0"}var Cr=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.h,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return xr(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Cr.T=new Cr("");var Dr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,pr.ZT)(e,t),e}(Error),Rr=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Cr.fromBase64String(e))}catch(e){throw new jr(Dr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Cr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Lr=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Lr.UNAUTHENTICATED=new Lr(null),Lr.R=new Lr("google-credentials-uid"),Lr.P=new Lr("first-party-uid");var Mr=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Vr=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Lr.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Ur=function(){function t(t){var e=this;this.D=null,this.currentUser=Lr.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.F(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(wr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Or("string"==typeof n.accessToken),new Mr(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Or(null===t||"string"==typeof t),new Lr(t)},t}(),Fr=function(){function t(t,e){this.O=t,this.k=e,this.type="FirstParty",this.user=Lr.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.O.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Gr=function(){function t(t,e){this.O=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new Fr(this.O,this.k))},t.prototype.v=function(t){t(Lr.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),qr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.M=function(t){return n.L(t)},this.$=function(t){return e.B(t)})}return t.prototype.L=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.$&&this.$(t),t},t}();qr.q=-1;var Br=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new jr(Dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new jr(Dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new jr(Dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jr(Dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?xr(this.nanoseconds,t.nanoseconds):xr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),zr=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new Br(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),Hr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Tr(),void 0===n?n=t.length-e:n>t.length-e&&Tr(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return t=void 0===t?1:t,this.J(this.segments,this.offset+t,this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new jr(Dr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(Hr),Jr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return Jr.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new jr(Dr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new jr(Dr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new jr(Dr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new jr(Dr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(Hr),Zr=function(){function t(t){this.path=t}return t._t=function(e){return new t(Kr.ot(e))},t.ft=function(e){return new t(Kr.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Kr.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return Kr.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new Kr(e.slice()))},t}();function Xr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $r=function(){function t(t){this.fields=t,t.sort(Wr.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Ar(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ti=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Or(!!t),"string"==typeof t){var e=0,n=ti.exec(t);if(Or(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ni(t.seconds),nanos:ni(t.nanos)}}function ni(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ri(t){return"string"==typeof t?Cr.fromBase64String(t):Cr.fromUint8Array(t)}function ii(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oi(t){var e=t.mapValue.fields.__previous_value__;return ii(e)?oi(e):e}function ai(t){var e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new Br(e.seconds,e.nanos)}function si(t){return null==t}function ui(t){return 0===t&&1/t==-1/0}function ci(t){return"number"==typeof t&&Number.isInteger(t)&&!ui(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ii(t)?4:10:Tr()}function li(t,e){var n=fi(t);if(n!==fi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ai(t).isEqual(ai(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ei(t.timestampValue),r=ei(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ri(t.bytesValue).isEqual(ri(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ni(t.geoPointValue.latitude)===ni(e.geoPointValue.latitude)&&ni(t.geoPointValue.longitude)===ni(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ni(t.integerValue)===ni(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ni(t.doubleValue),r=ni(e.doubleValue);return n===r?ui(n)===ui(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ar(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Xr(n)!==Xr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!li(n[i],r[i])))return!1;return!0}(t,e);default:return Tr()}}function hi(t,e){return void 0!==(t.values||[]).find((function(t){return li(t,e)}))}function di(t,e){var n=fi(t),r=fi(e);if(n!==r)return xr(n,r);switch(n){case 0:return 0;case 1:return xr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ni(t.integerValue||t.doubleValue),r=ni(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return pi(t.timestampValue,e.timestampValue);case 4:return pi(ai(t),ai(e));case 5:return xr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ri(t),r=ri(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xr(n[i],r[i]);if(0!==o)return o}return xr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=xr(ni(t.latitude),ni(e.latitude));return 0!==n?n:xr(ni(t.longitude),ni(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=di(n[i],r[i]);if(o)return o}return xr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=xr(r[a],o[a]);if(0!==s)return s;var u=di(n[r[a]],i[o[a]]);if(0!==u)return u}return xr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Tr()}}function pi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xr(t,e);var n=ei(t),r=ei(e),i=xr(n.seconds,r.seconds);return 0!==i?i:xr(n.nanos,r.nanos)}function vi(t){return yi(t)}function yi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ei(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ri(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Zr.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=yi(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+yi(t.fields[o])}return e+"}"}(t.mapValue):Tr();var e,n}function mi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function gi(t){return!!t&&"integerValue"in t}function bi(t){return!!t&&"arrayValue"in t}function wi(t){return!!t&&"nullValue"in t}function _i(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ei(t){return!!t&&"mapValue"in t}var Ii=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ei(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return li(this.proto,t.proto)},t}(),Ti=function(){function t(t){void 0===t&&(t=Ii.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===fi(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Wr.ct(),this.At);return null!=t?new Ii(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Ei(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.yt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Oi(t){var e=[];return Yr(t.fields||{},(function(t,n){var r=new Wr([t]);if(Ei(n)){var i=Oi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new $r(e)}var Ni=function(t,e){this.key=t,this.version=e},Si=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return(0,pr.ZT)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ni),ki=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return(0,pr.ZT)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ni),xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ni),Ai=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.vt=null};function Pi(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ai(t,e,n,r,i,o,a)}function Ci(t){var e=Nr(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+vi(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),si(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Hi(e.startAt)),e.endAt&&(n+="|ub:",n+=Hi(e.endAt)),e.vt=n}return e.vt}function Di(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ji(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!li(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zi(t.startAt,e.startAt)&&Zi(t.endAt,e.endAt)}function ji(t){return Zr.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ri=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,pr.ZT)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Li(t,n,r):"array-contains"===n?new Fi(t,r):"in"===n?new Gi(t,r):"not-in"===n?new qi(t,r):"array-contains-any"===n?new Bi(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Mi(t,n):new Vi(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(di(e,this.value)):null!==e&&fi(this.value)===fi(e)&&this.Dt(di(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Tr()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Li=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Zr.ft(r.referenceValue),i}return(0,pr.ZT)(e,t),e.prototype.matches=function(t){var e=Zr.H(t.key,this.key);return this.Dt(e)},e}(Ri),Mi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ui("in",n),r}return(0,pr.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ri),Vi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ui("not-in",n),r}return(0,pr.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ri);function Ui(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Zr.ft(t.referenceValue)}))}var Fi=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,pr.ZT)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return bi(e)&&hi(e.arrayValue,this.value)},e}(Ri),Gi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,pr.ZT)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&hi(this.value.arrayValue,e)},e}(Ri),qi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,pr.ZT)(e,t),e.prototype.matches=function(t){if(hi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!hi(this.value.arrayValue,e)},e}(Ri),Bi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,pr.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!bi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return hi(e.value.arrayValue,t)}))},e}(Ri),zi=function(t,e){this.position=t,this.before=e};function Hi(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return vi(t)})).join(",")}var Ki=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ji(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Wi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ut()?Zr.H(Zr.ft(a.referenceValue),n.key):di(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}var Xi=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Nt=null,this.Ft=null,this.startAt,this.endAt};function Yi(t,e,n,r,i,o,a,s){return new Xi(t,e,n,r,i,o,a,s)}function Qi(t){return new Xi(t)}function $i(t){return!si(t.limit)&&"F"===t.limitType}function to(t){return!si(t.limit)&&"L"===t.limitType}function eo(t){return t.xt.length>0?t.xt[0].field:null}function no(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function ro(t){return null!==t.collectionGroup}function io(t){var e=Nr(t);if(null===e.Nt){e.Nt=[];var n=no(e),r=eo(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Ki(n)),e.Nt.push(new Ki(Wr.ht(),"asc"));else{for(var i=!1,o=0,a=e.xt;o<a.length;o++){var s=a[o];e.Nt.push(s),s.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Ki(Wr.ht(),u))}}}return e.Nt}function oo(t){var e=Nr(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Pi(e.path,e.collectionGroup,io(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=io(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ki(o.field,a))}var s=e.endAt?new zi(e.endAt.position,!e.endAt.before):null,u=e.startAt?new zi(e.startAt.position,!e.startAt.before):null;e.Ft=Pi(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ft}function ao(t,e,n){return new Xi(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function so(t,e){return Di(oo(t),oo(e))&&t.limitType===e.limitType}function uo(t){return Ci(oo(t))+"|lt:"+t.limitType}function co(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+vi(e.value);var e})).join(", ")+"]"),si(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Hi(t.startAt)),t.endAt&&(e+=", endAt: "+Hi(t.endAt)),"Target("+e+")"}(oo(t))+"; limitType="+t.limitType+")"}function fo(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Zr.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Wi(t.startAt,io(t),e))&&(!t.endAt||!Wi(t.endAt,io(t),e))}(t,e)}function lo(t){return function(e,n){for(var r=!1,i=0,o=io(t);i<o.length;i++){var a=o[i],s=ho(a,e,n);if(0!==s)return s;r=r||a.field.ut()}return 0}}function ho(t,e,n){var r=t.field.ut()?Zr.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?di(r,i):Tr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Tr()}}var po=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=zr.min()),void 0===o&&(o=zr.min()),void 0===a&&(a=Cr.T),this.target=t,this.targetId=e,this.Ot=n,this.sequenceNumber=r,this.kt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Mt=function(e){return new t(this.target,this.targetId,this.Ot,e,this.kt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Lt=function(e,n){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.$t=function(e){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,this.kt,e,this.resumeToken)},t}();function vo(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ui(e)?"-0":e}}function yo(t){return{integerValue:""+t}}function mo(t,e){return ci(e)?yo(e):vo(t,e)}var go=function(){this.qt=void 0};function bo(t,e,n){return t instanceof Eo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Io?To(t,e):t instanceof Oo?No(t,e):function(t,e){var n=_o(t,e),r=ko(n)+ko(t.Ut);return gi(n)&&gi(t.Ut)?yo(r):vo(t.Qt,r)}(t,e)}function wo(t,e,n){return t instanceof Io?To(t,e):t instanceof Oo?No(t,e):n}function _o(t,e){return t instanceof So?gi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e}(go),Io=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,pr.ZT)(e,t),e}(go);function To(t,e){for(var n=xo(e),r=function(t){n.some((function(e){return li(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Oo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,pr.ZT)(e,t),e}(go);function No(t,e){for(var n=xo(e),r=function(t){n=n.filter((function(e){return!li(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var So=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return(0,pr.ZT)(e,t),e}(go);function ko(t){return ni(t.integerValue||t.doubleValue)}function xo(t){return bi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ao=function(t,e){this.field=t,this.transform=e},Po=function(t,e){this.version=t,this.transformResults=e},Co=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Do(t,e){return void 0!==t.updateTime?e instanceof Si&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Si}var jo=function(){};function Ro(t,e,n){return t instanceof Fo?function(t,e,n){var r=t.value;if(n.transformResults){var i=Bo(t.fieldTransforms,e,n.transformResults);r=Ho(t.fieldTransforms,r,i)}return new Si(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Go?function(t,e,n){if(!Do(t.jt,e))return new xi(t.key,n.version);var r=qo(t,e,n.transformResults?Bo(t.fieldTransforms,e,n.transformResults):[]);return new Si(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ki(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Lo(t,e,n){return t instanceof Fo?function(t,e,n){if(!Do(t.jt,e))return e;var r=t.value,i=zo(t.fieldTransforms,n,e);r=Ho(t.fieldTransforms,r,i);var o=Uo(e);return new Si(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Go?function(t,e,n){if(!Do(t.jt,e))return e;var r=Uo(e),i=qo(t,e,zo(t.fieldTransforms,n,e));return new Si(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Do(t.jt,e)?new ki(t.key,zr.min()):e}(t,e)}function Mo(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof Si?e.field(o.field):void 0,s=_o(o.transform,a||null);null!=s&&(n=null==n?(new Ti).set(o.field,s):n.set(o.field,s))}return n?n.Pt():null}(t.fieldTransforms,e)}function Vo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ar(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Io&&e instanceof Io||t instanceof Oo&&e instanceof Oo?Ar(t.elements,e.elements,li):t instanceof So&&e instanceof So?li(t.Ut,e.Ut):t instanceof Eo&&e instanceof Eo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Uo(t){return t instanceof Si?t.version:zr.min()}var Fo=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return(0,pr.ZT)(e,t),e}(jo),Go=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.Gt=r,a.jt=i,a.fieldTransforms=o,a.type=1,a}return(0,pr.ZT)(e,t),e}(jo);function qo(t,e,n){var r;return r=function(t,e){var n=new Ti(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof Si?e.data():Ii.empty()),Ho(t.fieldTransforms,r,n)}function Bo(t,e,n){var r=[];Or(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Si&&(s=e.field(o.field)),r.push(wo(a,s,n[i]))}return r}function zo(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof Si&&(u=n.field(a.field)),r.push(bo(s,u,e))}return r}function Ho(t,e,n){for(var r=new Ti(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Pt()}var Ko,Jo,Wo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return(0,pr.ZT)(e,t),e}(jo),Zo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return(0,pr.ZT)(e,t),e}(jo),Xo=function(t){this.count=t};function Yo(t){switch(t){case Dr.OK:return Tr();case Dr.CANCELLED:case Dr.UNKNOWN:case Dr.DEADLINE_EXCEEDED:case Dr.RESOURCE_EXHAUSTED:case Dr.INTERNAL:case Dr.UNAVAILABLE:case Dr.UNAUTHENTICATED:return!1;case Dr.INVALID_ARGUMENT:case Dr.NOT_FOUND:case Dr.ALREADY_EXISTS:case Dr.PERMISSION_DENIED:case Dr.FAILED_PRECONDITION:case Dr.ABORTED:case Dr.OUT_OF_RANGE:case Dr.UNIMPLEMENTED:case Dr.DATA_LOSS:return!0;default:return Tr()}}function Qo(t){if(void 0===t)return _r("GRPC error has no .code"),Dr.UNKNOWN;switch(t){case Ko.OK:return Dr.OK;case Ko.CANCELLED:return Dr.CANCELLED;case Ko.UNKNOWN:return Dr.UNKNOWN;case Ko.DEADLINE_EXCEEDED:return Dr.DEADLINE_EXCEEDED;case Ko.RESOURCE_EXHAUSTED:return Dr.RESOURCE_EXHAUSTED;case Ko.INTERNAL:return Dr.INTERNAL;case Ko.UNAVAILABLE:return Dr.UNAVAILABLE;case Ko.UNAUTHENTICATED:return Dr.UNAUTHENTICATED;case Ko.INVALID_ARGUMENT:return Dr.INVALID_ARGUMENT;case Ko.NOT_FOUND:return Dr.NOT_FOUND;case Ko.ALREADY_EXISTS:return Dr.ALREADY_EXISTS;case Ko.PERMISSION_DENIED:return Dr.PERMISSION_DENIED;case Ko.FAILED_PRECONDITION:return Dr.FAILED_PRECONDITION;case Ko.ABORTED:return Dr.ABORTED;case Ko.OUT_OF_RANGE:return Dr.OUT_OF_RANGE;case Ko.UNIMPLEMENTED:return Dr.UNIMPLEMENTED;case Ko.DATA_LOSS:return Dr.DATA_LOSS;default:return Tr()}}(Jo=Ko||(Ko={}))[Jo.OK=0]="OK",Jo[Jo.CANCELLED=1]="CANCELLED",Jo[Jo.UNKNOWN=2]="UNKNOWN",Jo[Jo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jo[Jo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jo[Jo.NOT_FOUND=5]="NOT_FOUND",Jo[Jo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jo[Jo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jo[Jo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jo[Jo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jo[Jo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jo[Jo.ABORTED=10]="ABORTED",Jo[Jo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jo[Jo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jo[Jo.INTERNAL=13]="INTERNAL",Jo[Jo.UNAVAILABLE=14]="UNAVAILABLE",Jo[Jo.DATA_LOSS=15]="DATA_LOSS";var $o=function(){function t(t,e){this.H=t,this.root=e||ea.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,ea.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,ea.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new ta(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new ta(this.root,t,this.H,!1)},t.prototype.ne=function(){return new ta(this.root,null,this.H,!0)},t.prototype.se=function(t){return new ta(this.root,t,this.H,!0)},t}(),ta=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),ea=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Tr();if(this.right.le())throw Tr();var t=this.left.Ie();if(t!==this.right.Ie())throw Tr();return t+(this.le()?0:1)},t}();ea.EMPTY=null,ea.RED=!0,ea.Ht=!1,ea.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new ea(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var na=function(){function t(t){this.H=t,this.data=new $o(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new ra(this.data.te())},t.prototype.ee=function(t){return new ra(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),ra=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),ia=new $o(Zr.H);function oa(){return ia}function aa(){return oa()}var sa=new $o(Zr.H);function ua(){return sa}var ca=new $o(Zr.H);function fa(){return ca}var la=new na(Zr.H);function ha(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=la,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var da=new na(xr);function pa(){return da}var va=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Zr.H(e.key,n.key)}:function(t,e){return Zr.H(t.key,e.key)},this.ge=ua(),this.Ve=new $o(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),ya=function(){function t(){this.be=new $o(Zr.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Tr():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),ma=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=a,this.xe=s}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,va.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&so(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ga=function(){function t(t,e,n,r,i){this.kt=t,this.Fe=e,this.Oe=n,this.ke=r,this.Me=i}return t.Le=function(e,n){var r=new Map;return r.set(e,ba.$e(e,n)),new t(zr.min(),r,pa(),oa(),ha())},t}(),ba=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.$e=function(e,n){return new t(Cr.T,n,ha(),ha(),ha())},t}(),wa=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},_a=function(t,e){this.targetId=t,this.je=e},Ea=function(t,e,n,r){void 0===n&&(n=Cr.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ia=function(){function t(){this.Ge=0,this.ze=Na(),this.He=Cr.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=ha(),e=ha(),n=ha();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Tr()}})),new ba(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Na()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Ta=function(){function t(t){this.un=t,this.hn=new Map,this.ln=oa(),this._n=Oa(),this.fn=new na(xr)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Si?this.wn(r,t.We):t.We instanceof ki&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.En(r,t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Tr()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(ji(i))if(0===n){var o=new Zr(i.path);this.En(e,o,new ki(o,zr.min()))}else Or(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&ji(o.target)){var a=new Zr(o.target.path);null!==e.ln.get(a)||e.pn(i,a)||e.En(i,a,new ki(a,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=ha();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ot||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ga(t,n,this.fn,this.ln,r);return this.ln=oa(),this._n=Oa(),this.fn=new na(xr),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Ia,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new na(xr),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||wr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Ia),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Oa(){return new $o(Zr.H)}function Na(){return new $o(Zr.H)}var Sa={asc:"ASCENDING",desc:"DESCENDING"},ka={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xa=function(t,e){this.t=t,this.Bt=e};function Aa(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pa(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Ca(t,e){return Aa(t,e.j())}function Da(t){return Or(!!t),zr.K(function(t){var e=ei(t);return new Br(e.seconds,e.nanos)}(t))}function ja(t,e){return function(t){return new Kr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Ra(t){var e=Kr.ot(t);return Or(os(e)),e}function La(t,e){return ja(t.t,e.path)}function Ma(t,e){var n=Ra(e);if(n.get(1)!==t.t.projectId)throw new jr(Dr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new jr(Dr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Zr(Ga(n))}function Va(t,e){return ja(t.t,e)}function Ua(t){var e=Ra(t);return 4===e.length?Kr.ct():Ga(e)}function Fa(t){return new Kr(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Ga(t){return Or(t.length>4&&"documents"===t.get(4)),t.Y(5)}function qa(t,e,n){return{name:La(t,e),fields:n.proto.mapValue.fields}}function Ba(t,e,n){var r=Ma(t,e.name),i=Da(e.updateTime),o=new Ii({mapValue:{fields:e.fields}});return new Si(r,i,o,{hasCommittedMutations:!!n})}function za(t,e){var n;if(e instanceof Fo)n={update:qa(t,e.key,e.value)};else if(e instanceof Wo)n={delete:La(t,e.key)};else if(e instanceof Go)n={update:qa(t,e.key,e.data),updateMask:is(e.Gt)};else{if(!(e instanceof Zo))return Tr();n={verify:La(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Eo)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Io)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Oo)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof So)return{fieldPath:e.field.rt(),increment:n.Ut};throw Tr()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ca(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Tr()}(t,e.jt)),n}function Ha(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Co.updateTime(Da(t.updateTime)):void 0!==t.exists?Co.exists(t.exists):Co.Kt()}(e.currentDocument):Co.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Or("REQUEST_TIME"===e.setToServerValue),n=new Eo;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Io(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Oo(i)}else"increment"in e?n=new So(t,e.increment):Tr();var o=Wr.lt(e.fieldPath);return new Ao(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Ma(t,e.update.name),o=new Ii({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new $r(e.map((function(t){return Wr.lt(t)})))}(e.updateMask);return new Go(i,o,a,n,r)}return new Fo(i,o,n,r)}if(e.delete){var s=Ma(t,e.delete);return new Wo(s,n)}if(e.verify){var u=Ma(t,e.verify);return new Zo(u,n)}return Tr()}function Ka(t,e){return{documents:[Va(t,e.path)]}}function Ja(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Va(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Va(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(_i(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NAN"}};if(wi(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_i(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NAN"}};if(wi(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(t.field),op:$a(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ts(t.field),direction:Qa(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Bt||si(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Xa(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Xa(e.endAt)),n}function Wa(t){var e=Ua(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Or(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Za(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Ki(es(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return si(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ya(n.startAt));var f=null;return n.endAt&&(f=Ya(n.endAt)),Yi(e,i,s,a,u,"F",c,f)}function Za(t){return t?void 0!==t.unaryFilter?[rs(t)]:void 0!==t.fieldFilter?[ns(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Za(t)})).reduce((function(t,e){return t.concat(e)})):Tr():[]}function Xa(t){return{before:t.before,values:t.position}}function Ya(t){var e=!!t.before,n=t.values||[];return new zi(n,e)}function Qa(t){return Sa[t]}function $a(t){return ka[t]}function ts(t){return{fieldPath:t.rt()}}function es(t){return Wr.lt(t.fieldPath)}function ns(t){return Ri.create(es(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Tr()}}(t.fieldFilter.op),t.fieldFilter.value)}function rs(t){switch(t.unaryFilter.op){case"IS_NAN":var e=es(t.unaryFilter.field);return Ri.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=es(t.unaryFilter.field);return Ri.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=es(t.unaryFilter.field);return Ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=es(t.unaryFilter.field);return Ri.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Tr()}}function is(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function os(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var as=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ss=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Tr(),this.Nn=!0,this.xn?this.error?this.Fn(n,this.error):this.On(e,this.result):new t((function(t,i){r.Dn=function(n){r.On(e,n).next(t,i)},r.Cn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.kn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Mn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.On=function(e,n){return e?this.Mn((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Mn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Ln=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.$n=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Ln(r)},t}(),us=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new as,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new ls(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=ys(e.target.error);n.Bn.reject(new ls(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ls(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(wr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ds(e)},t}(),cs=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn((0,a.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return wr("SimpleDb","Removing database:",t),ps(window.indexedDB.deleteDatabase(t)).kn()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=(0,a.z$)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof vr&&"YES"===(null===(t=vr.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(wr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ls(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new jr(Dr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ls(t,n))},i.onupgradeneeded=function(t){wr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Un.Jn(e,i.transaction,t.oldVersion,n.version).next((function(){wr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,pr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,pr.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,f;return(0,pr.Jh)(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.Hn(t)];case 2:return s.db=l.sent(),e=us.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),ss.reject(t)})).kn(),u={},a.catch((function(){})),[4,e.qn];case 3:return[2,(u.value=(l.sent(),a),u)];case 4:return c=l.sent(),f="FirebaseError"!==c.name&&o<3,wr("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),s.close(),f?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),fs=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return ps(this.Zn.delete())},t}(),ls=function(t){function e(e,n){var r=this;return(r=t.call(this,Dr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,pr.ZT)(e,t),e}(jr);function hs(t){return"IndexedDbTransactionError"===t.name}var ds=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(wr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(wr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ps(n)},t.prototype.add=function(t){return wr("SimpleDb","ADD",this.store.name,t,t),ps(this.store.add(t))},t.prototype.get=function(t){var e=this;return ps(this.store.get(t)).next((function(n){return void 0===n&&(n=null),wr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return wr("SimpleDb","DELETE",this.store.name,t),ps(this.store.delete(t))},t.prototype.count=function(){return wr("SimpleDb","COUNT",this.store.name),ps(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){wr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new ss((function(n,r){e.onerror=function(t){var e=ys(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new ss((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new fs(i),a=e(i.primaryKey,i.value,o);if(a instanceof ss){var s=a.catch((function(t){return o.done(),ss.reject(t)}));n.push(s)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return ss.Ln(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ps(t){return new ss((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=ys(t.target.error);n(e)}}))}var vs=!1;function ys(t){var e=cs.Qn((0,a.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new jr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return vs||(vs=!0,setTimeout((function(){throw r}),0)),r}}return t}var ms=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new as,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new jr(Dr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function gs(t,e){if(_r("AsyncQueue",e+": "+t),hs(t))return new jr(Dr.UNAVAILABLE,e+": "+t);throw t}var bs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ws=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();function _s(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Is(e)),e=Es(t.get(n),e);return Is(e)}function Es(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Is(t){return t+"\x01\x01"}function Ts(t){var e=t.length;if(Or(e>=2),2===e)return Or("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Kr.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Tr(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Tr()}o=a+2}return new Kr(r)}var Os=function(t,e){this.seconds=t,this.nanoseconds=e},Ns=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ns.store="owner",Ns.key="owner";var Ss=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ss.store="mutationQueues",Ss.keyPath="userId";var ks=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ks.store="mutations",ks.keyPath="batchId",ks.userMutationsIndex="userMutationsIndex",ks.userMutationsKeyPath=["userId","batchId"];var xs=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_s(e)]},t.key=function(t,e,n){return[t,_s(e),n]},t}();xs.store="documentMutations",xs.PLACEHOLDER=new xs;var As=function(t,e){this.path=t,this.readTime=e},Ps=function(t,e){this.path=t,this.version=e},Cs=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Cs.store="remoteDocuments",Cs.readTimeIndex="readTimeIndex",Cs.readTimeIndexPath="readTime",Cs.collectionReadTimeIndex="collectionReadTimeIndex",Cs.collectionReadTimeIndexPath=["parentPath","readTime"];var Ds=function(t){this.byteSize=t};Ds.store="remoteDocumentGlobal",Ds.key="remoteDocumentGlobalKey";var js=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};js.store="targets",js.keyPath="targetId",js.queryTargetsIndexName="queryTargetsIndex",js.queryTargetsKeyPath=["canonicalId","targetId"];var Rs=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Rs.store="targetDocuments",Rs.keyPath=["targetId","path"],Rs.documentTargetsIndex="documentTargetsIndex",Rs.documentTargetsKeyPath=["path","targetId"];var Ls=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ls.key="targetGlobalKey",Ls.store="targetGlobal";var Ms=function(t,e){this.collectionId=t,this.parent=e};Ms.store="collectionParents",Ms.keyPath=["collectionId","parent"];var Vs=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Vs.store="clientMetadata",Vs.keyPath="clientId";var Us=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Us.store="bundles",Us.keyPath="bundleId";var Fs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Fs.store="namedQueries",Fs.keyPath="name";var Gs=(0,pr.pr)((0,pr.pr)((0,pr.pr)((0,pr.pr)([Ss.store,ks.store,xs.store,Cs.store,js.store,Ns.store,Ls.store,Rs.store],[Vs.store]),[Ds.store]),[Ms.store]),[Us.store,Fs.store]),qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return(0,pr.ZT)(e,t),e}(ws);function Bs(t,e){var n=Nr(t);return cs.zn(n.ps,e)}var zs=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ro(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=Lo(a,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=Lo(a,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ha())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ar(this.mutations,t.mutations,(function(t,e){return Vo(t,e)}))&&Ar(this.baseMutations,t.baseMutations,(function(t,e){return Vo(t,e)}))},t}(),Hs=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.Fs=r}return t.from=function(e,n,r){Or(e.mutations.length===r.length);for(var i=fa(),o=e.mutations,a=0;a<o.length;a++)i=i.zt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Ks=function(t){this.Os=t};function Js(t,e){if(e.document)return Ba(t.Os,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Zr.Et(e.noDocument.path),r=Qs(e.noDocument.readTime);return new ki(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Zr.Et(e.unknownDocument.path);return r=Qs(e.unknownDocument.version),new xi(i,r)}return Tr()}function Ws(t,e,n){var r=Zs(n),i=e.key.path.X().it();if(e instanceof Si){var o=function(t,e){return{name:La(t,e.key),fields:e.bt().mapValue.fields,updateTime:Aa(t,e.version.j())}}(t.Os,e),a=e.hasCommittedMutations;return new Cs(null,null,o,a,r,i)}if(e instanceof ki){var s=e.key.path.it(),u=Ys(e.version);return a=e.hasCommittedMutations,new Cs(null,new As(s,u),null,a,r,i)}if(e instanceof xi){var c=e.key.path.it(),f=Ys(e.version);return new Cs(new Ps(c,f),null,null,!0,r,i)}return Tr()}function Zs(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Xs(t){var e=new Br(t[0],t[1]);return zr.K(e)}function Ys(t){var e=t.j();return new Os(e.seconds,e.nanoseconds)}function Qs(t){var e=new Br(t.seconds,t.nanoseconds);return zr.K(e)}function $s(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Ha(t.Os,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Ha(t.Os,e)})),s=Br.fromMillis(e.localWriteTimeMs);return new zs(e.batchId,s,n,a)}function tu(t){var e,n,r=Qs(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Qs(t.lastLimboFreeSnapshotVersion):zr.min();return void 0!==t.query.documents?(Or(1===(n=t.query).documents.length),e=oo(Qi(Ua(n.documents[0])))):e=function(t){return oo(Wa(t))}(t.query),new po(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Cr.fromBase64String(t.resumeToken))}function eu(t,e){var n,r=Ys(e.kt),i=Ys(e.lastLimboFreeSnapshotVersion);n=ji(e.target)?Ka(t.Os,e.target):Ja(t.Os,e.target);var o=e.resumeToken.toBase64();return new js(e.targetId,Ci(e.target),r,o,e.sequenceNumber,i,n)}function nu(t){var e=Wa({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ao(e,e.limit,"L"):e}var ru=function(){function t(){}return t.prototype.ks=function(t,e){return iu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Qs(e.createTime),version:e.version};var e}))},t.prototype.Ms=function(t,e){return iu(t).put({bundleId:(n=e).id,createTime:Ys(Da(n.createTime)),version:n.version});var n},t.prototype.Ls=function(t,e){return ou(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:nu(e.bundledQuery),readTime:Qs(e.readTime)};var e}))},t.prototype.$s=function(t,e){return ou(t).put(function(t){return{name:t.name,readTime:Ys(Da(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function iu(t){return Bs(t,Us.store)}function ou(t){return Bs(t,Fs.store)}var au=function(){function t(){this.Bs=new su}return t.prototype.qs=function(t,e){return this.Bs.add(e),ss.resolve()},t.prototype.Us=function(t,e){return ss.resolve(this.Bs.getEntries(e))},t}(),su=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new na(Kr.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new na(Kr.H)).it()},t}(),uu=function(){function t(){this.Qs=new su}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:_s(i)};return cu(t).put(o)}return ss.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Pr(e),""],!1,!0);return cu(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ts(o.parent))}return n}))},t}();function cu(t){return Bs(t,Ms.store)}var fu={Ks:!1,Ws:0,js:0,Gs:0},lu=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function hu(t){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){if(t.code!==Dr.FAILED_PRECONDITION||t.message!==bs)throw t;return wr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}lu.Xs=10,lu.Zs=1e3,lu.ti=new lu(41943040,lu.Xs,lu.Zs),lu.ei=new lu(-1,0,0);var du=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.si(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Yr(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.et=function(){return Qr(this.ii)},t}(),pu=function(){function t(){this.ri=new du((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:zr.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?ss.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function vu(t,e,n){var r=t.store(ks.store),i=t.store(xs.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.hs({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Or(1===s)})));for(var c=[],f=0,l=n.mutations;f<l.length;f++){var h=l[f],d=xs.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return ss.Ln(o).next((function(){return c}))}function yu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Tr();e=t.noDocument}return JSON.stringify(e).length}var mu=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Or(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bu(t).hs({index:ks.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=wu(t),a=bu(t);return a.add({}).next((function(s){Or("number"==typeof s);for(var u=new zs(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return za(t.Os,e)})),i=n.mutations.map((function(e){return za(t.Os,e)}));return new ks(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),f=[],l=new na((function(t,e){return xr(t.rt(),e.rt())})),h=0,d=r;h<d.length;h++){var p=d[h],v=xs.key(i.userId,p.key.path,s);l=l.add(p.key.path.X()),f.push(a.put(c)),f.push(o.put(v,xs.PLACEHOLDER))}return l.forEach((function(e){f.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[s]=u.keys()})),ss.Ln(f).next((function(){return u}))}))},t.prototype.Pi=function(t,e){var n=this;return bu(t).get(e).next((function(t){return t?(Or(t.userId===n.userId),$s(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?ss.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return bu(t).hs({index:ks.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Or(e.batchId>=r),o=$s(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bu(t).hs({index:ks.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bu(t).rs(ks.userMutationsIndex,n).next((function(t){return t.map((function(t){return $s(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=xs.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return wu(t).hs({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],f=Ts(u);if(s===n.userId&&e.path.isEqual(f))return bu(t).get(c).next((function(t){if(!t)throw Tr();Or(t.userId===n.userId),o.push($s(n.Qt,t))}));a.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new na(xr),i=[];return e.forEach((function(e){var o=xs.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=wu(t).hs({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Ts(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),ss.Ln(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=xs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new na(xr);return wu(t).hs({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],f=Ts(u);a===n.userId&&r.nt(f)?f.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Si(t,s)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(bu(t).get(e).next((function(t){if(null===t)throw Tr();Or(t.userId===n.userId),r.push($s(n.Qt,t))})))})),ss.Ln(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return vu(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),ss.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.Fi=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return ss.resolve();var r=IDBKeyRange.lowerBound(xs.prefixForUser(e.userId)),i=[];return wu(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Ts(t[1]);i.push(o)}else r.done()})).next((function(){Or(0===i.length)}))}))},t.prototype.Oi=function(t,e){return gu(t,this.userId,e)},t.prototype.ki=function(t){var e=this;return _u(t).get(this.userId).next((function(t){return t||new Ss(e.userId,-1,"")}))},t}();function gu(t,e,n){var r=xs.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return wu(t).hs({range:o,us:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function bu(t){return Bs(t,ks.store)}function wu(t){return Bs(t,xs.store)}function _u(t){return Bs(t,Ss.store)}var Eu=function(){function t(t){this.Mi=t}return t.prototype.next=function(){return this.Mi+=2,this.Mi},t.Li=function(){return new t(0)},t.$i=function(){return new t(-1)},t}(),Iu=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new Eu(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return zr.K(new Br(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return Tu(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return Or(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Tu(t).hs((function(a,s){var u=tu(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))})).next((function(){return ss.Ln(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return Tu(t).hs((function(t,n){var r=tu(n);e(r)}))},t.prototype.qi=function(t){return Ou(t).get(Ls.key).next((function(t){return Or(null!==t),t}))},t.prototype.Ui=function(t,e){return Ou(t).put(Ls.key,e)},t.prototype.Gi=function(t,e){return Tu(t).put(eu(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=Ci(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tu(t).hs({range:r,index:js.queryTargetsIndexName},(function(t,n,r){var o=tu(n);Di(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=Nu(t);return e.forEach((function(e){var a=_s(e.path);i.push(o.put(new Rs(n,a))),i.push(r.Ti.nr(t,n,e))})),ss.Ln(i)},t.prototype.sr=function(t,e,n){var r=this,i=Nu(t);return ss.forEach(e,(function(e){var o=_s(e.path);return ss.Ln([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=Nu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nu(t),i=ha();return r.hs({range:n,us:!0},(function(t,e,n){var r=Ts(t[1]),o=new Zr(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Oi=function(t,e){var n=_s(e.path),r=IDBKeyRange.bound([n],[Pr(n)],!1,!0),i=0;return Nu(t).hs({index:Rs.documentTargetsIndex,us:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return Tu(t).get(e).next((function(t){return t?tu(t):null}))},t}();function Tu(t){return Bs(t,js.store)}function Ou(t){return Bs(t,Ls.store)}function Nu(t){return Bs(t,Rs.store)}function Su(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=xr(n,i);return 0===a?xr(r,o):a}var ku=function(){function t(t){this.cr=t,this.buffer=new na(Su),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Su(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),xu=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;wr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return(0,pr.mG)(e,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return hs(e=n.sent())?(wr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,hu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Au=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return ss.resolve(qr.q);var r=new ku(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(wr("LruGarbageCollector","Garbage collection skipped; disabled"),ss.resolve(fu)):this.pr(t).next((function(r){return r<n.params.zs?(wr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),fu):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,a,s,u,c,f=this,l=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>f.params.Js?(wr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.Js+" from "+e),r=f.params.Js):r=e,a=Date.now(),f.Pr(t,r)})).next((function(r){return n=r,s=Date.now(),f.Xi(t,n,e)})).next((function(e){return i=e,u=Date.now(),f.gr(t,n)})).next((function(t){return c=Date.now(),br()<=o.in.DEBUG&&wr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),ss.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),Pu=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Au(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return Cu(t,n)},t.prototype.ir=function(t,e,n){return Cu(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Cu(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return _u(t).ls((function(r){return gu(t,r,e).next((function(t){return t&&(n=!0),ss.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.Fr().Nr(),i=[],o=0;return this.Dr(t,(function(a,s){if(s<=e){var u=n.Cr(t,a).next((function(e){if(!e)return o++,r._i(t,a).next((function(){return r.li(a),Nu(t).delete([0,_s(a.path)])}))}));i.push(u)}})).next((function(){return ss.Ln(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Mt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Or=function(t,e){return Cu(t,e)},t.prototype.Dr=function(t,e){var n,r=Nu(t),i=qr.q;return r.hs({index:Rs.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==qr.q&&e(new Zr(Ts(n)),i),i=s,n=a):i=qr.q})).next((function(){i!==qr.q&&e(new Zr(Ts(n)),i)}))},t.prototype.pr=function(t){return this.db.Fr().kr(t)},t}();function Cu(t,e){return Nu(t).put(function(t,e){return new Rs(0,_s(t.path),e)}(e,t.bs))}var Du=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Lu(t).put(Mu(e),n)},t.prototype.li=function(t,e){var n=Lu(t),r=Mu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Mr(t,r)}))},t.prototype._i=function(t,e){var n=this;return Lu(t).get(Mu(e)).next((function(t){return n.Lr(t)}))},t.prototype.$r=function(t,e){var n=this;return Lu(t).get(Mu(e)).next((function(t){var e=n.Lr(t);return e?{hi:e,size:yu(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=aa();return this.Br(t,e,(function(t,e){var i=n.Lr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=aa(),i=new $o(Zr.H);return this.Br(t,e,(function(t,e){var o=n.Lr(e);o?(r=r.zt(t,o),i=i.zt(t,yu(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return ss.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return Lu(t).hs({range:r},(function(t,e,r){for(var a=Zr.Et(t);o&&Zr.H(o,a)<0;)n(o,null),o=i.oe();o&&o.isEqual(a)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=ua(),o=e.path.length+1,a={};if(n.isEqual(zr.min())){var s=e.path.it();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.it(),c=Zs(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Cs.collectionReadTimeIndex}return Lu(t).hs(a,(function(t,n,a){if(t.length===o){var s=Js(r.Qt,n);e.path.nt(s.key.path)?s instanceof Si&&fo(e,s)&&(i=i.zt(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new ju(this,!!t&&t.Wr)},t.prototype.kr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ru(t).get(Ds.key).next((function(t){return Or(!!t),t}))},t.prototype.Mr=function(t,e){return Ru(t).put(Ds.key,e)},t.prototype.Lr=function(t){if(t){var e=Js(this.Qt,t);return e instanceof ki&&e.version.isEqual(zr.min())?null:e}return null},t}(),ju=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new du((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return(0,pr.ZT)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new na((function(t,e){return xr(t.rt(),e.rt())}));return this.ri.forEach((function(o,a){var s=e.Gr.get(o);if(a.hi){var u=Ws(e.jr.Qt,a.hi,e.ci(o));i=i.add(o.path.X());var c=yu(u);r+=c-s,n.push(e.jr.ai(t,o,u))}else if(r-=s,e.Wr){var f=Ws(e.jr.Qt,new ki(o,zr.min()),e.ci(o));n.push(e.jr.ai(t,o,f))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),ss.Ln(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.$r(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(pu);function Ru(t){return Bs(t,Ds.store)}function Lu(t){return Bs(t,Cs.store)}function Mu(t){return t.path.it()}var Vu=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Or(n<r&&n>=0&&r<=11);var o=new us("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ns.store)}(t),function(t){t.createObjectStore(Ss.store,{keyPath:Ss.keyPath}),t.createObjectStore(ks.store,{keyPath:ks.keyPath,autoIncrement:!0}).createIndex(ks.userMutationsIndex,ks.userMutationsKeyPath,{unique:!0}),t.createObjectStore(xs.store)}(t),Uu(t),function(t){t.createObjectStore(Cs.store)}(t));var a=ss.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Rs.store),t.deleteObjectStore(js.store),t.deleteObjectStore(Ls.store)}(t),Uu(t)),a=a.next((function(){return function(t){var e=t.store(Ls.store),n=new Ls(0,0,zr.min().j(),0);return e.put(Ls.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(ks.store).rs().next((function(n){t.deleteObjectStore(ks.store),t.createObjectStore(ks.store,{keyPath:ks.keyPath,autoIncrement:!0}).createIndex(ks.userMutationsIndex,ks.userMutationsKeyPath,{unique:!0});var r=e.store(ks.store),i=n.map((function(t){return r.put(t)}));return ss.Ln(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Vs.store,{keyPath:Vs.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.zr(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Ds.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Cs.store);e.createIndex(Cs.readTimeIndex,Cs.readTimeIndexPath,{unique:!1}),e.createIndex(Cs.collectionReadTimeIndex,Cs.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Us.store,{keyPath:Us.keyPath})}(t),function(t){t.createObjectStore(Fs.store,{keyPath:Fs.keyPath})}(t)}))),a},t.prototype.Hr=function(t){var e=0;return t.store(Cs.store).hs((function(t,n){e+=yu(n)})).next((function(){var n=new Ds(e);return t.store(Ds.store).put(Ds.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(Ss.store),r=t.store(ks.store);return n.rs().next((function(n){return ss.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(ks.userMutationsIndex,i).next((function(r){return ss.forEach(r,(function(r){Or(r.userId===n.userId);var i=$s(e.Qt,r);return vu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(Rs.store),n=t.store(Cs.store);return t.store(Ls.store).get(Ls.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new Kr(n),a=function(t){return[0,_s(t)]}(o);r.push(e.get(a).next((function(n){return n?ss.resolve():function(n){return e.put(new Rs(0,_s(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return ss.Ln(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(Ms.store,{keyPath:Ms.keyPath});var n=e.store(Ms.store),r=new su,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:_s(i)})}};return e.store(Cs.store).hs({us:!0},(function(t,e){var n=new Kr(t);return i(n.X())})).next((function(){return e.store(xs.store).hs({us:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Ts(n));return i(r.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(js.store);return n.hs((function(t,r){var i=tu(r),o=eu(e.Qt,i);return n.put(o)}))},t}();function Uu(t){t.createObjectStore(Rs.store,{keyPath:Rs.keyPath}).createIndex(Rs.documentTargetsIndex,Rs.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(js.store,{keyPath:js.keyPath}).createIndex(js.queryTargetsIndexName,js.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ls.store)}var Fu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Gu=function(){function t(e,n,r,i,o,a,s,u,c,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=a,this.document=s,this.eo=c,this.no=f,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new jr(Dr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Pu(this,i),this.ho=n+"main",this.Qt=new Ks(u),this.lo=new cs(this.ho,11,new Vu(this.Qt)),this._o=new Iu(this.Ti,this.Qt),this.Ei=new uu,this.fo=function(t,e){return new Du(t,e)}(this.Qt,this.Ei),this.wo=new ru,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===f&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new jr(Dr.FAILED_PRECONDITION,Fu);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new qr(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return(0,pr.mG)(e,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return(0,pr.mG)(e,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return(0,pr.mG)(e,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Bu(e).put(new Vs(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(hs(e))return wr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return wr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return qu(t).get(Ns.key).next((function(t){return ss.resolve(e.Do(t))}))},t.prototype.Co=function(t){return Bu(t).delete(this.clientId)},t.prototype.xo=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t,e,n,r,i=this;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Bs(t,Vs.store);return e.rs().next((function(t){var n=i.Fo(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return ss.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)r=n[e],this.Eo.removeItem(this.Oo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?ss.resolve(!0):qu(t).get(Ns.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.ko(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new jr(Dr.FAILED_PRECONDITION,Fu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bu(t).rs().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&wr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Mo=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t=this;return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Lo(),this.co&&(this.co.cancel(),this.co=null),this.$o(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Ns.store,Vs.store],(function(e){var n=new qs(e,qr.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.ko(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Bu(e).rs().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return mu.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;wr("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.lo.runTransaction(t,o,Gs,(function(o){return i=new qs(o,r.so?r.so.next():qr.q),"readwrite-primary"===e?r.Vo(i).next((function(t){return!!t||r.bo(i)})).next((function(e){if(!e)throw _r("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Zr.po((function(){return r.uo(!1)})),new jr(Dr.FAILED_PRECONDITION,bs);return n(i)})).next((function(t){return r.So(i).next((function(){return t}))})):r.jo(i).next((function(){return n(i)}))})).then((function(t){return i.Vs(),t}))},t.prototype.jo=function(t){var e=this;return qu(t).get(Ns.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.ko(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new jr(Dr.FAILED_PRECONDITION,Fu)}))},t.prototype.So=function(t){var e=new Ns(this.clientId,this.allowTabSynchronization,Date.now());return qu(t).put(Ns.key,e)},t.Kn=function(){return cs.Kn()},t.prototype.vo=function(t){var e=this,n=qu(t);return n.get(Ns.key).next((function(t){return e.Do(t)?(wr("IndexedDbPersistence","Releasing primary lease."),n.delete(Ns.key)):ss.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(_r("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.$o=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Lo(),e.Zr.Ps((function(){return e.Mo()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.ko=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Oo(t)));return wr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return _r("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Lo=function(){if(this.Eo)try{this.Eo.setItem(this.Oo(this.clientId),String(Date.now()))}catch(t){_r("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Oo(this.clientId))}catch(t){}},t.prototype.Oo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function qu(t){return Bs(t,Ns.store)}function Bu(t){return Bs(t,Vs.store)}function zu(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Hu=function(t,e){this.progress=t,this.Go=e},Ku=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=aa();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=oa();return i.forEach((function(t,e){e||(e=new ki(t,zr.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return function(t){return Zr.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):ro(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Zr(e)).next((function(t){var e=ua();return t instanceof Si&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=ua();return this.Ei.Us(t,i).next((function(a){return ss.forEach(a,(function(a){var s=function(t,e){return new Xi(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.nc(t,s,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return i=e,o.sc(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,f=Lo(u,r.get(c),o.vs);r=f instanceof Si?r.zt(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){fo(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=ha(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Go&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Si&&(c=c.zt(t,e))})),c}))},t}(),Ju=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=ha(),i=ha(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Wu=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(zr.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(a){var s=i.hc(e,a);return($i(e)||to(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(br()<=o.in.DEBUG&&wr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),co(e)),i.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new na(lo(t));return e.forEach((function(e,r){r instanceof Si&&fo(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return br()<=o.in.DEBUG&&wr("QueryEngine","Using full collection scan to execute query:",co(e)),this.ac.Kr(t,e,zr.min())},t}(),Zu=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new $o(xr),this.dc=new du((function(t){return Ci(t)}),Di),this.wc=zr.min(),this.zo=t.Qo(n),this.Ec=t.Fr(),this._o=t.Sr(),this.Tc=new Ku(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();function Xu(t,e,n,r){return new Zu(t,e,n,r)}function Yu(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,pr.Jh)(this,(function(a){switch(a.label){case 0:return n=Nr(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(a){return o=a,r=n.persistence.Qo(e),i=new Ku(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],a=ha(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var f=0,l=c.mutations;f<l.length;f++){var h=l[f];a=a.add(h.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];a=a.add(g.key)}}return i.Xo(t,a).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function Qu(t,e){var n=Nr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=ss.resolve();return o.forEach((function(t){a=a.next((function(){return r._i(e,t)})).next((function(e){var o=e,a=n.Fs.get(t);Or(null!==a),(!o||o.version._(a)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)}))})),a.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.Fi(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function $u(t){var e=Nr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function tc(t,e){var n=Nr(t),r=e.kt,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var a=[];e.Fe.forEach((function(e,o){var s=i.get(o);if(s){a.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var u=e.resumeToken;if(u.l()>0){var c=s.Lt(u,r).Mt(t.bs);i=i.zt(o,c),function(t,e,n){return Or(e.resumeToken.l()>0),0===t.resumeToken.l()||e.kt.W()-t.kt.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(s,c,e)&&a.push(n._o.Hi(t,c))}}}));var s=oa();if(e.ke.forEach((function(r,i){e.Me.has(r)&&a.push(n.persistence.Ti.Or(t,r))})),a.push(ec(t,o,e.ke,r,void 0).next((function(t){s=t}))),!r.isEqual(zr.min())){var u=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));a.push(u)}return ss.Ln(a).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,s)}))})).then((function(t){return n.fc=i,t}))}function ec(t,e,n,r,i){var o=ha();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=oa();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof ki&&a.version.isEqual(zr.min())?(e.li(n,u),o=o.zt(n,a)):null==s||a.version._(s.version)>0||0===a.version._(s.version)&&s.hasPendingWrites?(e.ai(a,u),o=o.zt(n,a)):wr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function nc(t,e){var n=Nr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function rc(t,e){var n=Nr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?(r=i,ss.resolve(r)):n._o.Bi(t).next((function(i){return r=new po(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.kt._(r.kt)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function ic(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,pr.Jh)(this,(function(s){switch(s.label){case 0:r=Nr(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!hs(a=s.sent()))throw a;return wr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function oc(t,e,n){var r=Nr(t),i=zr.min(),o=ha();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Nr(t),i=r.dc.get(n);return void 0!==i?ss.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,oo(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:zr.min(),n?o:ha())})).next((function(t){return{documents:t,Rc:o}}))}))}function ac(t,e){var n=Nr(t),r=Nr(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function sc(t){var e=Nr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Nr(t),i=oa(),o=Zs(n),a=Lu(e),s=IDBKeyRange.lowerBound(o,!0);return a.hs({index:Cs.readTimeIndex,range:s},(function(t,e){var n=Js(r.Qt,e);i=i.zt(n.key,n),o=e.readTime})).next((function(){return{Go:i,readTime:Xs(o)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go,r=t.readTime;return e.wc=r,n}))}function uc(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){return[2,(e=Nr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Lu(t),n=zr.min();return e.hs({index:Cs.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Xs(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}function cc(t,e,n,r){return(0,pr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,f,l,h,d;return(0,pr.Jh)(this,(function(p){switch(p.label){case 0:for(i=Nr(t),o=ha(),a=oa(),s=fa(),u=0,c=n;u<c.length;u++)f=c[u],l=e.Pc(f.metadata.name),f.document&&(o=o.add(l)),a=a.zt(l,e.yc(f)),s=s.zt(l,e.gc(f.metadata.readTime));return h=i.Ec.Nr({Wr:!0}),[4,rc(i,function(t){return oo(Qi(Kr.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return ec(t,h,a,zr.min(),s).next((function(e){return h.apply(t),e})).next((function(e){return i._o.Yi(t,d.targetId).next((function(){return i._o.er(t,o,d.targetId)})).next((function(){return i.Tc.Zo(t,e)}))}))}))]}}))}))}function fc(t,e,n){return void 0===n&&(n=ha()),(0,pr.mG)(this,void 0,void 0,(function(){var r,i;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return[4,rc(t,oo(nu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Nr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Da(e.readTime);if(r.kt._(o)>=0)return i.wo.$s(t,e);var a=r.Lt(Cr.T,o);return i.fc=i.fc.zt(a.targetId,a),i._o.Hi(t,a).next((function(){return i._o.Yi(t,r.targetId)})).next((function(){return i._o.er(t,n,r.targetId)})).next((function(){return i.wo.$s(t,e)}))}))]}}))}))}var lc=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.ks=function(t,e){return ss.resolve(this.Vc.get(e))},t.prototype.Ms=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Da(n.createTime)}),ss.resolve()},t.prototype.Ls=function(t,e){return ss.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:nu(t.bundledQuery),readTime:Da(t.readTime)}}(e)),ss.resolve()},t}(),hc=function(){function t(){this.vc=new na(dc.Sc),this.Dc=new na(dc.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new dc(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new dc(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Oc=function(t){var e=this,n=new Zr(new Kr([])),r=new dc(n,t),i=new dc(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.kc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.Mc=function(t){var e=new Zr(new Kr([])),n=new dc(e,t),r=new dc(e,t+1),i=ha();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Oi=function(t){var e=new dc(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),dc=function(){function t(t,e){this.key=t,this.Lc=e}return t.Sc=function(t,e){return Zr.H(t.key,e.key)||xr(t.Lc,e.Lc)},t.Cc=function(t,e){return xr(t.Lc,e.Lc)||Zr.H(t.key,e.key)},t}(),pc=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.$c=1,this.Bc=new na(dc.Sc)}return t.prototype.Ai=function(t){return ss.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.$c;this.$c++,this.zo.length>0&&this.zo[this.zo.length-1];var o=new zs(i,e,n,r);this.zo.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Bc=this.Bc.add(new dc(u.key,i)),this.Ei.qs(t,u.key.path.X())}return ss.resolve(o)},t.prototype.Pi=function(t,e){return ss.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=e+1,r=this.Uc(n),i=r<0?0:r;return ss.resolve(this.zo.length>i?this.zo[i]:null)},t.prototype.Vi=function(){return ss.resolve(0===this.zo.length?-1:this.$c-1)},t.prototype.pi=function(t){return ss.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new dc(e,0),i=new dc(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Lc);o.push(e)})),ss.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new na(xr);return e.forEach((function(t){var e=new dc(t,0),i=new dc(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Lc)}))})),ss.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Zr.wt(i)||(i=i.child(""));var o=new dc(new Zr(i),0),a=new na(xr);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(a=a.add(t.Lc)),!0)}),o),ss.resolve(this.Qc(a))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;Or(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return ss.forEach(e.mutations,(function(i){var o=new dc(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Oi=function(t,e){var n=new dc(e,0),r=this.Bc.Re(n);return ss.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return this.zo.length,ss.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),vc=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new $o(Zr.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:a,readTime:n}),this.size+=a-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return ss.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=aa();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),ss.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=ua(),i=new Zr(e.path.child("")),o=this.docs.ee(i);o.ce();){var a=o.oe(),s=a.key,u=a.value,c=u.hi,f=u.readTime;if(!e.path.nt(s.path))break;f._(n)<=0||c instanceof Si&&fo(e,c)&&(r=r.zt(c.key,c))}return ss.resolve(r)},t.prototype.jc=function(t,e){return ss.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new yc(this)},t.prototype.kr=function(t){return ss.resolve(this.size)},t}(),yc=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return(0,pr.ZT)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),ss.Ln(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(pu),mc=function(){function t(t){this.persistence=t,this.Gc=new du((function(t){return Ci(t)}),Di),this.lastRemoteSnapshotVersion=zr.min(),this.highestTargetId=0,this.zc=0,this.Hc=new hc,this.targetCount=0,this.Jc=Eu.Li()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),ss.resolve()},t.prototype.Qi=function(t){return ss.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return ss.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),ss.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),ss.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Eu(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,ss.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),ss.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Oc(e.targetId),this.targetCount-=1,ss.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Gc.delete(a),o.push(r.Yi(t,s.targetId)),i++)})),ss.Ln(o).next((function(){return i}))},t.prototype.Zi=function(t){return ss.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return ss.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),ss.resolve()},t.prototype.sr=function(t,e,n){this.Hc.Fc(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),ss.Ln(i)},t.prototype.Yi=function(t,e){return this.Hc.Oc(e),ss.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.Mc(e);return ss.resolve(n)},t.prototype.Oi=function(t,e){return ss.resolve(this.Hc.Oi(e))},t}(),gc=function(){function t(t,e){var n=this;this.Yc={},this.so=new qr(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new mc(this),this.Ei=new au,this.fo=function(t,e){return new vc(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new Ks(e),this.wo=new lc(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Mo=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new pc(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;wr("MemoryPersistence","Starting transaction:",t);var i=new bc(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).kn().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return ss.$n(Object.values(this.Yc).map((function(n){return function(){return n.Oi(t,e)}})))},t}(),bc=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return(0,pr.ZT)(e,t),e}(ws),wc=function(){function t(t){this.persistence=t,this.na=new hc,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Tr()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),ss.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),ss.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),ss.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Oc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.Fr().Nr();return ss.forEach(this.ra,(function(r){var i=Zr._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Or=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return ss.$n([function(){return ss.resolve(n.na.Oi(e))},function(){return n.persistence.Sr().Oi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function _c(t,e){return"firestore_clients_"+t+"_"+e}function Ec(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Ic(t,e){return"firestore_targets_"+t+"_"+e}var Tc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new jr(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(_r("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Oc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new jr(r.error.code,r.error.message)),i?new t(e,r.state,o):(_r("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Nc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pa(),a=0;i&&a<r.activeTargetIds.length;++a)i=ci(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(_r("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Sc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(_r("SharedClientState","Failed to parse online state: "+e),null)},t}(),kc=function(){function t(){this.activeTargetIds=pa()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),xc=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.M=null,this.da=this.wa.bind(this),this.Ea=new $o(xr),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=_c(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new kc),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,f,l=this;return(0,pr.Jh)(this,(function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(_c(this.persistenceKey,r)))&&(o=Nc.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(a=this.storage.getItem(this.ya))&&(s=this.pa(a))&&this.ba(s),u=0,c=this.Ta;u<c.length;u++)f=c[u],this.wa(f);return this.Ta=[],this.window.addEventListener("unload",(function(){return l.Mo()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.Fa(t)},t.prototype.Oa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Ic(this.persistenceKey,t));if(n){var r=Oc.ca(t,n);r&&(e=r.state)}}return this.ka.ua(t),this.Va(),e},t.prototype.Ma=function(t){this.ka.ha(t),this.Va()},t.prototype.La=function(t){return this.ka.activeTargetIds.has(t)},t.prototype.$a=function(t){this.removeItem(Ic(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.Mo=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return wr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){wr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){wr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(wr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return(0,pr.mG)(e,void 0,void 0,(function(){var t,e,r,i,o,a;return(0,pr.Jh)(this,(function(s){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(a=function(t){var e=qr.q;if(null!=t)try{var n=JSON.parse(t);Or("number"==typeof n),e=n}catch(t){_r("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==qr.q&&this.M(a);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ka",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.ka.aa())},t.prototype.xa=function(t,e,n){var r=new Tc(this.currentUser,t,e,n),i=Ec(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.Fa=function(t){var e=Ec(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){var e={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(e))},t.prototype.qa=function(t,e,n){var r=Ic(this.persistenceKey,t),i=new Oc(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Nc.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Tc.ca(new Lr(i),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Oc.ca(r,e)},t.prototype.pa=function(t){return Sc.ca(t)},t.prototype.Ya=function(t){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(wr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this._a.su(a,s).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=pa();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),Ac=function(){function t(){this.iu=new kc,this.ru={},this.fa=null,this.M=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Oa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.Ma=function(t){this.iu.ha(t)},t.prototype.La=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.$a=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new kc,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.Mo=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Pc=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.Mo=function(){},t}(),Cc=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.Mo=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){wr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){wr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Dc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jc=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Rc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return(0,pr.ZT)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,o){var a=new dr;a.listenOnce(cr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case ur.NO_ERROR:var e=a.getResponseJson();wr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ur.TIMEOUT:wr("Connection",'RPC "'+t+'" timed out'),o(new jr(Dr.DEADLINE_EXCEEDED,"Request time out"));break;case ur.HTTP_ERROR:var n=a.getStatus();if(wr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Dr).indexOf(e)>=0?e:Dr.UNKNOWN}(r.status);o(new jr(s,r.message))}else o(new jr(Dr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new jr(Dr.UNAVAILABLE,"Connection failed."));break;default:Tr()}}finally{wr("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=ar(),i=sr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");wr("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),c=!1,f=!1,l=new jc({fu:function(t){f?wr("Connection","Not sending because WebChannel is closed:",t):(c||(wr("Connection","Opening WebChannel transport."),u.open(),c=!0),wr("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(u,hr.EventType.OPEN,(function(){f||wr("Connection","WebChannel transport opened.")})),h(u,hr.EventType.CLOSE,(function(){f||(f=!0,wr("Connection","WebChannel transport closed"),l.Ru())})),h(u,hr.EventType.ERROR,(function(t){f||(f=!0,Er("Connection","WebChannel transport errored:",t),l.Ru(new jr(Dr.UNAVAILABLE,"The operation could not be completed")))})),h(u,hr.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];Or(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){wr("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Ko[t];if(void 0!==e)return Qo(e)}(o),s=i.message;void 0===a&&(a=Dr.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),f=!0,l.Ru(new jr(a,s)),u.close()}else wr("Connection","WebChannel received:",n),l.Pu(n)}})),h(i,fr.STAT_EVENT,(function(t){t.stat===lr.PROXY?wr("Connection","Detected buffering proxy"):t.stat===lr.NOPROXY&&wr("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Au()}),0),l},e}(function(){function t(t){this.yu=t,this.t=t.t;var e=t.ssl?"https":"http";this.gu=e+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);wr("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return wr("RestConnection","Received: ",t),t}),(function(e){throw Er("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.6",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){var n=Dc[t];return this.gu+"/v1/"+e+":"+n},t}());function Lc(){return"undefined"!=typeof window?window:null}function Mc(){return"undefined"!=typeof document?document:null}function Vc(t){return new xa(t,!0)}var Uc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.Fu=i,this.Ou=0,this.ku=null,this.Mu=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ou=0},t.prototype.Lu=function(){this.Ou=this.Fu},t.prototype.$u=function(t){var e=this;this.cancel();var n=Math.floor(this.Ou+this.Bu()),r=Math.max(0,Date.now()-this.Mu),i=Math.max(0,n-r);i>0&&wr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ou+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ku=this.Zr.Tr(this.fs,i,(function(){return e.Mu=Date.now(),t()})),this.Ou*=this.Nu,this.Ou<this.xu&&(this.Ou=this.xu),this.Ou>this.Fu&&(this.Ou=this.Fu)},t.prototype.qu=function(){null!==this.ku&&(this.ku.Rs(),this.ku=null)},t.prototype.cancel=function(){null!==this.ku&&(this.ku.cancel(),this.ku=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Ou},t}(),Fc=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Uc(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Dr.RESOURCE_EXHAUSTED?(_r(e.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Lu()):e&&e.code===Dr.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new jr(Dr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.$u((function(){return(0,pr.mG)(t,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return wr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(wr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Gc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,a}return(0,pr.ZT)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Tr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Or(void 0===e||"string"==typeof e),Cr.fromBase64String(e||"")):(Or(void 0===e||e instanceof Uint8Array),Cr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Dr.UNKNOWN:Qo(t.code);return new jr(e,t.message||"")}(s);n=new Ea(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Ma(t,r.document.name),o=Da(r.document.updateTime);var s=new Ii({mapValue:{fields:r.document.fields}}),u=(a=new Si(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new wa(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Ma(t,r.document),o=r.readTime?Da(r.readTime):zr.min(),s=new ki(i,o),a=r.removedTargetIds||[],n=new wa([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Ma(t,r.document),o=r.removedTargetIds||[],n=new wa([],o,i,null);else{if(!("filter"in e))return Tr();e.filter;var f=e.filter;f.targetId,r=f.count||0,i=new Xo(r),o=f.targetId,n=new _a(o,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return zr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?zr.min():e.readTime?Da(e.readTime):zr.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Fa(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=ji(r)?{documents:Ka(t,r)}:{query:Ja(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Pa(t,e.resumeToken):e.kt._(zr.min())>0&&(n.readTime=Aa(t,e.kt.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tr()}}(0,e.Ot);return null==n?null:{"goog-listen-tags":n}}(this.Qt,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Fa(this.Qt),e.removeTarget=t,this.th(e)},e}(Fc),qc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,a.lh=!1,a}return(0,pr.ZT)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Or(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Or(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Da(t.updateTime):Da(e);n.isEqual(zr.min())&&(n=Da(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Po(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Da(t.commitTime);return this.listener.dh(n,e)}return Or(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Fa(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return za(e.Qt,t)}))};this.th(n)},e}(Fc),Bc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return(0,pr.ZT)(e,t),e.prototype.Ih=function(){if(this.Th)throw new jr(Dr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===Dr.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===Dr.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),zc=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(_r(e),this.Rh=!1):wr("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Hc=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.Fh=[],this.Oh=i,this.Oh.ou((function(t){n.Ps((function(){return(0,pr.mG)(o,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){switch(t.label){case 0:return tf(this)?(wr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return(e=Nr(t)).Nh.add(4),[4,Jc(e)];case 1:return n.sent(),e.kh.set("Unknown"),e.Nh.delete(4),[4,Kc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.kh=new zc(n,r)};function Kc(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e,n;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:if(!tf(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Jc(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e,n;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Wc(t,e){var n=Nr(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),$c(n)?Qc(n):yf(n).Hu()&&Xc(n,e))}function Zc(t,e){var n=Nr(t),r=yf(n);n.xh.delete(e),r.Hu()&&Yc(n,e),0===n.xh.size&&(r.Hu()?r.Xu():tf(n)&&n.kh.set("Unknown"))}function Xc(t,e){t.Mh.on(e.targetId),yf(t).uh(e)}function Yc(t,e){t.Mh.on(e),yf(t).hh(e)}function Qc(t){t.Mh=new Ta({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),yf(t).start(),t.kh.Ph()}function $c(t){return tf(t)&&!yf(t).zu()&&t.xh.size>0}function tf(t){return 0===Nr(t).Nh.size}function ef(t){t.Mh=void 0}function nf(t){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){return t.xh.forEach((function(e,n){Xc(t,e)})),[2]}))}))}function rf(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(n){return ef(t),$c(t)?(t.kh.Vh(e),Qc(t)):t.kh.set("Unknown"),[2]}))}))}function of(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,pr.Jh)(this,(function(a){switch(a.label){case 0:if(t.kh.set("Online"),!(e instanceof Ea&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,pr.Jh)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.xh.has(o)?[4,t.Dh.Lh(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.xh.delete(o),t.Mh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),wr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,af(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wa?t.Mh.dn(e):e instanceof _a?t.Mh.Pn(e):t.Mh.Tn(e),n.isEqual(zr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,$u(t.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(t,e){var n=t.Mh.Vn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Lt(n.resumeToken,e))}})),n.Oe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Lt(Cr.T,n.kt)),Yc(t,e);var r=new po(n.target,e,1,n.sequenceNumber);Xc(t,r)}})),t.Dh.$h(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return wr("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,af(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function af(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r=this;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:if(!hs(e))throw e;return t.Nh.add(1),[4,Jc(t)];case 1:return i.sent(),t.kh.set("Offline"),n||(n=function(){return $u(t.bh)}),t._s.po((function(){return(0,pr.mG)(r,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return wr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Kc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function sf(t,e){return e().catch((function(n){return af(t,n,e)}))}function uf(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e,n,r,i,o;return(0,pr.Jh)(this,(function(a){switch(a.label){case 0:e=Nr(t),n=mf(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return tf(t)&&t.Ch.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,nc(e.bh,r)];case 3:return null===(i=a.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=mf(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,af(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return cf(e)&&ff(e),[2]}}))}))}function cf(t){return tf(t)&&!mf(t).zu()&&t.Ch.length>0}function ff(t){mf(t).start()}function lf(t){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){return mf(t).Eh(),[2]}))}))}function hf(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e,n,r,i;return(0,pr.Jh)(this,(function(o){for(e=mf(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]}))}))}function df(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=Hs.from(r,e,n),[4,sf(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,uf(t)];case 2:return o.sent(),[2]}}))}))}function pf(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return e&&mf(t)._h?[4,function(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return Yo(r=e.code)&&r!==Dr.ABORTED?(n=t.Ch.shift(),mf(t).Yu(),[4,sf(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,uf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cf(t)&&ff(t),[2]}}))}))}function vf(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:return n=Nr(t),e?(n.Nh.delete(2),[4,Kc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Jc(n)]);case 3:r.sent(),n.kh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function yf(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Nr(t);return r.Ih(),new Gc(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:nf.bind(null,t),Tu:rf.bind(null,t),ah:of.bind(null,t)}),t.Fh.push((function(n){return(0,pr.mG)(e,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),$c(t)?Qc(t):t.kh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),ef(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function mf(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Nr(t);return r.Ih(),new qc(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:lf.bind(null,t),Tu:pf.bind(null,t),wh:hf.bind(null,t),dh:df.bind(null,t)}),t.Fh.push((function(n){return(0,pr.mG)(e,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,uf(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(wr("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh}var gf=function(){this.Kh=void 0,this.listeners=[]},bf=function(){this.queries=new du((function(t){return uo(t)}),so),this.onlineState="Unknown",this.Wh=new Set};function wf(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,pr.Jh)(this,(function(c){switch(c.label){case 0:if(n=Nr(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new gf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.jh(r)];case 2:return a.Kh=c.sent(),[3,4];case 3:return s=c.sent(),u=gs(s,"Initialization of query '"+co(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Tf(n),[2]}}))}))}function _f(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,pr.Jh)(this,(function(s){return n=Nr(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function Ef(t,e){for(var n=Nr(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,f=u.listeners;c<f.length;c++)f[c].zh(a)&&(r=!0);u.Kh=a}}r&&Tf(n)}function If(t,e,n){var r=Nr(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Tf(t){t.Wh.forEach((function(t){t.next()}))}var Of=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ma(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.nl&&n||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var e=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=ma.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Nf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Sf=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Ma(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Ba(this.Qt,t.document,!1):new ki(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Da(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=kf(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Sf(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Pc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],f=(e.get(c)||ha()).add(a);e.set(c,f)}}return e},t.prototype.complete=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t,e,n,r,i;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return[4,cc(this.bh,new Sf(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,fc(this.bh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Hu(Object.assign({},this.progress),t))]}}))}))}}();function kf(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var xf=function(t){this.key=t},Af=function(t){this.key=t},Pf=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=ha(),this.De=ha(),this.hl=lo(t),this.ll=new va(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new ya,i=e?e.ll:this.ll,o=e?e.De:this.De,a=i,s=!1,u=$i(this.query)&&i.size===this.query.limit?i.last():null,c=to(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var f=i.get(t),l=e instanceof Si?e:null;l&&(l=fo(n.query,l)?l:null);var h=!!f&&n.De.has(f.key),d=!!l&&(l.Vt||n.De.has(l.key)&&l.hasCommittedMutations),p=!1;f&&l?f.data().isEqual(l.data())?h!==d&&(r.track({type:3,doc:l}),p=!0):n.wl(f,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.hl(l,u)>0||c&&n.hl(l,c)<0)&&(s=!0)):!f&&l?(r.track({type:0,doc:l}),p=!0):f&&!l&&(r.track({type:1,doc:f}),p=!0,(u||c)&&(s=!0)),p&&(l?(a=a.add(l),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),$i(this.query)||to(this.query))for(;a.size>this.query.limit;){var f=$i(this.query)?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{ll:a,dl:r,lc:s,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tr()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var a=e?this.Tl():[],s=0===this.ul.size&&this.Be?1:0,u=s!==this.al;return this.al=s,0!==o.length||u?{snapshot:new ma(this.query,t.ll,i,o,t.De,0===s,u,!1),Il:a}:{Il:a}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new ya,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=ha(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new Af(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new xf(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=ha();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return ma.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Cf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Df=function(t){this.key=t,this.Pl=!1},jf=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new du((function(t){return uo(t)}),so),this.Sl=new Map,this.Dl=[],this.Cl=new $o(Zr.H),this.xl=new Map,this.Nl=new hc,this.Fl={},this.Ol=new Map,this.kl=Eu.$i(),this.onlineState="Unknown",this.Ml=void 0}return Object.defineProperty(t.prototype,"Ll",{get:function(){return!0===this.Ml},enumerable:!1,configurable:!0}),t}();function Rf(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,pr.Jh)(this,(function(u){switch(u.label){case 0:return n=fl(t),(o=n.vl.get(e))?(r=o.targetId,n.Vl.Oa(r),i=o.view.Rl(),[3,4]):[3,1];case 1:return[4,rc(n.bh,oo(e))];case 2:return a=u.sent(),s=n.Vl.Oa(a.targetId),r=a.targetId,[4,Lf(n,e,r,"current"===s)];case 3:i=u.sent(),n.Ll&&Wc(n.yl,a),u.label=4;case 4:return[2,i]}}))}))}function Lf(t,e,n,r){return(0,pr.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,pr.Jh)(this,(function(f){switch(f.label){case 0:return t.$l=function(e,n,r){return function(t,e,n,r){return(0,pr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,pr.Jh)(this,(function(s){switch(s.label){case 0:return(i=e.view.fl(n)).lc?[4,oc(t.bh,e.query,!1).then((function(t){var n=t.documents;return e.view.fl(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Fe.get(e.targetId),a=e.view.wi(i,t.Ll,o),[2,(Zf(t,e.targetId,a.Il),a.snapshot)]}}))}))}(t,e,n,r)},[4,oc(t.bh,e,!0)];case 1:return i=f.sent(),o=new Pf(e,i.Rc),a=o.fl(i.documents),s=ba.$e(n,r&&"Offline"!==t.onlineState),u=o.wi(a,t.Ll,s),Zf(t,n,u.Il),c=new Cf(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}}))}))}function Mf(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return n=Nr(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!so(t,e)}))),void n.vl.delete(e))]:n.Ll?(n.Vl.Ma(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,ic(n.bh,r.targetId,!1).then((function(){n.Vl.$a(r.targetId),Zc(n.yl,r.targetId),Jf(n,r.targetId)})).catch(hu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Jf(n,r.targetId),[4,ic(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Vf(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,pr.Jh)(this,(function(s){switch(s.label){case 0:r=ll(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Nr(t),i=Br.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ha());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],f=Mo(c,n.get(c.key));null!=f&&a.push(new Go(c.key,f,Oi(f.proto.mapValue),Co.exists(!0)))}return r.zo.Ri(t,i,a,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=s.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.A()];r||(r=new $o(xr)),r=r.zt(e,n),t.Fl[t.currentUser.A()]=r}(r,i.batchId,n),[4,Qf(r,i.ri)];case 3:return s.sent(),[4,uf(r.yl)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=gs(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Uf(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:n=Nr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tc(n.bh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.xl.get(e);r&&(Or(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Or(r.Pl):t.Qe.size>0&&(Or(r.Pl),r.Pl=!1))})),[4,Qf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,hu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ff(t,e,n){var r=Nr(t);if(r.Ll&&0===n||!r.Ll&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Nr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&Tf(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ll&&r.Vl.Qa(e)}}function Gf(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,pr.Jh)(this,(function(c){switch(c.label){case 0:return(r=Nr(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(a=(a=new $o(Zr.H)).zt(o,new ki(o,zr.min())),s=ha().add(o),u=new ga(zr.min(),new Map,new na(xr),a,s),[4,Uf(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Yf(r),[3,4];case 2:return[4,ic(r.bh,e,!1).then((function(){return Jf(r,e,n)})).catch(hu)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function qf(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:n=Nr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Qu(n.bh,e)];case 2:return i=o.sent(),Kf(n,r,null),Hf(n,r),n.Vl.Na(r,"acknowledged"),[4,Qf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,hu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Bf(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:r=Nr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Nr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return Or(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.Fi(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=o.sent(),Kf(r,e,n),Hf(r,e),r.Vl.Na(e,"rejected",n),[4,Qf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,hu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function zf(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,pr.Jh)(this,(function(s){switch(s.label){case 0:tf((n=Nr(t)).yl)||wr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Nr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Ol.get(r)||[]).push(e),n.Ol.set(r,i),[3,4]);case 3:return o=s.sent(),a=gs(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Hf(t,e){(t.Ol.get(e)||[]).forEach((function(t){t.resolve()})),t.Ol.delete(e)}function Kf(t,e,n){var r=Nr(t),i=r.Fl[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.A()]=i}}function Jf(t,e,n){void 0===n&&(n=null),t.Vl.Ma(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ll&&t.Nl.Oc(e).forEach((function(e){t.Nl.Oi(e)||Wf(t,e)}))}function Wf(t,e){var n=t.Cl.get(e);null!==n&&(Zc(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Yf(t))}function Zf(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof xf?(t.Nl.nr(o.key,e),Xf(t,o)):o instanceof Af?(wr("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Oi(o.key)||Wf(t,o.key)):Tr()}}function Xf(t,e){var n=e.key;t.Cl.get(n)||(wr("SyncEngine","New document in limbo: "+n),t.Dl.push(n),Yf(t))}function Yf(t){for(;t.Dl.length>0&&t.Cl.size<t.pl;){var e=t.Dl.shift(),n=t.kl.next();t.xl.set(n,new Df(e)),t.Cl=t.Cl.zt(e,n),Wc(t.yl,new po(oo(Qi(e.path)),n,2,qr.q))}}function Qf(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,pr.Jh)(this,(function(s){switch(s.label){case 0:return r=Nr(t),i=[],o=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,s){a.push(r.$l(s,e,n).then((function(t){if(t){r.Ll&&r.Vl.Ba(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ju.oc(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.bl.ah(i),[4,function(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,f;return(0,pr.Jh)(this,(function(l){switch(l.label){case 0:n=Nr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ss.forEach(e,(function(e){return ss.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return ss.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!hs(r=l.sent()))throw r;return wr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.fc.get(s),c=u.kt,f=u.$t(c),n.fc=n.fc.zt(s,f));return[2]}}))}))}(r.bh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function $f(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Nr(t)).currentUser.isEqual(e)?[3,3]:(wr("SyncEngine","User change. New user:",e.A()),[4,Yu(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Ol.forEach((function(t){t.forEach((function(t){t.reject(new jr(Dr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Ol.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Qf(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function tl(t,e){var n=Nr(t),r=n.xl.get(e);if(r&&r.Pl)return ha().add(r.key);var i=ha(),o=n.Sl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.vl.get(u);i=i.Pe(c.view._l)}return i}function el(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return[4,oc((n=Nr(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ll&&Zf(n,e.targetId,i.Il),i)]}}))}))}function nl(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){return[2,sc((e=Nr(t)).bh).then((function(t){return Qf(e,t)}))]}))}))}function rl(t,e,n,r){return(0,pr.mG)(this,void 0,void 0,(function(){var i,o;return(0,pr.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Nr(t),r=Nr(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):ss.resolve(null)}))}))}((i=Nr(t)).bh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,uf(i.yl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Kf(i,e,r||null),Hf(i,e),function(t,e){Nr(Nr(t).zo).xi(e)}(i.bh,e)):Tr(),a.label=4;case 4:return[4,Qf(i,o)];case 5:return a.sent(),[3,7];case 6:wr("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function il(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,pr.Jh)(this,(function(f){switch(f.label){case 0:return fl(n=Nr(t)),ll(n),!0!==e||!0===n.Ml?[3,3]:(r=n.Vl.va(),[4,ol(n,r.it())]);case 1:return i=f.sent(),n.Ml=!0,[4,vf(n.yl,!0)];case 2:for(f.sent(),o=0,a=i;o<a.length;o++)s=a[o],Wc(n.yl,s);return[3,7];case 3:return!1!==e||!1===n.Ml?[3,7]:(u=[],c=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.La(e)?u.push(e):c=c.then((function(){return Jf(n,e),ic(n.bh,e,!0)})),Zc(n.yl,e)})),[4,c]);case 4:return f.sent(),[4,ol(n,u)];case 5:return f.sent(),function(t){var e=Nr(t);e.xl.forEach((function(t,n){Zc(e.yl,n)})),e.Nl.kc(),e.xl=new Map,e.Cl=new $o(Zr.H)}(n),n.Ml=!1,[4,vf(n.yl,!1)];case 6:f.sent(),f.label=7;case 7:return[2]}}))}))}function ol(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,f,l,h,d,p,v;return(0,pr.Jh)(this,(function(y){switch(y.label){case 0:n=Nr(t),r=[],i=[],o=0,a=e,y.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Sl.get(s))&&0!==c.length?[4,rc(n.bh,oo(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),f=0,l=c,y.label=3;case 3:return f<l.length?(h=l[f],d=n.vl.get(h),[4,el(n,d)]):[3,6];case 4:(p=y.sent()).snapshot&&i.push(p.snapshot),y.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,ac(n.bh,s)];case 8:return v=y.sent(),[4,rc(n.bh,v)];case 9:return u=y.sent(),[4,Lf(n,al(v),s,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function al(t){return Yi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sl(t){var e=Nr(t);return Nr(Nr(e.bh).persistence).Uo()}function ul(t,e,n,r){return(0,pr.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,pr.Jh)(this,(function(s){switch(s.label){case 0:return(i=Nr(t)).Ml?(wr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sc(i.bh)];case 3:return o=s.sent(),a=ga.Le(e,"current"===n),[4,Qf(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,ic(i.bh,e,!0)];case 6:return s.sent(),Jf(i,e,r),[3,8];case 7:Tr(),s.label=8;case 8:return[2]}}))}))}function cl(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,f,l,h;return(0,pr.Jh)(this,(function(d){switch(d.label){case 0:if(!(r=fl(t)).Ml)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Sl.has(a)?(wr("SyncEngine","Adding an already active target "+a),[3,5]):[4,ac(r.bh,a)]):[3,6];case 2:return s=d.sent(),[4,rc(r.bh,s)];case 3:return u=d.sent(),[4,Lf(r,al(s),u.targetId,!1)];case 4:d.sent(),Wc(r.yl,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,ic(r.bh,t,!1).then((function(){Zc(r.yl,t),Jf(r,t)})).catch(hu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,l=n,d.label=7;case 7:return f<l.length?(h=l[f],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function fl(t){var e=Nr(t);return e.yl.Dh.$h=Uf.bind(null,e),e.yl.Dh.vn=tl.bind(null,e),e.yl.Dh.Lh=Gf.bind(null,e),e.bl.ah=Ef.bind(null,e.gl),e.bl.Bl=If.bind(null,e.gl),e}function ll(t){var e=Nr(t);return e.yl.Dh.Bh=qf.bind(null,e),e.yl.Dh.qh=Bf.bind(null,e),e}var hl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return this.Qt=Vc(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Xu(this.persistence,new Wu,t.Jl,this.Qt)},t.prototype.jl=function(t){return new gc(wc.ia,this.Qt)},t.prototype.Wl=function(t){return new Ac},t.prototype.terminate=function(){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.Mo()];case 1:return t.sent(),[4,this.persistence.Mo()];case 2:return t.sent(),[2]}}))}))},t}(),dl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,pr.ZT)(e,t),e.prototype.initialize=function(e){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,uc(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,ll(this.Yl._a)];case 4:return n.sent(),[4,uf(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return Xu(this.persistence,new Wu,t.Jl,this.Qt)},e.prototype.zl=function(t){var e=this.persistence.Ti.lr;return new xu(e,t._s)},e.prototype.jl=function(t){var e=zu(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?lu.Ys(this.cacheSizeBytes):lu.ti;return new Gu(this.synchronizeTabs,e,t.clientId,n,t._s,Lc(),Mc(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Ac},e}(hl),pl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,pr.ZT)(e,t),e.prototype.initialize=function(e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof xc?(this.Vl._a={eu:rl.bind(null,n),nu:ul.bind(null,n),su:cl.bind(null,n),Uo:sl.bind(null,n),tu:nl.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return(0,pr.mG)(r,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return[4,il(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=Lc();if(!xc.Kn(e))throw new jr(Dr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zu(t.yu.t,t.yu.persistenceKey);return new xc(e,t._s,n,t.clientId,t.Jl)},e}(dl),vl=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n=this;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Ff(n._a,t,1)},this.yl.Dh.n_=$f.bind(null,this._a),[4,vf(this.yl,this._a.Ll)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new bf},t.prototype.Xl=function(t){var e,n=Vc(t.yu.t),r=(e=t.yu,new Rc(e));return function(t,e,n){return new Bc(t,e,n)}(t.credentials,r,n)},t.prototype.Zl=function(t){var e,n,r,i,o,a=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Ff(a._a,t,0)},o=Cc.Kn()?new Cc:new Pc,new Hc(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,a){var s=new jf(t,e,n,r,i,o);return a&&(s.Ml=!0),s}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return e=Nr(t),wr("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Jc(e)];case 1:return n.sent(),e.Oh.Mo(),e.kh.set("Unknown"),[2]}}))}))}(this.yl)},t}();var yl=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ml=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new as,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then((function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Ql=function(){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}}))}))},t.prototype.c_=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t,e,n,r;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Nf(JSON.parse(r),t.length+n)]}}))}))},t.prototype.l_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.a_=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t,e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.h_=function(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t,e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new jr(Dr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Wr(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),gl=function(t){this._methodName=t},bl=function(t){this.d_=t};function wl(t,e,n){if(!n)throw new jr(Dr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function _l(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new jr(Dr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function El(t,e,n,r){if(!0===e&&!0===r)throw new jr(Dr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Il(t){if(!Zr.wt(t))throw new jr(Dr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Tl(t){if(Zr.wt(t))throw new jr(Dr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ol(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Tr()}function Nl(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new jr(Dr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ol(t);throw new jr(Dr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Sl(t,e){if(e<=0)throw new jr(Dr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var kl=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new jr(Dr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jr(Dr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,El("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),xl=new Map,Al=function(){function t(t,e){this.w_="(lite)",this.E_=new kl({}),this.T_=!1,t instanceof mr?(this.I_=t,this.m_=new Vr):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new jr(Dr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mr(t.options.projectId)}(t),this.m_=new Ur(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new jr(Dr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new jr(Dr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new kl(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Vr;switch(t.type){case"gapi":var e=t.client;return Or(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Gr(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new jr(Dr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return this,(t=xl.get(this))&&(wr("ComponentProvider","Removing Datastore"),xl.delete(this),t.terminate()),Promise.resolve();var t},t}(),Pl=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Dl(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Cl=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Dl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Qi(r))||this).firestore=e,i.D_=r,i.type="collection",i}return(0,pr.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Pl(this.firestore,null,new Zr(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Cl);function jl(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof bl&&(t=t.d_),wl("collection","path",e),t instanceof Al)return Tl(n=Kr.ot.apply(Kr,(0,pr.pr)([e],r))),new Dl(t,null,n);if(!(t instanceof Pl||t instanceof Dl))throw new jr(Dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Tl(n=Kr.ot.apply(Kr,(0,pr.pr)([t.path],r)).child(Kr.ot(e))),new Dl(t.firestore,null,n)}function Rl(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof bl&&(t=t.d_),1===arguments.length&&(e=kr.u()),wl("doc","path",e),t instanceof Al)return Il(n=Kr.ot.apply(Kr,(0,pr.pr)([e],r))),new Pl(t,null,new Zr(n));if(!(t instanceof Pl||t instanceof Dl))throw new jr(Dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Il(n=t.D_.child(Kr.ot.apply(Kr,(0,pr.pr)([e],r)))),new Pl(t.firestore,t instanceof Dl?t.v_:null,new Zr(n))}function Ll(t,e){return t instanceof bl&&(t=t.d_),e instanceof bl&&(e=e.d_),(t instanceof Pl||t instanceof Dl)&&(e instanceof Pl||e instanceof Dl)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Ml(t,e){return t instanceof bl&&(t=t.d_),e instanceof bl&&(e=e.d_),t instanceof Cl&&e instanceof Cl&&t.firestore===e.firestore&&so(t.C_,e.C_)&&t.v_===e.v_}var Vl=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new jr(Dr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new jr(Dr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return xr(this.x_,t.x_)||xr(this.N_,t.N_)},t}(),Ul=/^__.*__$/,Fl=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Go(t,this.data,this.Gt,e,this.fieldTransforms):new Fo(t,this.data,e,this.fieldTransforms)},t}(),Gl=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Go(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function ql(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tr()}}var Bl=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ch(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(ql(this.k_)&&Ul.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),zl=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Vc(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Bl({k_:t,methodName:e,j_:n,path:Wr.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function Hl(t){var e=t.p_(),n=Vc(t.I_);return new zl(t.I_,!!e.ignoreUndefinedProperties,n)}function Kl(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);oh("Data must be an object, but it was:",a,r);var s,u,c=rh(r,a);if(o.merge)s=new $r(a.Gt),u=a.fieldTransforms;else if(o.mergeFields){for(var f=[],l=0,h=o.mergeFields;l<h.length;l++){var d=ah(e,h[l],n);if(!a.contains(d))throw new jr(Dr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");fh(f,d)||f.push(d)}s=new $r(f),u=a.fieldTransforms.filter((function(t){return s.Tt(t.field)}))}else s=null,u=a.fieldTransforms;return new Fl(new Ii(c),s,u)}var Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(gl);function Wl(t,e,n){return new Bl({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var Zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.prototype.z_=function(t){return new Ao(t.path,new Eo)},e.prototype.isEqual=function(t){return t instanceof e},e}(gl),Xl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return(0,pr.ZT)(e,t),e.prototype.z_=function(t){var e=Wl(this,t,!0),n=this.H_.map((function(t){return nh(t,e)})),r=new Io(n);return new Ao(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gl),Yl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return(0,pr.ZT)(e,t),e.prototype.z_=function(t){var e=Wl(this,t,!0),n=this.H_.map((function(t){return nh(t,e)})),r=new Oo(n);return new Ao(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gl),Ql=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return(0,pr.ZT)(e,t),e.prototype.z_=function(t){var e=new So(t.Qt,mo(t.Qt,this.J_));return new Ao(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(gl);function $l(t,e,n,r){var i=t.G_(1,e,n);oh("Data must be an object, but it was:",i,r);var o=[],a=new Ti;Yr(r,(function(t,r){var s=uh(e,t,n);r instanceof bl&&(r=r.d_);var u=i.U_(s);if(r instanceof Jl)o.push(s);else{var c=nh(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new $r(o);return new Gl(a.Pt(),s,i.fieldTransforms)}function th(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[ah(e,r,n)],u=[i];if(o.length%2!=0)throw new jr(Dr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(ah(e,o[c])),u.push(o[c+1]);for(var f=[],l=new Ti,h=s.length-1;h>=0;--h)if(!fh(f,s[h])){var d=s[h],p=u[h];p instanceof bl&&(p=p.d_);var v=a.U_(d);if(p instanceof Jl)f.push(d);else{var y=nh(p,v);null!=y&&(f.push(d),l.set(d,y))}}var m=new $r(f);return new Gl(l.Pt(),m,a.fieldTransforms)}function eh(t,e,n,r){return void 0===r&&(r=!1),nh(n,t.G_(r?4:3,e))}function nh(t,e){if(t instanceof bl&&(t=t.d_),ih(t))return oh("Unsupported field value:",e,t),rh(t,e);if(t instanceof gl)return function(t,e){if(!ql(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=nh(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof bl&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return mo(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Br.fromDate(t);return{timestampValue:Aa(e.Qt,n)}}if(t instanceof Br)return n=new Br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Aa(e.Qt,n)};if(t instanceof Vl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rr)return{bytesValue:Pa(e.Qt,t.I)};if(t instanceof Pl){n=e.t;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ja(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Ol(t))}(t,e)}function rh(t,e){var n={};return Qr(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):Yr(t,(function(t,r){var i=nh(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function ih(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Br||t instanceof Vl||t instanceof Rr||t instanceof Pl||t instanceof gl)}function oh(t,e,n){if(!ih(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ol(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function ah(t,e,n){if(e instanceof bl&&(e=e.d_),e instanceof ml)return e.f_;if("string"==typeof e)return uh(t,e);throw ch("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var sh=new RegExp("[~\\*/\\[\\]]");function uh(t,e,n){if(e.search(sh)>=0)throw ch("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ml.bind.apply(ml,(0,pr.pr)([void 0],e.split("."))))).f_}catch(I){throw ch("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ch(t,e,n,r,i){var o=r&&!r.et(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new jr(Dr.INVALID_ARGUMENT,(s+=". ")+t+u)}function fh(t,e){return t.some((function(t){return t.isEqual(e)}))}var lh=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new jr(Dr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,pr.Jh)(this,(function(u){switch(u.label){case 0:return n=Nr(t),r=Fa(n.Qt)+"/documents",i={documents:e.map((function(t){return La(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Or(!!e.found),e.found.name,e.found.updateTime;var n=Ma(t,e.found.name),r=Da(e.found.updateTime),i=new Ii({mapValue:{fields:e.found.fields}});return new Si(n,r,i,{})}(t,e):"missing"in e?function(t,e){Or(!!e.missing),Or(!!e.readTime);var n=Ma(t,e.missing),r=Da(e.readTime);return new ki(n,r)}(t,e):Tr()}(n.Qt,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Or(!!e),s.push(e)})),s)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ki||t instanceof Si?n.sf(t):Tr()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Wo(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Zr._t(n);e.mutations.push(new Zo(r,e.jt(r)))})),[4,function(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return n=Nr(t),r=Fa(n.Qt)+"/documents",i={writes:e.map((function(t){return za(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Si)e=t.version;else{if(!(t instanceof ki))throw Tr();e=zr.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new jr(Dr.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Co.updateTime(e):Co.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(zr.min()))throw new jr(Dr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Co.updateTime(e)}return Co.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),hh=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Uc(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.$u((function(){return(0,pr.mG)(t,void 0,void 0,(function(){var t,e,n=this;return(0,pr.Jh)(this,(function(r){return t=new lh(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!si(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yo(e)}return!1},t}(),dh=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Lr.UNAUTHENTICATED,this.clientId=kr.u(),this._f=function(){},this.C=new as,this.credentials.v((function(t){wr("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new jr(Dr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new as;return this._s.Tf((function(){return(0,pr.mG)(t,void 0,void 0,(function(){var t,n;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=gs(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function ph(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return t._s.Af(),wr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return(0,pr.mG)(i,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(t){switch(t.label){case 0:return[4,Yu(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function vh(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,yh(t)];case 1:return n=i.sent(),wr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return(0,pr.mG)(this,void 0,void 0,(function(){var n,r;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return(n=Nr(t))._s.Af(),wr("RemoteStore","RemoteStore received new credentials"),r=tf(n),n.Nh.add(3),[4,Jc(n)];case 1:return i.sent(),r&&n.kh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Kc(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function yh(t){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(wr("FirestoreClient","Using default OfflineComponentProvider"),[4,ph(t,new hl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function mh(t){return(0,pr.mG)(this,void 0,void 0,(function(){return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(wr("FirestoreClient","Using default OnlineComponentProvider"),[4,vh(t,new vl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function gh(t){return yh(t).then((function(t){return t.persistence}))}function bh(t){return yh(t).then((function(t){return t.bh}))}function wh(t){return mh(t).then((function(t){return t.yl}))}function _h(t){return mh(t).then((function(t){return t._a}))}function Eh(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e,n;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:return[4,mh(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Rf.bind(null,e._a),n.Hh=Mf.bind(null,e._a),n)]}}))}))}function Ih(t,e,n){var r=this;void 0===n&&(n={});var i=new as;return t._s.Ps((function(){return(0,pr.mG)(r,void 0,void 0,(function(){var r;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new yl({next:function(o){e.Ps((function(){return _f(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new jr(Dr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new jr(Dr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Of(Qi(n.path),o,{includeMetadataChanges:!0,nl:!0});return wf(t,a)},[4,Eh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function Th(t,e,n){var r=this;void 0===n&&(n={});var i=new as;return t._s.Ps((function(){return(0,pr.mG)(r,void 0,void 0,(function(){var r;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new yl({next:function(n){e.Ps((function(){return _f(t,a)})),n.fromCache&&"server"===r.source?i.reject(new jr(Dr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Of(n,o,{includeMetadataChanges:!0,nl:!0});return wf(t,a)},[4,Eh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var Oh=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Uc(this,"async_queue_retry"),this.vf=function(){var e=Mc();e&&wr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Mc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Mc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!hs(t=n.sent()))throw t;return wr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.$u((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,_r("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=ms.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Tr()},t.prototype.Af=function(){},t.prototype.Nf=function(){return(0,pr.mG)(this,void 0,void 0,(function(){var t;return(0,pr.Jh)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Nh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.Mf={},this.Lf=new as,this.$f={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Mf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Lf.promise.catch(t)},t.prototype.then=function(t,e){return this.Lf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.Mf.complete&&this.Mf.complete(),this.Lf.resolve(t)},t.prototype.Kl=function(t){this.$f.taskState="Error",this.Mf.next&&this.Mf.next(this.$f),this.Mf.error&&this.Mf.error(t),this.Lf.reject(t)},t.prototype.Ul=function(t){this.$f=t,this.Mf.next&&this.Mf.next(t)}}();var Sh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Oh,r.w_="name"in e?e.name:"[DEFAULT]",r}return(0,pr.ZT)(e,t),e.prototype.b_=function(){return this.qf||xh(this),this.qf.terminate()},e}(Al);function kh(t){return t.qf||xh(t),t.qf.df(),t.qf}function xh(t){var e=t.p_(),n=function(t,e,n){return new yr(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new dh(t.m_,t.Bf,n)}function Ah(t,e,n){var r=this,i=new as;return t._s.enqueue((function(){return(0,pr.mG)(r,void 0,void 0,(function(){var r;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ph(t,n)];case 1:return o.sent(),[4,vh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Dr.FAILED_PRECONDITION||t.code===Dr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Ph(t){if(t.R_||t.P_)throw new jr(Dr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ch=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),fi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ni(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(ri(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Tr()}},t.prototype.Hf=function(t,e){var n=this,r={};return Yr(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new Vl(ni(t.latitude),ni(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=oi(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(ai(t));default:return null}},t.prototype.Qf=function(t){var e=ei(t);return new Br(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=Kr.ot(t);Or(os(n));var r=new mr(n.get(1),n.get(3)),i=new Zr(n.Y(5));return r.isEqual(e)||_r("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Dh=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Pl(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new jh(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Rh("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Dh);function Rh(t,e){return"string"==typeof e?uh(t,e):e instanceof bl?e.d_.f_:e.f_}function Lh(t){if(to(t)&&0===t.xt.length)throw new jr(Dr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mh=function(){};function Vh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return(0,pr.ZT)(e,t),e.prototype.td=function(t){var e=Hl(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new jr(Dr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Kh(a,o);for(var u=[],c=0,f=a;c<f.length;c++){var l=f[c];u.push(Hh(r,t,l))}s={arrayValue:{values:u}}}else s=Hh(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Kh(a,o),s=eh(n,"where",a,"in"===o||"not-in"===o);var h=Ri.create(i,o,s);return function(t,e){if(e.Ct()){var n=no(t);if(null!==n&&!n.isEqual(e.field))throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=eo(t);null!==r&&Jh(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new jr(Dr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new jr(Dr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Cl(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Xi(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Mh),Fh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return(0,pr.ZT)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ki(e,n);return function(t,e){if(null===eo(t)){var n=no(t);null!==n&&Jh(t,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Cl(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new Xi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Mh),Gh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return(0,pr.ZT)(e,t),e.prototype.td=function(t){return new Cl(t.firestore,t.v_,ao(t.C_,this.od,this.ad))},e}(Mh),qh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return(0,pr.ZT)(e,t),e.prototype.td=function(t){var e=zh(t,this.type,this.ud,this.hd);return new Cl(t.firestore,t.v_,function(t,e){return new Xi(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Mh),Bh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return(0,pr.ZT)(e,t),e.prototype.td=function(t){var e=zh(t,this.type,this.ud,this.hd);return new Cl(t.firestore,t.v_,function(t,e){return new Xi(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Mh);function zh(t,e,n,r){if(n[0]instanceof bl&&(n[0]=n[0].d_),n[0]instanceof Dh)return function(t,e,n,r,i){if(!r)throw new jr(Dr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=io(t);a<s.length;a++){var u=s[a];if(u.field.ut())o.push(mi(e,r.key));else{var c=r.field(u.field);if(ii(c))throw new jr(Dr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=u.field.rt();throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(c)}}return new zi(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=Hl(t.firestore);return function(t,e,n,r,i,o){var a=t.xt;if(i.length>a.length)throw new jr(Dr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.ut()){if("string"!=typeof c)throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ro(t)&&-1!==c.indexOf("/"))throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var f=t.path.child(Kr.ot(c));if(!Zr.wt(f))throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var l=new Zr(f);s.push(mi(e,l))}else{var h=eh(n,r,c);s.push(h)}}return new zi(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Hh(t,e,n){if(n instanceof bl&&(n=n.d_),"string"==typeof n){if(""===n)throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ro(e)&&-1!==n.indexOf("/"))throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Kr.ot(n));if(!Zr.wt(r))throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return mi(t,new Zr(r))}if(n instanceof Pl)return mi(t,n.S_);throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ol(n)+".")}function Kh(t,e){if(!Array.isArray(t)||0===t.length)throw new jr(Dr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new jr(Dr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Jh(t,e,n){if(!n.isEqual(e))throw new jr(Dr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Wh(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Zh=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,pr.ZT)(e,t),e.prototype.Wf=function(t){return new Rr(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Pl(this.firestore,null,e)},e}(Ch),Xh=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Yh=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).Yf=e,s.ld=e,s.metadata=o,s}return(0,pr.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new Qh(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Rh("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Dh),Qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Yh),$h=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Xh(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new Qh(n.Yf,n.Xf,r.key,r,new Xh(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new jr(Dr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){var r=new Qh(t.Yf,t.Xf,e.doc.key,e.doc,new Xh(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Qh(t.Yf,t.Xf,e.doc.key,e.doc,new Xh(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:td(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();function td(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tr()}}function ed(t,e){return t instanceof Yh&&e instanceof Yh?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof $h&&e instanceof $h&&t.Yf===e.Yf&&Ml(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var nd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,pr.ZT)(e,t),e.prototype.Wf=function(t){return new Rr(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Pl(this.firestore,null,e)},e}(Ch);function rd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Nl(t,Pl);var o=Nl(t.firestore,Sh),a=Hl(o);return e instanceof bl&&(e=e.d_),od(o,[("string"==typeof e||e instanceof ml?th(a,"updateDoc",t.S_,e,n,r):$l(a,"updateDoc",t.S_,e)).F_(t.S_,Co.exists(!0))])}function id(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof bl&&(t=t.d_);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Nh(i[s])||(a=i[s],s++);var u,c,f,l={includeMetadataChanges:a.includeMetadataChanges};if(Nh(i[s])){var h=i[s];i[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof Pl)c=Nl(t.firestore,Sh),f=Qi(t.S_.path),u={next:function(e){i[s]&&i[s](ad(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Nl(t,Cl);c=Nl(d.firestore,Sh),f=d.C_;var p=new nd(c);u={next:function(t){i[s]&&i[s](new $h(c,p,d,t))},error:i[s+1],complete:i[s+2]},Lh(t.C_)}return function(t,e,n,r){var i=this,o=new yl(r),a=new Of(e,o,n);return t._s.Ps((function(){return(0,pr.mG)(i,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return e=wf,[4,Eh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return(0,pr.mG)(i,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return e=_f,[4,Eh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(kh(c),f,l,u)}function od(t,e){return function(t,e){var n=this,r=new as;return t._s.Ps((function(){return(0,pr.mG)(n,void 0,void 0,(function(){var n;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return n=Vf,[4,_h(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(kh(t),e)}function ad(t,e,n){var r=n.docs.get(e.S_),i=new nd(t);return new Yh(t,i,e.S_,r,new Xh(n.hasPendingWrites,n.fromCache),e.v_)}var sd=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=Hl(t)}return t.prototype.set=function(t,e,n){this.md();var r=ud(t,this.Yf),i=Wh(r.v_,e,n),o=Kl(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Co.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,a=ud(t,this.Yf);return e instanceof bl&&(e=e.d_),o="string"==typeof e||e instanceof ml?th(this.Id,"WriteBatch.update",a.S_,e,n,r):$l(this.Id,"WriteBatch.update",a.S_,e),this.Ed.push(o.F_(a.S_,Co.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=ud(t,this.Yf);return this.Ed=this.Ed.concat(new Wo(e.S_,Co.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new jr(Dr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ud(t,e){if(t instanceof bl&&(t=t.d_),t.firestore!==e)throw new jr(Dr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return(0,pr.ZT)(e,t),e.prototype.get=function(e){var n=this,r=ud(e,this.Yf),i=new nd(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new Yh(n.Yf,i,r.S_,t.Zf,new Xh(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=Hl(t)}return t.prototype.get=function(t){var e=this,n=ud(t,this.Yf),r=new Zh(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Tr();var i=t[0];if(i instanceof ki)return new Dh(e.Yf,r,n.S_,null,n.v_);if(i instanceof Si)return new Dh(e.Yf,r,i.key,i,n.v_);throw Tr()}))},t.prototype.set=function(t,e,n){var r=ud(t,this.Yf),i=Wh(r.v_,e,n),o=Kl(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=ud(t,this.Yf);return e instanceof bl&&(e=e.d_),o="string"==typeof e||e instanceof ml?th(this.Id,"Transaction.update",a.S_,e,n,r):$l(this.Id,"Transaction.update",a.S_,e),this.Ad.update(a.S_,o),this},t.prototype.delete=function(t){var e=ud(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function fd(){if("undefined"==typeof Uint8Array)throw new jr(Dr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ld(){if("undefined"==typeof atob)throw new jr(Dr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.fromBase64String=function(t){return ld(),new e(Rr.fromBase64String(t))},e.fromUint8Array=function(t){return fd(),new e(Rr.fromUint8Array(t))},e.prototype.toBase64=function(){return ld(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return fd(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(bl),dd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ph(t=Nl(t,Sh));var n=kh(t),r=t.p_(),i=new vl;return Ah(n,i,new dl(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ph(t=Nl(t,Sh));var e=kh(t),n=t.p_(),r=new vl;return Ah(e,r,new pl(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new jr(Dr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new as;return t.Bf.Tf((function(){return(0,pr.mG)(e,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return cs.Kn()?(e=t+"main",[4,cs.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(zu(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),pd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof mr||(i.Pd=e),i}return(0,pr.ZT)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Nl(t,Al)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Er("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return(0,pr.mG)(e,void 0,void 0,(function(){var e,n;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:return[4,gh(t)];case 1:return e=r.sent(),[4,wh(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Nr(t);return e.Nh.delete(0),Kc(e)}(n))]}}))}))}))}(kh(Nl(this.d_,Sh)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return(0,pr.mG)(e,void 0,void 0,(function(){var e,n;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:return[4,gh(t)];case 1:return e=r.sent(),[4,wh(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return(0,pr.mG)(this,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return(e=Nr(t)).Nh.add(0),[4,Jc(e)];case 1:return n.sent(),e.kh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(kh(Nl(this.d_,Sh)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&El("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new as;return t._s.Ps((function(){return(0,pr.mG)(e,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(r){switch(r.label){case 0:return e=zf,[4,_h(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(kh(Nl(this.d_,Sh)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new yl(e);return t._s.Ps((function(){return(0,pr.mG)(n,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Nr(t).Wh.add(e),e.next()},[4,Eh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return(0,pr.mG)(n,void 0,void 0,(function(){var e;return(0,pr.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Nr(t).Wh.delete(e)},[4,Eh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(kh(t=Nl(t,Sh)),Nh(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new jr(Dr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new kd(this,jl(this.d_,t))}catch(t){throw wd(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new bd(this,Rl(this.d_,t))}catch(t){throw wd(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Od(this,function(t,e){if(t=Nl(t,Al),wl("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jr(Dr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Cl(t,null,function(t){return new Xi(Kr.ct(),t)}(e))}(this.d_,t))}catch(t){throw wd(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new as;return t._s.Ps((function(){return(0,pr.mG)(n,void 0,void 0,(function(){var n;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(t){return mh(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new hh(t._s,n,e,r).run(),[2]}}))}))})),r.promise}(kh(t),(function(n){return e(new cd(t,n))}))}(this.d_,(function(n){return t(new yd(e,n))}))},e.prototype.batch=function(){var t=this;return kh(this.d_),new md(new sd(this.d_,(function(e){return od(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new jr(Dr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new jr(Dr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(bl),vd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,pr.ZT)(e,t),e.prototype.Wf=function(t){return new hd(new Rr(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return bd.yd(e,this.firestore,null)},e}(Ch);var yd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new vd(e),r}return(0,pr.ZT)(e,t),e.prototype.get=function(t){var e=this,n=xd(t);return this.d_.get(n).then((function(t){return new Id(e.Yf,new Yh(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=xd(t);return n?(_l("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=xd(t);return 2===arguments.length?this.d_.update(a,e):(r=this.d_).update.apply(r,(0,pr.pr)([a,e,n],i)),this},e.prototype.delete=function(t){var e=xd(t);return this.d_.delete(e),this},e}(bl),md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.prototype.set=function(t,e,n){var r=xd(t);return n?(_l("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=xd(t);return 2===arguments.length?this.d_.update(a,e):(r=this.d_).update.apply(r,(0,pr.pr)([a,e,n],i)),this},e.prototype.delete=function(t){var e=xd(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(bl),gd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return(0,pr.ZT)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Qh(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Td(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new vd(t),n),i.set(n,o)),o},e}(bl);gd.Vd=new WeakMap;var bd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new vd(e),r}return(0,pr.ZT)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new jr(Dr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Pl(n.d_,r,new Zr(t)))},e.yd=function(t,n,r){return new e(n,new Pl(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new kd(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new kd(this.firestore,jl(this.d_,t))}catch(t){throw wd(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof bl&&(t=t.d_),t instanceof Pl&&Ll(this.d_,t)},e.prototype.set=function(t,e){e=_l("DocumentReference.set",e);try{return function(t,e,n){t=Nl(t,Pl);var r=Nl(t.firestore,Sh),i=Wh(t.v_,e,n);return od(r,[Kl(Hl(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Co.Kt())])}(this.d_,t,e)}catch(t){throw wd(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?rd(this.d_,t):rd.apply(void 0,(0,pr.pr)([this.d_,t,e],n))}catch(t){throw wd(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return od(Nl((t=this.d_).firestore,Sh),[new Wo(t.S_,Co.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_d(e),i=Ed(e,(function(e){return new Id(t.firestore,new Yh(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return id(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Nl(t,Pl);var e=Nl(t.firestore,Sh),n=kh(e),r=new nd(e);return function(t,e){var n=this,r=new as;return t._s.Ps((function(){return(0,pr.mG)(n,void 0,void 0,(function(){var n;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i;return(0,pr.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Nr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Si?n.resolve(i):i instanceof ki?n.resolve(null):n.reject(new jr(Dr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=gs(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,bh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Yh(e,r,t.S_,n,new Xh(n instanceof Si&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Nl(t,Pl);var e=Nl(t.firestore,Sh);return Ih(kh(e),t.S_,{source:"server"}).then((function(n){return ad(e,t,n)}))}(this.d_):function(t){t=Nl(t,Pl);var e=Nl(t.firestore,Sh);return Ih(kh(e),t.S_).then((function(n){return ad(e,t,n)}))}(this.d_)).then((function(t){return new Id(e.firestore,new Yh(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(gd.gd(this.firestore,t)))},e}(bl);function wd(t,e,n){return t.message=t.message.replace(e,n),t}function _d(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Nh(r))return r}return{}}function Ed(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Nh(t[0])?t[0]:Nh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Id=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return(0,pr.ZT)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new bd(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return ed(this.d_,t.d_)},e}(bl),Td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Id),Od=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new vd(e),r}return(0,pr.ZT)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Vh(this.d_,function(t,e,n){var r=e,i=Rh("where",t);return new Uh(i,r,n)}(t,n,r)))}catch(t){throw wd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Vh(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Rh("orderBy",t);return new Fh(r,n)}(t,n)))}catch(t){throw wd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Vh(this.d_,function(t){return Sl("limit",t),new Gh("limit",t,"F")}(t)))}catch(t){throw wd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Vh(this.d_,function(t){return Sl("limitToLast",t),new Gh("limitToLast",t,"L")}(t)))}catch(t){throw wd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vh(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qh("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw wd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vh(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qh("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw wd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vh(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bh("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw wd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vh(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bh("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw wd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Ml(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Nl(t,Cl);var e=Nl(t.firestore,Sh),n=kh(e),r=new nd(e);return function(t,e){var n=this,r=new as;return t._s.Ps((function(){return(0,pr.mG)(n,void 0,void 0,(function(){var n;return(0,pr.Jh)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,pr.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,pr.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,oc(t,e,!0)];case 1:return s=u.sent(),r=new Pf(e,s.Rc),i=r.fl(s.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=gs(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,bh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new $h(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Nl(t,Cl);var e=Nl(t.firestore,Sh),n=kh(e),r=new nd(e);return Th(n,t.C_,{source:"server"}).then((function(n){return new $h(e,r,t,n)}))}(this.d_):function(t){t=Nl(t,Cl);var e=Nl(t.firestore,Sh),n=kh(e),r=new nd(e);return Lh(t.C_),Th(n,t.C_).then((function(n){return new $h(e,r,t,n)}))}(this.d_)).then((function(t){return new Sd(e.firestore,new $h(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=_d(e),i=Ed(e,(function(e){return new Sd(t.firestore,new $h(t.firestore.d_,t.Xf,t.d_,e._d))}));return id(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(gd.gd(this.firestore,t)))},e}(bl),Nd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return(0,pr.ZT)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Td(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(bl),Sd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return(0,pr.ZT)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Od(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new Td(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new Nd(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new Td(n.Yf,r))}))},e.prototype.isEqual=function(t){return ed(this.d_,t.d_)},e}(bl),kd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return(0,pr.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new bd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new bd(this.firestore,void 0===t?Rl(this.d_):Rl(this.d_,t))}catch(t){throw wd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Nl(t.firestore,Sh),r=Rl(t),i=Wh(t.v_,e);return od(n,[Kl(Hl(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Co.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new bd(e.firestore,t)}))},e.prototype.isEqual=function(t){return Ll(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(gd.gd(this.firestore,t)))},e}(Od);function xd(t){return t instanceof bl&&(t=t.d_),Nl(t,Pl)}var Ad=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(ml.bind.apply(ml,(0,pr.pr)([void 0],e))))||this}return(0,pr.ZT)(e,t),e.documentId=function(){return new e(Wr.ht().rt())},e.prototype.isEqual=function(t){return t instanceof bl&&(t=t.d_),t instanceof ml&&this.d_.f_.isEqual(t.f_)},e}(bl),Pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,pr.ZT)(e,t),e.serverTimestamp=function(){var t=new Zl("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Jl("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xl("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yl("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ql("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(bl);var Cd,Dd=n(909),jd={Firestore:pd,GeoPoint:Vl,Timestamp:Br,Blob:hd,Transaction:yd,WriteBatch:md,DocumentReference:bd,DocumentSnapshot:Id,Query:Od,QueryDocumentSnapshot:Td,QuerySnapshot:Sd,CollectionReference:kd,FieldPath:Ad,FieldValue:Pd,setLogLevel:function(t){var e;e=t,gr.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Dd.wA("firestore",(function(t){return function(t,e){return new pd(t,new Sh(t,e),new dd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},jd)))})(Cd=i.Z),Cd.registerVersion("@firebase/firestore","2.1.5");0===r.Z.apps.length?(r.Z.initializeApp({apiKey:"AIzaSyDWB8GOnZTodEnWidPKFN3tN212wbGVYto",authDomain:"dumitru-malic.firebaseapp.com",databaseURL:"https://dumitru-malic-default-rtdb.firebaseio.com",projectId:"dumitru-malic",storageBucket:"dumitru-malic.appspot.com",messagingSenderId:"105989324230",appId:"1:105989324230:web:33bba09bd6769c86e786c7",measurementId:"G-2BFFX5HMLT"}),r.Z.firestore().settings({experimentalForceLongPolling:!0})):console.log("firebase apps already running...");var Rd=r.Z.auth(),Ld=r.Z.firestore(),Md={signInFlow:"popup",signInOptions:[r.Z.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}}},3367:function(t,e,n){"use strict";var r;e.__esModule=!0,e.AmpStateContext=void 0;var i=((r=n(7294))&&r.__esModule?r:{default:r}).default.createContext({});e.AmpStateContext=i},7845:function(t,e,n){"use strict";e.__esModule=!0,e.isInAmpMode=a,e.useAmp=function(){return a(i.default.useContext(o.AmpStateContext))};var r,i=(r=n(7294))&&r.__esModule?r:{default:r},o=n(3367);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,r=t.hybrid,i=void 0!==r&&r,o=t.hasQuery,a=void 0!==o&&o;return n||i&&a}},7947:function(t,e,n){"use strict";var r=n(9713);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.__esModule=!0,e.defaultHead=h,e.default=void 0;var o,a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(7294)),s=(o=n(617))&&o.__esModule?o:{default:o},u=n(3367),c=n(4287),f=n(7845);function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function h(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[a.default.createElement("meta",{charSet:"utf-8"})];return t||e.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),e}function d(t,e){return"string"===typeof e||"number"===typeof e?t:e.type===a.default.Fragment?t.concat(a.default.Children.toArray(e.props.children).reduce((function(t,e){return"string"===typeof e||"number"===typeof e?t:t.concat(e)}),[])):t.concat(e)}var p=["name","httpEquiv","charSet","itemProp"];function v(t,e){return t.reduce((function(t,e){var n=a.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(d,[]).reverse().concat(h(e.inAmpMode)).filter(function(){var t=new Set,e=new Set,n=new Set,r={};return function(i){var o=!0,a=!1;if(i.key&&"number"!==typeof i.key&&i.key.indexOf("$")>0){a=!0;var s=i.key.slice(i.key.indexOf("$")+1);t.has(s)?o=!1:t.add(s)}switch(i.type){case"title":case"base":e.has(i.type)?o=!1:e.add(i.type);break;case"meta":for(var u=0,c=p.length;u<c;u++){var f=p[u];if(i.props.hasOwnProperty(f))if("charSet"===f)n.has(f)?o=!1:n.add(f);else{var l=i.props[f],h=r[f]||new Set;"name"===f&&a||!h.has(l)?(h.add(l),r[f]=h):o=!1}}}return o}}()).reverse().map((function(t,n){var o=t.key||n;if(!e.inAmpMode&&"link"===t.type&&t.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((function(e){return t.props.href.startsWith(e)}))){var s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.props||{});return s["data-href"]=s.href,s.href=void 0,s["data-optimized-fonts"]=!0,a.default.cloneElement(t,s)}return a.default.cloneElement(t,{key:o})}))}function y(t){var e=t.children,n=(0,a.useContext)(u.AmpStateContext),r=(0,a.useContext)(c.HeadManagerContext);return a.default.createElement(s.default,{reduceComponentsToState:v,headManager:r,inAmpMode:(0,f.isInAmpMode)(n)},e)}y.rewind=function(){};var m=y;e.default=m},617:function(t,e,n){"use strict";var r=n(319),i=n(4575),o=n(3913),a=(n(1506),n(2205)),s=n(8585),u=n(9754);function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}e.__esModule=!0,e.default=void 0;var f=n(7294),l=function(t){a(n,t);var e=c(n);function n(t){var o;return i(this,n),(o=e.call(this,t))._hasHeadManager=void 0,o.emitChange=function(){o._hasHeadManager&&o.props.headManager.updateHead(o.props.reduceComponentsToState(r(o.props.headManager.mountedInstances),o.props))},o._hasHeadManager=o.props.headManager&&o.props.headManager.mountedInstances,o}return o(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(f.Component);e.default=l},5884:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(7294),i=(n(2702),n(3872)),o={modalHeader:{base:"mb-2 text-lg font-semibold text-gray-700 dark:text-gray-300"},modal:{base:"w-full h-auto px-6 py-4 overflow-hidden bg-white rounded-t-lg dark:bg-gray-800 sm:rounded-lg sm:m-4 sm:max-w-xl"},modalBody:{base:"mb-6 max-h-64 overflow-y-scroll scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-900 text-sm rounded-t-lg scrollbar-thumb-rounded"},card:{base:"transition min-w-0 rounded-lg shadow-xs overflow-hidden",default:"bg-white dark:bg-gray-800"},cardBody:{base:"transition p-4"},alert:{danger:"bg-red-200 text-red-900 dark:bg-red-500 dark:text-white",icon:{danger:"text-red-700 dark:text-white"}}},a=n(7651),s=n(9008),u=!1,c=function(t){var e=t.href,n=(0,r.useRef)(!1),i=(0,r.useState)(!1)[1];return(0,r.useEffect)((function(){n.current||(u=!0,n.current=!0,i(!0))}),[]),(0,r.createElement)(s.default,null,(0,r.createElement)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,r.createElement)("link",{rel:"preload",as:"style",href:e}),(0,r.createElement)("link",{href:e,rel:"stylesheet",media:u?"all":"print"}),(0,r.createElement)("noscript",null,(0,r.createElement)("link",{href:e,rel:"stylesheet"})))},f=r.createElement;var l=function(t){var e=t.Component,n=t.pageProps;return f(r.Fragment,null,f(c,{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"}),f(s.default,null,f("title",null,"Student Workout Helper"),f("meta",{name:"Description",content:"My home page"}),f("meta",{name:"title",property:"og:title",content:"Student helper App"}),f("meta",{property:"og:type",content:"Website"}),f("meta",{name:"image",property:"og:image",content:"https://live.staticflickr.com/65535/51211255247_6d6db32267_k.jpg"}),f("meta",{name:"description",property:"og:description",content:"Lift Workout App"}),f("meta",{name:"author",content:"Dumitru Malic"}),f("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),f("link",{rel:"dns-prefetch",href:"https://fonts.googleapis.com"}),f("link",{rel:"Lift Icon",type:"image/ico",href:"/dumbell.ico"}),f("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})),f(a.H,null,f(i.Windmill,{usePreferences:!0,theme:o},f(e,n))))}},1780:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(5884)}])},2702:function(){},9008:function(t,e,n){t.exports=n(7947)},1163:function(t,e,n){t.exports=n(2441)},4155:function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var s,u=[],c=!1,f=-1;function l(){c&&s&&(c=!1,s.length?u=s.concat(u):f=-1,u.length&&h())}function h(){if(!c){var t=a(l);c=!0;for(var e=u.length;e;){for(s=u,u=[];++f<e;)s&&s[f].run();f=-1,e=u.length}s=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},655:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return u},CR:function(){return c},fl:function(){return f},pr:function(){return l}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function l(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],(function(){return e(1780),e(2441)}));var n=t.O();_N_E=n}]);